var Oi=Object.defineProperty;var Di=(i,e,t)=>e in i?Oi(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var A=(i,e,t)=>Di(i,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();const Hi="modulepreload",Vi=function(i,e){return new URL(i,e).href},Ut={},gt=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){const r=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.all(t.map(a=>{if(a=Vi(a,n),a in Ut)return;Ut[a]=!0;const f=a.endsWith(".css"),_=f?'[rel="stylesheet"]':"";if(!!n)for(let h=r.length-1;h>=0;h--){const p=r[h];if(p.href===a&&(!f||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${_}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":Hi,f||(d.as="script",d.crossOrigin=""),d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),f)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})};function L(){}function pi(i){return i()}function Yt(){return Object.create(null)}function ae(i){i.forEach(pi)}function Et(i){return typeof i=="function"}function oe(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function Ni(i){return Object.keys(i).length===0}function vi(i,...e){if(i==null){for(const n of e)n(void 0);return L}const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function be(i,e,t){i.$$.on_destroy.push(vi(e,t))}function Bi(i,e,t){return i.set(t),e}function u(i,e){i.appendChild(e)}function I(i,e,t){i.insertBefore(e,t||null)}function S(i){i.parentNode&&i.parentNode.removeChild(i)}function _i(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function m(i){return document.createElement(i)}function $(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function R(i){return document.createTextNode(i)}function k(){return R(" ")}function gi(){return R("")}function B(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function Ct(i){return function(e){return e.preventDefault(),i.call(this,e)}}function Mt(i){return function(e){return e.stopPropagation(),i.call(this,e)}}function c(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function yt(i){let e;return{p(...t){e=t,e.forEach(n=>i.push(n))},r(){e.forEach(t=>i.splice(i.indexOf(t),1))}}}function xi(i){return Array.from(i.childNodes)}function me(i,e){e=""+e,i.data!==e&&(i.data=e)}function le(i,e){i.value=e??""}function Z(i,e,t,n){t==null?i.style.removeProperty(e):i.style.setProperty(e,t,"")}function Xt(i,e,t){for(let n=0;n<i.options.length;n+=1){const s=i.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(i.selectedIndex=-1)}function $i(i){const e=i.querySelector(":checked");return e&&e.__value}function Me(i,e,t){i.classList.toggle(e,!!t)}function zi(i,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:n})}class qi{constructor(e=!1){A(this,"is_svg",!1);A(this,"e");A(this,"n");A(this,"t");A(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=$(t.nodeName):this.e=m(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)I(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(S)}}let Je;function Ze(i){Je=i}function Ft(){if(!Je)throw new Error("Function called outside component initialization");return Je}function Tt(i){Ft().$$.on_mount.push(i)}function Wi(i){Ft().$$.on_destroy.push(i)}function ji(){const i=Ft();return(e,t,{cancelable:n=!1}={})=>{const s=i.$$.callbacks[e];if(s){const r=zi(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(i,r)}),!r.defaultPrevented}return!0}}const xe=[],ke=[];let $e=[];const Gt=[],Ui=Promise.resolve();let kt=!1;function Yi(){kt||(kt=!0,Ui.then(bi))}function ft(i){$e.push(i)}const bt=new Set;let Ne=0;function bi(){if(Ne!==0)return;const i=Je;do{try{for(;Ne<xe.length;){const e=xe[Ne];Ne++,Ze(e),Xi(e.$$)}}catch(e){throw xe.length=0,Ne=0,e}for(Ze(null),xe.length=0,Ne=0;ke.length;)ke.pop()();for(let e=0;e<$e.length;e+=1){const t=$e[e];bt.has(t)||(bt.add(t),t())}$e.length=0}while(xe.length);for(;Gt.length;)Gt.pop()();kt=!1,bt.clear(),Ze(i)}function Xi(i){if(i.fragment!==null){i.update(),ae(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(ft)}}function Gi(i){const e=[],t=[];$e.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),$e=e}const ut=new Set;let Se;function Fe(){Se={r:0,c:[],p:Se}}function Pe(){Se.r||ae(Se.c),Se=Se.p}function D(i,e){i&&i.i&&(ut.delete(i),i.i(e))}function V(i,e,t,n){if(i&&i.o){if(ut.has(i))return;ut.add(i),Se.c.push(()=>{ut.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function We(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Ki(i,e){V(i,1,1,()=>{e.delete(i.key)})}function Zi(i,e,t,n,s,r,o,l,a,f,_,v){let d=i.length,h=r.length,p=d;const g={};for(;p--;)g[i[p].key]=p;const y=[],M=new Map,T=new Map,w=[];for(p=h;p--;){const P=v(s,r,p),b=t(P);let C=o.get(b);C?w.push(()=>C.p(P,e)):(C=f(b,P),C.c()),M.set(b,y[p]=C),b in g&&T.set(b,Math.abs(p-g[b]))}const F=new Set,H=new Set;function E(P){D(P,1),P.m(l,_),o.set(P.key,P),_=P.first,h--}for(;d&&h;){const P=y[h-1],b=i[d-1],C=P.key,O=b.key;P===b?(_=P.first,d--,h--):M.has(O)?!o.has(C)||F.has(C)?E(P):H.has(O)?d--:T.get(C)>T.get(O)?(H.add(C),E(P)):(F.add(O),d--):(a(b,o),d--)}for(;d--;){const P=i[d];M.has(P.key)||a(P,o)}for(;h;)E(y[h-1]);return ae(w),y}function we(i){i&&i.c()}function pe(i,e,t){const{fragment:n,after_update:s}=i.$$;n&&n.m(e,t),ft(()=>{const r=i.$$.on_mount.map(pi).filter(Et);i.$$.on_destroy?i.$$.on_destroy.push(...r):ae(r),i.$$.on_mount=[]}),s.forEach(ft)}function ve(i,e){const t=i.$$;t.fragment!==null&&(Gi(t.after_update),ae(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Qi(i,e){i.$$.dirty[0]===-1&&(xe.push(i),Yi(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function ce(i,e,t,n,s,r,o=null,l=[-1]){const a=Je;Ze(i);const f=i.$$={fragment:null,ctx:[],props:r,update:L,not_equal:s,bound:Yt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Yt(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};o&&o(f.root);let _=!1;if(f.ctx=t?t(i,e.props||{},(v,d,...h)=>{const p=h.length?h[0]:d;return f.ctx&&s(f.ctx[v],f.ctx[v]=p)&&(!f.skip_bound&&f.bound[v]&&f.bound[v](p),_&&Qi(i,v)),d}):[],f.update(),_=!0,ae(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const v=xi(e.target);f.fragment&&f.fragment.l(v),v.forEach(S)}else f.fragment&&f.fragment.c();e.intro&&D(i.$$.fragment),pe(i,e.target,e.anchor),bi()}Ze(a)}class ue{constructor(){A(this,"$$");A(this,"$$set")}$destroy(){ve(this,1),this.$destroy=L}$on(e,t){if(!Et(t))return L;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Ni(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ji="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ji);function en(i){let e,t;return{c(){e=$("svg"),t=$("path"),c(t,"fill-rule","evenodd"),c(t,"clip-rule","evenodd"),c(t,"d","M5.11634 0.889422C4.86506 -0.296474 3.17237 -0.296474 2.92109 0.889422C2.78291 1.54158 2.10994 1.93011 1.47607 1.72371C0.323418 1.34837 -0.522932 2.81429 0.378448 3.62484C0.87414 4.07059 0.87414 4.84767 0.378448 5.29341C-0.522931 6.10397 0.323418 7.56989 1.47607 7.19455C2.10994 6.98814 2.78291 7.37668 2.92109 8.02883C3.17237 9.21473 4.86506 9.21473 5.11634 8.02883C5.25452 7.37668 5.92749 6.98814 6.56136 7.19455C7.71401 7.56989 8.56036 6.10397 7.65898 5.29341C7.16329 4.84767 7.16329 4.07059 7.65898 3.62484C8.56036 2.81429 7.71401 1.34837 6.56136 1.72371C5.92749 1.93011 5.25452 1.54158 5.11634 0.889422ZM4.01883 6.33408C5.05436 6.33408 5.89383 5.49462 5.89383 4.45908C5.89383 3.42355 5.05436 2.58408 4.01883 2.58408C2.98329 2.58408 2.14383 3.42355 2.14383 4.45908C2.14383 5.49462 2.98329 6.33408 4.01883 6.33408Z"),c(t,"fill","currentColor"),c(e,"width","9"),c(e,"height","9"),c(e,"viewBox","0 0 9 9"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(n,s){I(n,e,s),u(e,t)},p:L,i:L,o:L,d(n){n&&S(e)}}}class tn extends ue{constructor(e){super(),ce(this,e,null,en,oe,{})}}function nn(i){let e,t,n,s,r,o,l,a,f,_,v,d,h,p,g,y,M;return{c(){e=$("svg"),t=$("g"),n=$("path"),s=$("path"),r=$("defs"),o=$("filter"),l=$("feFlood"),a=$("feBlend"),f=$("feGaussianBlur"),_=$("linearGradient"),v=$("stop"),d=$("stop"),h=$("stop"),p=$("linearGradient"),g=$("stop"),y=$("stop"),M=$("stop"),c(n,"fill-rule","evenodd"),c(n,"clip-rule","evenodd"),c(n,"d","M30 9H10V11.5H30V9ZM30 19H12.5V21.5H30V19ZM12.5 14H32.5V16.5H12.5V14ZM20 24H12.5V26.5H20V24ZM12.5 29H20V31.5H12.5V29ZM22.5 34H10V36.5H22.5V34Z"),c(n,"fill","url(#paint0_linear_67_262)"),c(t,"opacity","0.5"),c(t,"filter","url(#filter0_f_67_262)"),c(s,"fill-rule","evenodd"),c(s,"clip-rule","evenodd"),c(s,"d","M30 9H10V11.5H30V9ZM30 19H12.5V21.5H30V19ZM12.5 14H32.5V16.5H12.5V14ZM20 24H12.5V26.5H20V24ZM12.5 29H20V31.5H12.5V29ZM22.5 34H10V36.5H22.5V34Z"),c(s,"fill","url(#paint1_linear_67_262)"),c(l,"flood-opacity","0"),c(l,"result","BackgroundImageFix"),c(a,"mode","normal"),c(a,"in","SourceGraphic"),c(a,"in2","BackgroundImageFix"),c(a,"result","shape"),c(f,"stdDeviation","3.39785"),c(f,"result","effect1_foregroundBlur_67_262"),c(o,"id","filter0_f_67_262"),c(o,"x","3.2043"),c(o,"y","2.2043"),c(o,"width","36.0914"),c(o,"height","41.0914"),c(o,"filterUnits","userSpaceOnUse"),c(o,"color-interpolation-filters","sRGB"),c(v,"stop-color","#FFAA00"),c(d,"offset","0.514478"),c(d,"stop-color","#FFEB00"),c(h,"offset","1"),c(h,"stop-color","#98FF05"),c(_,"id","paint0_linear_67_262"),c(_,"x1","7.3769"),c(_,"y1","18.4566"),c(_,"x2","20.6583"),c(_,"y2","33.1038"),c(_,"gradientUnits","userSpaceOnUse"),c(g,"stop-color","#FFC834"),c(y,"offset","0.514478"),c(y,"stop-color","#FAF534"),c(M,"offset","1"),c(M,"stop-color","#B8FF38"),c(p,"id","paint1_linear_67_262"),c(p,"x1","7.3769"),c(p,"y1","18.4566"),c(p,"x2","20.6583"),c(p,"y2","33.1038"),c(p,"gradientUnits","userSpaceOnUse"),c(e,"width","44"),c(e,"height","44"),c(e,"viewBox","0 0 44 44"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(T,w){I(T,e,w),u(e,t),u(t,n),u(e,s),u(e,r),u(r,o),u(o,l),u(o,a),u(o,f),u(r,_),u(_,v),u(_,d),u(_,h),u(r,p),u(p,g),u(p,y),u(p,M)},p:L,i:L,o:L,d(T){T&&S(e)}}}class sn extends ue{constructor(e){super(),ce(this,e,null,nn,oe,{})}}const Be=[];function on(i,e){return{subscribe:dt(i,e).subscribe}}function dt(i,e=L){let t;const n=new Set;function s(l){if(oe(i,l)&&(i=l,t)){const a=!Be.length;for(const f of n)f[1](),Be.push(f,i);if(a){for(let f=0;f<Be.length;f+=2)Be[f][0](Be[f+1]);Be.length=0}}}function r(l){s(l(i))}function o(l,a=L){const f=[l,a];return n.add(f),n.size===1&&(t=e(s,r)||L),l(i),()=>{n.delete(f),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:o}}function wi(i,e,t){const n=!Array.isArray(i),s=n?[i]:i;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return on(t,(o,l)=>{let a=!1;const f=[];let _=0,v=L;const d=()=>{if(_)return;v();const p=e(n?f[0]:f,o,l);r?o(p):v=Et(p)?p:L},h=s.map((p,g)=>vi(p,y=>{f[g]=y,_&=~(1<<g),a&&d()},()=>{_|=1<<g}));return a=!0,d(),function(){ae(h),v(),a=!1}})}var wt={local:{},session:{}};function rn(i){return i==="local"?localStorage:sessionStorage}function Pt(i,e,t){var n,s,r,o,l,a,f,_;t!=null&&t.onError&&console.warn("onError has been deprecated. Please use onWriteError instead");const v=(n=t==null?void 0:t.serializer)!=null?n:JSON,d=(s=t==null?void 0:t.storage)!=null?s:"local",h=(r=t==null?void 0:t.syncTabs)!=null?r:!0,p=(l=(o=t==null?void 0:t.onWriteError)!=null?o:t==null?void 0:t.onError)!=null?l:E=>console.error(`Error when writing value from persisted store "${i}" to ${d}`,E),g=(a=t==null?void 0:t.onParseError)!=null?a:(E,P)=>console.error(`Error when parsing ${E?'"'+E+'"':"value"} from persisted store "${i}"`,P),y=(f=t==null?void 0:t.beforeRead)!=null?f:E=>E,M=(_=t==null?void 0:t.beforeWrite)!=null?_:E=>E,T=typeof window<"u"&&typeof document<"u",w=T?rn(d):null;function F(E,P){const b=M(P);try{w==null||w.setItem(E,v.stringify(b))}catch(C){p(C)}}function H(){function E(O){try{return v.parse(O)}catch(z){g(O,z)}}const P=w==null?void 0:w.getItem(i);if(P==null)return e;const b=E(P);return b==null?e:y(b)}if(!wt[d][i]){const E=H(),P=dt(E,O=>{if(T&&d=="local"&&h){const z=J=>{if(J.key===i&&J.newValue){let x;try{x=v.parse(J.newValue)}catch(ee){g(J.newValue,ee);return}const Le=y(x);O(Le)}};return window.addEventListener("storage",z),()=>window.removeEventListener("storage",z)}}),{subscribe:b,set:C}=P;wt[d][i]={set(O){C(O),F(i,O)},update(O){return P.update(z=>{const J=O(z);return F(i,J),J})},reset(){this.set(e)},subscribe:b}}return wt[d][i]}function Kt(){return{collapseMode:"non-application",collapseCustomHide:"",collapseCustomShow:"",removeImportlib:!0,removeTracebackHide:!0,removePyinstrument:!0,removeIrrelevant:!0,removeIrrelevantThreshold:.001,timeFormat:"absolute"}}const K=Pt("pyinstrument:viewOptionsCallStack",Kt(),{syncTabs:!0,beforeRead(i){return{...Kt(),...i}}}),Qe=Pt("pyinstrument:viewOptions",{viewMode:"call-stack"},{syncTabs:!1}),Ke=Pt("pyinstrument:viewOptionsTimeline",{removeImportlib:!0,removeTracebackHide:!0,removePyinstrument:!0,removeIrrelevant:!0,removeIrrelevantThreshold:1e-4},{syncTabs:!0});class ln extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function an(i,e){const t=e*(i.length-1),n=Math.floor(t),s=Math.ceil(t),r=i[n],o=i[s],l=t-n;return un(l,{to:[r,o]})}function cn(i,e,t){return i===1/0?(console.warn("clamp: value is Infinity, returning `max`",i),t):i===-1/0?(console.warn("clamp: value is -Infinity, returning `min`",i),e):Number.isFinite(i)?i<e?e:i>t?t:i:(console.warn("clamp: value isn't finite, returning `min`",i),e)}function ze(i,e){const{from:t=[0,1],to:n=[0,1]}=e,s=e.clamp||!1;let r=(i-t[0])/(t[1]-t[0])*(n[1]-n[0])+n[0];return s&&(r=cn(r,Math.min(n[0],n[1]),Math.max(n[0],n[1]))),r}function un(i,e){return`rgb(
      ${ze(i,{from:e.from,to:[e.to[0][0],e.to[1][0]],clamp:e.clamp})},
      ${ze(i,{from:e.from,to:[e.to[0][1],e.to[1][1]],clamp:e.clamp})},
      ${ze(i,{from:e.from,to:[e.to[0][2],e.to[1][2]],clamp:e.clamp})}
    )`}function fn(i){if(i.substr(0,1)=="#"){var e=(i.length-1)/3,t=[17,1,.062272][e-1];return[Math.round(parseInt(i.substr(1,e),16)*t),Math.round(parseInt(i.substr(1+e,e),16)*t),Math.round(parseInt(i.substr(1+2*e,e),16)*t)]}else return i.split("(")[1].split(")")[0].split(",").map(n=>+n)}function dn(i,e,t={}){const{ignore:n=[],capture:s=!0}=t,r=window;if(!r)return()=>{};let o=!0,l=!1;const a=h=>n.some(p=>typeof p=="string"?Array.from(document.querySelectorAll(p)).some(g=>g===h.target||h.composedPath().includes(g)):p&&(h.target===p||h.composedPath().includes(p))),f=h=>{if(!(!i||i===h.target||h.composedPath().includes(i))){if(h.detail===0&&(o=!a(h)),!o){o=!0;return}e(h)}},_=h=>{l||(l=!0,setTimeout(()=>{l=!1},0),f(h))},v=h=>{o=!a(h)&&!!(i&&!h.composedPath().includes(i))};return r.addEventListener("click",_,{passive:!0,capture:s}),r.addEventListener("pointerdown",v,{passive:!0}),()=>{r.removeEventListener("click",_,{capture:s}),r.removeEventListener("pointerdown",v)}}function hn(i){const e=document.createElement("div");return e.appendChild(document.createTextNode(i)),e.innerHTML}function At(i){return hn(i).replace(/(\/|\\)/g,t=>`${t}<wbr>`)}function mn(i,e){if(i.length==0)return null;let t=i[0],n=e(t);for(const s of i){const r=e(s);r>n&&(t=s,n=r)}return t}function ht(){return Math.random().toString(36).substring(2)}function pn(i){let e,t,n,s,r,o,l,a,f,_,v,d,h,p,g,y,M,T,w,F,H,E,P,b,C,O,z,J,x,Le,ee,Q,U,Ae,W,je,Ue,re,j,Ye,te,fe,de,_e,he,ye,Xe,Te,G,Ie,Ee,Ge,q,N,Y,It,it,Ot,Dt,Oe,Ce,Ht,De,nt,Vt,Nt,ge,Bt,xt,He,st,$t,Ve,ot,rt,ie,zt,qt,lt,at,ne,Wt,pt,vt,_t,jt;return pt=yt(i[5][0]),vt=yt(i[5][1]),{c(){e=m("div"),t=m("div"),n=m("div"),n.textContent="Collapse frames",s=k(),r=m("div"),o=m("div"),l=m("input"),a=k(),f=m("label"),_=R("Library code"),v=k(),d=m("div"),d.textContent="Code run from the Python stdlib, a virtualenv, or a conda env will be collapsed.",h=k(),p=m("div"),g=m("input"),y=k(),M=m("label"),T=R("Custom"),w=k(),F=m("div"),H=R(`Regex on the source file path.
          `),E=m("div"),P=m("label"),P.textContent="Show",b=k(),C=m("input"),O=k(),z=m("label"),z.textContent="Hide",J=k(),x=m("input"),Le=R(`
          If neither match, the library code rule is used.`),ee=k(),Q=m("div"),U=m("input"),Ae=k(),W=m("label"),je=R("Disabled"),Ue=k(),re=m("div"),j=m("div"),j.textContent="Remove frames",Ye=k(),te=m("div"),fe=m("div"),de=m("input"),_e=k(),he=m("label"),ye=R("importlib machinery"),Xe=k(),Te=m("div"),G=m("input"),Ie=k(),Ee=m("label"),Ge=R("Frames declaring __traceback_hide__"),q=k(),N=m("div"),Y=m("input"),It=k(),it=m("label"),Ot=R("pyinstrument frames"),Dt=k(),Oe=m("div"),Ce=m("input"),Ht=k(),De=m("span"),nt=m("label"),Vt=R("Frames with durations less than"),Nt=k(),ge=m("input"),Bt=R(`
          % of the total time`),xt=k(),He=m("div"),st=m("div"),st.textContent="Time format",$t=k(),Ve=m("div"),ot=m("div"),rt=m("label"),ie=m("input"),zt=R(`
          Absolute time in seconds`),qt=k(),lt=m("div"),at=m("label"),ne=m("input"),Wt=R(`
          Percentage of the total run time`),c(n,"class","name svelte-1pecl4m"),c(l,"id",i[1]+"collapseModeAll"),c(l,"type","radio"),l.__value="non-application",le(l,l.__value),c(l,"class","svelte-1pecl4m"),c(f,"for",i[1]+"collapseModeAll"),c(d,"class","description svelte-1pecl4m"),c(o,"class","option svelte-1pecl4m"),c(g,"id",i[1]+"collapseModeCustom"),c(g,"type","radio"),g.__value="custom",le(g,g.__value),c(g,"class","svelte-1pecl4m"),c(M,"for",i[1]+"collapseModeCustom"),c(P,"for","collapseCustomShow"),c(P,"class","svelte-1pecl4m"),c(C,"id","collapseCustomShow"),c(C,"type","text"),c(C,"placeholder","myproject"),c(C,"spellcheck","false"),c(C,"autocapitalize","off"),c(C,"autocomplete","off"),c(C,"autocorrect","off"),c(C,"class","svelte-1pecl4m"),c(z,"for","collapseCustomHide"),c(z,"class","svelte-1pecl4m"),c(x,"id","collapseCustomHide"),c(x,"type","text"),c(x,"placeholder",".*/lib/.*"),c(x,"spellcheck","false"),c(x,"autocapitalize","off"),c(x,"autocomplete","off"),c(x,"autocorrect","off"),c(x,"class","svelte-1pecl4m"),c(E,"class","mini-input-grid svelte-1pecl4m"),c(F,"class","description svelte-1pecl4m"),c(p,"class","option svelte-1pecl4m"),c(U,"id",i[1]+"collapseModeDisabled"),c(U,"type","radio"),U.__value="disabled",le(U,U.__value),c(U,"class","svelte-1pecl4m"),c(W,"for",i[1]+"collapseModeDisabled"),c(Q,"class","option svelte-1pecl4m"),c(r,"class","body"),c(t,"class","option-group svelte-1pecl4m"),c(j,"class","name svelte-1pecl4m"),c(de,"id",i[1]+"removeImportlib"),c(de,"type","checkbox"),c(de,"class","svelte-1pecl4m"),c(he,"for",i[1]+"removeImportlib"),c(fe,"class","option svelte-1pecl4m"),c(G,"id",i[1]+"removeTracebackHide"),c(G,"type","checkbox"),c(G,"class","svelte-1pecl4m"),c(Ee,"for",i[1]+"removeTracebackHide"),c(Te,"class","option svelte-1pecl4m"),c(Y,"id",i[1]+"removePyinstrument"),c(Y,"type","checkbox"),c(Y,"class","svelte-1pecl4m"),c(it,"for",i[1]+"removePyinstrument"),c(N,"class","option svelte-1pecl4m"),c(Ce,"id",i[1]+"removeIrrelevant"),c(Ce,"type","checkbox"),c(Ce,"class","svelte-1pecl4m"),c(nt,"for",i[1]+"removeIrrelevant"),c(ge,"type","number"),ge.value=i[2](),c(ge,"min","0"),c(ge,"max","99"),c(ge,"step","0.01"),Z(ge,"width","4em"),c(ge,"class","svelte-1pecl4m"),c(Oe,"class","option svelte-1pecl4m"),c(te,"class","body"),c(re,"class","option-group svelte-1pecl4m"),c(st,"class","name svelte-1pecl4m"),c(ie,"type","radio"),ie.__value="absolute",le(ie,ie.__value),c(ie,"class","svelte-1pecl4m"),c(ot,"class","option svelte-1pecl4m"),c(ne,"type","radio"),ne.__value="proportion",le(ne,ne.__value),c(ne,"class","svelte-1pecl4m"),c(lt,"class","option svelte-1pecl4m"),c(Ve,"class","body"),c(He,"class","option-group svelte-1pecl4m"),c(e,"class","view-options-call-stack svelte-1pecl4m"),pt.p(ie,ne),vt.p(l,g,U)},m(X,se){I(X,e,se),u(e,t),u(t,n),u(t,s),u(t,r),u(r,o),u(o,l),l.checked=l.__value===i[0].collapseMode,u(o,a),u(o,f),u(f,_),u(o,v),u(o,d),u(r,h),u(r,p),u(p,g),g.checked=g.__value===i[0].collapseMode,u(p,y),u(p,M),u(M,T),u(p,w),u(p,F),u(F,H),u(F,E),u(E,P),u(E,b),u(E,C),le(C,i[0].collapseCustomShow),u(E,O),u(E,z),u(E,J),u(E,x),le(x,i[0].collapseCustomHide),u(F,Le),u(r,ee),u(r,Q),u(Q,U),U.checked=U.__value===i[0].collapseMode,u(Q,Ae),u(Q,W),u(W,je),u(e,Ue),u(e,re),u(re,j),u(re,Ye),u(re,te),u(te,fe),u(fe,de),de.checked=i[0].removeImportlib,u(fe,_e),u(fe,he),u(he,ye),u(te,Xe),u(te,Te),u(Te,G),G.checked=i[0].removeTracebackHide,u(Te,Ie),u(Te,Ee),u(Ee,Ge),u(te,q),u(te,N),u(N,Y),Y.checked=i[0].removePyinstrument,u(N,It),u(N,it),u(it,Ot),u(te,Dt),u(te,Oe),u(Oe,Ce),Ce.checked=i[0].removeIrrelevant,u(Oe,Ht),u(Oe,De),u(De,nt),u(nt,Vt),u(De,Nt),u(De,ge),u(De,Bt),u(e,xt),u(e,He),u(He,st),u(He,$t),u(He,Ve),u(Ve,ot),u(ot,rt),u(rt,ie),ie.checked=ie.__value===i[0].timeFormat,u(rt,zt),u(Ve,qt),u(Ve,lt),u(lt,at),u(at,ne),ne.checked=ne.__value===i[0].timeFormat,u(at,Wt),_t||(jt=[B(l,"change",i[4]),B(g,"change",i[6]),B(C,"input",i[7]),B(x,"input",i[8]),B(U,"change",i[9]),B(de,"change",i[10]),B(G,"change",i[11]),B(Y,"change",i[12]),B(Ce,"change",i[13]),B(ge,"input",i[3]),B(ie,"change",i[14]),B(ne,"change",i[15])],_t=!0)},p(X,[se]){se&1&&(l.checked=l.__value===X[0].collapseMode),se&1&&(g.checked=g.__value===X[0].collapseMode),se&1&&C.value!==X[0].collapseCustomShow&&le(C,X[0].collapseCustomShow),se&1&&x.value!==X[0].collapseCustomHide&&le(x,X[0].collapseCustomHide),se&1&&(U.checked=U.__value===X[0].collapseMode),se&1&&(de.checked=X[0].removeImportlib),se&1&&(G.checked=X[0].removeTracebackHide),se&1&&(Y.checked=X[0].removePyinstrument),se&1&&(Ce.checked=X[0].removeIrrelevant),se&1&&(ie.checked=ie.__value===X[0].timeFormat),se&1&&(ne.checked=ne.__value===X[0].timeFormat)},i:L,o:L,d(X){X&&S(e),pt.r(),vt.r(),_t=!1,ae(jt)}}}function vn(i,e,t){let n;be(i,K,w=>t(0,n=w));const s=ht();function r(){return(n.removeIrrelevantThreshold*100).toLocaleString(void 0,{maximumFractionDigits:4})}function o(w){Bi(K,n.removeIrrelevantThreshold=w.currentTarget.valueAsNumber/100,n)}const l=[[],[]];function a(){n.collapseMode=this.__value,K.set(n)}function f(){n.collapseMode=this.__value,K.set(n)}function _(){n.collapseCustomShow=this.value,K.set(n)}function v(){n.collapseCustomHide=this.value,K.set(n)}function d(){n.collapseMode=this.__value,K.set(n)}function h(){n.removeImportlib=this.checked,K.set(n)}function p(){n.removeTracebackHide=this.checked,K.set(n)}function g(){n.removePyinstrument=this.checked,K.set(n)}function y(){n.removeIrrelevant=this.checked,K.set(n)}function M(){n.timeFormat=this.__value,K.set(n)}function T(){n.timeFormat=this.__value,K.set(n)}return[n,s,r,o,a,l,f,_,v,d,h,p,g,y,M,T]}class _n extends ue{constructor(e){super(),ce(this,e,vn,pn,oe,{})}}function gn(i){let e,t,n,s,r,o,l,a,f,_,v,d,h,p,g,y,M,T,w,F,H,E,P,b;return{c(){e=m("div"),t=m("div"),n=m("div"),n.textContent="Remove frames",s=k(),r=m("div"),o=m("div"),l=m("input"),a=k(),f=m("label"),_=R("importlib machinery"),v=k(),d=m("div"),h=m("input"),p=k(),g=m("label"),y=R("Frames declaring __traceback_hide__"),M=k(),T=m("div"),w=m("input"),F=k(),H=m("label"),E=R("pyinstrument frames"),c(n,"class","name"),c(l,"id",i[1]+"removeImportlib"),c(l,"type","checkbox"),c(f,"for",i[1]+"removeImportlib"),c(o,"class","option"),c(h,"id",i[1]+"removeTracebackHide"),c(h,"type","checkbox"),c(g,"for",i[1]+"removeTracebackHide"),c(d,"class","option"),c(w,"id",i[1]+"removePyinstrument"),c(w,"type","checkbox"),c(H,"for",i[1]+"removePyinstrument"),c(T,"class","option"),c(r,"class","body"),c(t,"class","option-group"),c(e,"class","view-options-timeline svelte-vsz8zm")},m(C,O){I(C,e,O),u(e,t),u(t,n),u(t,s),u(t,r),u(r,o),u(o,l),l.checked=i[0].removeImportlib,u(o,a),u(o,f),u(f,_),u(r,v),u(r,d),u(d,h),h.checked=i[0].removeTracebackHide,u(d,p),u(d,g),u(g,y),u(r,M),u(r,T),u(T,w),w.checked=i[0].removePyinstrument,u(T,F),u(T,H),u(H,E),P||(b=[B(l,"change",i[2]),B(h,"change",i[3]),B(w,"change",i[4])],P=!0)},p(C,[O]){O&1&&(l.checked=C[0].removeImportlib),O&1&&(h.checked=C[0].removeTracebackHide),O&1&&(w.checked=C[0].removePyinstrument)},i:L,o:L,d(C){C&&S(e),P=!1,ae(b)}}}function bn(i,e,t){let n;be(i,Ke,a=>t(0,n=a));const s=ht();function r(){n.removeImportlib=this.checked,Ke.set(n)}function o(){n.removeTracebackHide=this.checked,Ke.set(n)}function l(){n.removePyinstrument=this.checked,Ke.set(n)}return[n,s,r,o,l]}class wn extends ue{constructor(e){super(),ce(this,e,bn,gn,oe,{})}}function yn(i){let e,t;return e=new wn({}),{c(){we(e.$$.fragment)},m(n,s){pe(e,n,s),t=!0},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function Tn(i){let e,t;return e=new _n({}),{c(){we(e.$$.fragment)},m(n,s){pe(e,n,s),t=!0},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function kn(i){let e,t,n,s,r,o,l,a,f;const _=[Tn,yn],v=[];function d(h,p){return h[0].viewMode==="call-stack"?0:h[0].viewMode==="timeline"?1:-1}return~(l=d(i))&&(a=v[l]=_[l](i)),{c(){e=m("div"),t=m("div"),n=m("div"),s=R(i[3]),r=k(),o=m("div"),a&&a.c(),c(n,"class","title-row svelte-rpk7lo"),c(o,"class","body svelte-rpk7lo"),c(t,"class","box svelte-rpk7lo"),c(e,"class","view-options svelte-rpk7lo")},m(h,p){I(h,e,p),u(e,t),u(t,n),u(n,s),u(t,r),u(t,o),~l&&v[l].m(o,null),i[4](t),i[5](e),f=!0},p(h,[p]){(!f||p&8)&&me(s,h[3]);let g=l;l=d(h),l!==g&&(a&&(Fe(),V(v[g],1,1,()=>{v[g]=null}),Pe()),~l?(a=v[l],a||(a=v[l]=_[l](h),a.c()),D(a,1),a.m(o,null)):a=null)},i(h){f||(D(a),f=!0)},o(h){V(a),f=!1},d(h){h&&S(e),~l&&v[l].d(),i[4](null),i[5](null)}}}function An(i,e,t){let n;be(i,Qe,d=>t(0,n=d));const s=ji();function r(){s("close")}let o,l;Tt(()=>{if(l)return dn(l,r,{ignore:[".js-view-options-button"]})});function a(){if(!o||!l)return;const d=o.getBoundingClientRect(),p=l.getBoundingClientRect().width;d.right-p-20<0?t(2,l.style.right=`${d.right-p-20}px`,l):t(2,l.style.right="0",l)}Tt(()=>(a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)));let f="View options";function _(d){ke[d?"unshift":"push"](()=>{l=d,t(2,l)})}function v(d){ke[d?"unshift":"push"](()=>{o=d,t(1,o)})}return i.$$.update=()=>{i.$$.dirty&1&&(n.viewMode==="call-stack"?t(3,f="Call stack view options"):n.viewMode==="timeline"&&t(3,f="Timeline view options"))},[n,o,l,f,_,v]}class En extends ue{constructor(e){super(),ce(this,e,An,kn,oe,{})}}function Zt(i){let e,t;return e=new En({}),e.$on("close",i[9]),{c(){we(e.$$.fragment)},m(n,s){pe(e,n,s),t=!0},p:L,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function Cn(i){let e,t,n,s,r,o,l,a,f=At(i[0].target_description)+"",_,v,d,h,p,g,y,M,T,w,F,H,E,P=i[0].sampleCount+"",b,C,O,z,J,x,Le,ee,Q,U,Ae,W,je,Ue,re,j,Ye,te,fe,de,_e,he,ye,Xe,Te,G,Ie,Ee,Ge;r=new sn({}),ye=new tn({});let q=i[1]&&Zt(i);return Ie=yt(i[7][0]),{c(){e=m("div"),t=m("div"),n=m("div"),s=m("div"),we(r.$$.fragment),o=k(),l=m("div"),a=m("div"),_=k(),v=m("div"),d=m("div"),h=m("span"),h.textContent="Recorded:",p=k(),g=m("span"),g.textContent=`${i[3]}`,y=k(),M=m("br"),T=k(),w=m("div"),F=m("span"),F.textContent="Samples:",H=k(),E=m("span"),b=R(P),C=k(),O=m("div"),z=m("span"),z.textContent="CPU utilization:",J=k(),x=m("span"),x.textContent=`${(i[4]*100).toFixed(0)}%`,Le=k(),ee=m("div"),Q=m("div"),U=R(`View:
            `),Ae=m("label"),W=m("input"),je=R(`
              Call stack`),Ue=k(),re=m("label"),j=m("input"),Ye=R(`
              Timeline`),te=k(),fe=m("div"),de=k(),_e=m("div"),he=m("button"),we(ye.$$.fragment),Xe=R(`
              View options`),Te=k(),q&&q.c(),c(s,"class","logo svelte-qdxst2"),c(a,"class","target-description svelte-qdxst2"),c(h,"class","metric-label svelte-qdxst2"),c(g,"class","metric-value svelte-qdxst2"),c(d,"class","metric date svelte-qdxst2"),c(M,"class","svelte-qdxst2"),c(F,"class","metric-label svelte-qdxst2"),c(E,"class","metric-value svelte-qdxst2"),c(w,"class","metric svelte-qdxst2"),c(z,"class","metric-label svelte-qdxst2"),c(x,"class","metric-value svelte-qdxst2"),c(O,"class","metric svelte-qdxst2"),c(v,"class","metrics svelte-qdxst2"),c(W,"type","radio"),W.__value="call-stack",le(W,W.__value),c(W,"class","svelte-qdxst2"),c(Ae,"class","svelte-qdxst2"),c(j,"type","radio"),j.__value="timeline",le(j,j.__value),c(j,"class","svelte-qdxst2"),c(re,"class","svelte-qdxst2"),c(Q,"class","toggle"),c(fe,"class","spacer"),Z(fe,"flex","1"),c(he,"class","js-view-options-button svelte-qdxst2"),c(_e,"class","button-container svelte-qdxst2"),c(ee,"class","view-options svelte-qdxst2"),c(l,"class","layout svelte-qdxst2"),c(n,"class","row svelte-qdxst2"),c(t,"class","margins"),c(e,"class","header svelte-qdxst2"),Ie.p(W,j)},m(N,Y){I(N,e,Y),u(e,t),u(t,n),u(n,s),pe(r,s,null),u(n,o),u(n,l),u(l,a),a.innerHTML=f,u(l,_),u(l,v),u(v,d),u(d,h),u(d,p),u(d,g),u(v,y),u(v,M),u(v,T),u(v,w),u(w,F),u(w,H),u(w,E),u(E,b),u(v,C),u(v,O),u(O,z),u(O,J),u(O,x),u(l,Le),u(l,ee),u(ee,Q),u(Q,U),u(Q,Ae),u(Ae,W),W.checked=W.__value===i[2].viewMode,u(Ae,je),u(Q,Ue),u(Q,re),u(re,j),j.checked=j.__value===i[2].viewMode,u(re,Ye),u(ee,te),u(ee,fe),u(ee,de),u(ee,_e),u(_e,he),pe(ye,he,null),u(he,Xe),u(_e,Te),q&&q.m(_e,null),G=!0,Ee||(Ge=[B(W,"change",i[6]),B(j,"change",i[8]),B(he,"click",Mt(Ct(i[5])))],Ee=!0)},p(N,[Y]){(!G||Y&1)&&f!==(f=At(N[0].target_description)+"")&&(a.innerHTML=f),(!G||Y&1)&&P!==(P=N[0].sampleCount+"")&&me(b,P),Y&4&&(W.checked=W.__value===N[2].viewMode),Y&4&&(j.checked=j.__value===N[2].viewMode),N[1]?q?(q.p(N,Y),Y&2&&D(q,1)):(q=Zt(N),q.c(),D(q,1),q.m(_e,null)):q&&(Fe(),V(q,1,1,()=>{q=null}),Pe())},i(N){G||(D(r.$$.fragment,N),D(ye.$$.fragment,N),D(q),G=!0)},o(N){V(r.$$.fragment,N),V(ye.$$.fragment,N),V(q),G=!1},d(N){N&&S(e),ve(r),ve(ye),q&&q.d(),Ie.r(),Ee=!1,ae(Ge)}}}function Mn(i,e,t){let n;be(i,Qe,h=>t(2,n=h));let{session:s}=e;const r=new Date(s.startTime*1e3).toLocaleString(void 0,{dateStyle:"long",timeStyle:"medium"}),o=s.cpuTime/s.duration;let l=!1;function a(h){t(1,l=!l)}const f=[[]];function _(){n.viewMode=this.__value,Qe.set(n)}function v(){n.viewMode=this.__value,Qe.set(n)}const d=()=>t(1,l=!1);return i.$$set=h=>{"session"in h&&t(0,s=h.session)},[s,l,n,r,o,a,_,f,v,d]}class Fn extends ue{constructor(e){super(),ce(this,e,Mn,Cn,oe,{session:0})}}const Pn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWmSURBVHgBtVc7i11VFF5rn3PvPKoLFlqmDGPhaGVpJQoWAZEEGxERFBsDgnY6KFpaWWrQysRGf4BgmSKQFCKWKQMKTqNzz2svv/XY55ybeycTCw+z736cs/f61rdee5hmz/Hx85c66m4QyTEzrdAo4cd6EuuJ2P4wtbmUgfZkCyRoWVcwyMI29ybW47sfhRfXf793+z4X4ZchPEl3F2esElYrbRVaEjQGEKGE3jcUofGwlIEBygoACAa0fmDrdV4AOAg6FV4+W49nUPdlEW4AElGNtqjZ+hqIdI2NAC7KuvAZloyJCR+IukGmF5A6iH/IbEBWLN2NevbBFQ6tCoAF3u7VggYQtQJyFlygOAADI74Jf669QDiWWh6xFRMUgLF6PAGYkcgGgGkBE/x8AiSVaykG0AUxlgm7BY0BUMAQL8R77LM96F98A98kBeu+kAdlgA0MntUGACmOFDQl5sm+Rai6lwpMLtiEgSVGE8wVFBkAB7XcU+rdJOoLSU0x8Aii3ta/0AWqMHjlM6LDPaYDHLSsnRn9pjMny2jBCDSu9H3tDqpCmw4C6lgHqAQmWB05uwwF8RCAQpU7jIbQYCElBsjAlabfqJdnD7lKwzVcIVVOgmKpF2g921pS8/QRvuETmwDEKZdwFHMocYHffYSfBc0opojVIomjx/dY64CkxVktMsgar16/IhbKygANruwWA+YDkURUcNHQaK5ps1XhBwaAzf6M9YzWq3Ac1EKACm80cB8KV6IdPsCR0aQAMBAaUkxXPyU6WDqlypKaSEOtmCCpDyAKFgu1gSecrhdar4n++VsiGUVWDHUpdJkYEPEkEyDc7paHTShXbkuNhqQfaF5wMt16lff69JYFFYT3A8AYgFxku5xtBtw9R7YsEiH85hcYLIsfuO0lfCCHvTtMWxszNRhDebp+LRsTGobFr0zBiO5tBnhWaZgiDwD5gi3Wiw+YcDAwoDfB+MaFq83RsP8M5zSYdFjsBwfh9YAjErbyQLHNVNUsH2Dl2odCh4dE+0vQXjtI9YG2z05zOKvSbdR3eKdtLTbugVKzoOQxC+7KA5NtJPiXEZaH5xDglMrOBMHTWxdWhA/QVqtgEdx3EtVwSkDOxE4GHESpCZzcHLe+4gg3HA7P69jpfvutTA0GTQNNkXAs5UYJVjC593keik/JBohzALjQsXbrJtRksRgntzm7nVX4GnZumtC4D23N4aIAZWdv9LyZv+3IA87AlHY1HQu9+q7Qwb7nAQ01FbQ+g5NBaNOKA2jdD0bg4+UjzCrbqu6IgrLB6aLRF6KWB0ZNUj15QvLCRVa8PNanqiq7pM7kbVXDEvdaipMmHIRfBa2//aYC9WI5vjH6ydLsB1ezpePiK9PhYcoLnjSK5kljNUWqvXppKdVxo4XFhIsJ93gXy/8clxIvt0X7i4XrU8+1D+wGgKPGW/UCzHfew9VsXywVZxbz8GYdKqS4rCTfZ/NZvD8WA/Yxu/aW661F7q+cIbsXVO6EcVf3b0t9SIXFx9N+kwEO3w8QVmhggq+/9xSroVdiv5TZlr0SanL6/KXOK5SaL9b/G4DRdDzONZbPuAjXS4bnfPWBPrJkjhzpYbdR8OeXz62nvBt3HD3z3F/2f0Fyx9O7XL2HAoj7YG33AK8Bag4TrJlOa0DrrVtrj7DsPBtKlgstsZGIcOW+B0wvlMP1EOqcCh1rTldb+/Xcw2woqbaLeh/Vbl7vH/Vgx08TABrehO53ccJKK1ZWP+gjpRqAKdaN8jxLs5r7Bx5TMBm18kjxOOZ0ub/3flUW/nzw4PSJp568CT0vYXq5aGJgslc4o7doPI6dcis2eUq950Ug1DqF9NvQ/uVf79y5v+E1IptedEInNj+iT2L9Nfv9jf7gI/pFdP4D5rfoaYw/Lv+pReVRq/JOEEXOee/PAf7/PP8C3bt510T4rIwAAAAASUVORK5CYII=",Qt=dt({}),Jt=dt({});function yi(i){return i>.6?"#FF4159":i>.3?"#F5A623":i>.15?"#D8CB2A":i>.05?"#7ED321":"#58984f"}function ei(i,e,t){const n=i.slice();return n[21]=e[t],n}function ti(i){let e,t,n,s,r,o,l,a,f,_,v,d,h,p,g,y,M;return{c(){e=m("div"),t=m("div"),n=$("svg"),s=$("path"),r=k(),o=m("div"),l=R(i[6]),a=k(),f=m("div"),_=R(i[4]),v=k(),d=m("div"),h=R(i[5]),p=k(),g=m("div"),c(s,"d","M.937-.016L5.793 4.84.937 9.696z"),c(s,"fill",i[8]),c(s,"fill-rule","evenodd"),c(s,"fill-opacity",".582"),c(n,"width","6"),c(n,"height","10"),c(t,"class","frame-triangle svelte-7e9kco"),Me(t,"rotate",!i[9]),Z(t,"visibility",i[0].children.length>0?"visible":"hidden"),c(o,"class","time svelte-7e9kco"),Z(o,"color",i[8]),Z(o,"font-weight",i[11]<.15?500:600),c(f,"class","name svelte-7e9kco"),c(d,"class","code-position svelte-7e9kco"),c(e,"class","frame-description svelte-7e9kco"),c(e,"role","button"),c(e,"tabindex","0"),Me(e,"application-code",i[0].isApplicationCode),Me(e,"children-visible",!i[9]),Z(e,"padding-left",`${i[2]*35}px`),c(g,"class","visual-guide svelte-7e9kco"),Z(g,"left",`${i[2]*35+21}px`),Z(g,"background-color",i[8])},m(T,w){I(T,e,w),u(e,t),u(t,n),u(n,s),u(e,r),u(e,o),u(o,l),u(e,a),u(e,f),u(f,_),u(e,v),u(e,d),u(d,h),I(T,p,w),I(T,g,w),y||(M=[B(e,"keydown",i[14]),B(e,"click",Mt(Ct(i[12])))],y=!0)},p(T,w){w&256&&c(s,"fill",T[8]),w&512&&Me(t,"rotate",!T[9]),w&1&&Z(t,"visibility",T[0].children.length>0?"visible":"hidden"),w&64&&me(l,T[6]),w&256&&Z(o,"color",T[8]),w&16&&me(_,T[4]),w&32&&me(h,T[5]),w&1&&Me(e,"application-code",T[0].isApplicationCode),w&512&&Me(e,"children-visible",!T[9]),w&4&&Z(e,"padding-left",`${T[2]*35}px`),w&4&&Z(g,"left",`${T[2]*35+21}px`),w&256&&Z(g,"background-color",T[8])},d(T){T&&(S(e),S(p),S(g)),y=!1,ae(M)}}}function ii(i){let e,t,n,s,r=i[0].group.frames.length-1+"",o,l,a,f,_,v;return{c(){e=m("div"),t=m("div"),n=m("div"),n.innerHTML='<svg width="6" height="10"><path d="M.937-.016L5.793 4.84.937 9.696z" fill="#FFF" fill-rule="evenodd" fill-opacity=".582"></path></svg>',s=k(),o=R(r),l=R(" frames hidden ("),a=R(i[7]),f=R(")"),c(n,"class","group-triangle svelte-7e9kco"),Me(n,"rotate",i[10]),c(t,"class","group-header-button svelte-7e9kco"),c(e,"class","group-header svelte-7e9kco"),c(e,"role","button"),c(e,"tabindex","0"),Z(e,"padding-left",`${i[2]*35}px`)},m(d,h){I(d,e,h),u(e,t),u(t,n),u(t,s),u(t,o),u(t,l),u(t,a),u(t,f),_||(v=[B(e,"keydown",i[15]),B(e,"click",Mt(Ct(i[13])))],_=!0)},p(d,h){h&1024&&Me(n,"rotate",d[10]),h&1&&r!==(r=d[0].group.frames.length-1+"")&&me(o,r),h&128&&me(a,d[7]),h&4&&Z(e,"padding-left",`${d[2]*35}px`)},d(d){d&&S(e),_=!1,ae(v)}}}function ni(i){let e,t=[],n=new Map,s,r=We(i[0].children);const o=l=>l[21].uuid;for(let l=0;l<r.length;l+=1){let a=ei(i,r,l),f=o(a);n.set(f,t[l]=si(f,a))}return{c(){e=m("div");for(let l=0;l<t.length;l+=1)t[l].c();c(e,"class","children svelte-7e9kco")},m(l,a){I(l,e,a);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);s=!0},p(l,a){a&15&&(r=We(l[0].children),Fe(),t=Zi(t,a,o,1,l,r,n,e,Ki,si,null,ei),Pe())},i(l){if(!s){for(let a=0;a<r.length;a+=1)D(t[a]);s=!0}},o(l){for(let a=0;a<t.length;a+=1)V(t[a]);s=!1},d(l){l&&S(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function si(i,e){let t,n,s;return n=new ki({props:{frame:e[21],rootFrame:e[1],indent:e[2]+(e[3]?1:0)}}),{key:i,first:null,c(){t=gi(),we(n.$$.fragment),this.first=t},m(r,o){I(r,t,o),pe(n,r,o),s=!0},p(r,o){e=r;const l={};o&1&&(l.frame=e[21]),o&2&&(l.rootFrame=e[1]),o&12&&(l.indent=e[2]+(e[3]?1:0)),n.$set(l)},i(r){s||(D(n.$$.fragment,r),s=!0)},o(r){V(n.$$.fragment,r),s=!1},d(r){r&&S(t),ve(n,r)}}}function Ln(i){let e,t,n,s,r=i[3]&&ti(i),o=i[0].group&&i[0].group.rootFrame==i[0]&&!i[9]&&ii(i),l=!i[9]&&i[0].children.length>0&&ni(i);return{c(){e=m("div"),r&&r.c(),t=k(),o&&o.c(),n=k(),l&&l.c(),c(e,"class","frame svelte-7e9kco")},m(a,f){I(a,e,f),r&&r.m(e,null),u(e,t),o&&o.m(e,null),u(e,n),l&&l.m(e,null),s=!0},p(a,[f]){a[3]?r?r.p(a,f):(r=ti(a),r.c(),r.m(e,t)):r&&(r.d(1),r=null),a[0].group&&a[0].group.rootFrame==a[0]&&!a[9]?o?o.p(a,f):(o=ii(a),o.c(),o.m(e,n)):o&&(o.d(1),o=null),!a[9]&&a[0].children.length>0?l?(l.p(a,f),f&513&&D(l,1)):(l=ni(a),l.c(),D(l,1),l.m(e,null)):l&&(Fe(),V(l,1,1,()=>{l=null}),Pe())},i(a){s||(D(l),s=!0)},o(a){V(l),s=!1},d(a){a&&S(e),r&&r.d(),o&&o.d(),l&&l.d()}}}function Ti(){const i='a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])',e=document.querySelector(".call-stack-view");if(!e)throw new Error("callStackElement not found");var t=Array.prototype.filter.call(e.querySelectorAll(i),function(n){return n.offsetWidth>0||n.offsetHeight>0||n===document.activeElement});return t}function oi(){const i=Ti();var e=i.indexOf(document.activeElement);if(e>-1){var t=i[e+1];t&&t.focus()}}function ri(){const i=Ti();var e=i.indexOf(document.activeElement);if(e>-1){var t=i[e-1];t&&t.focus()}}function Rn(i,e,t){let n,s,r,o,l;be(i,Jt,b=>t(16,r=b)),be(i,Qt,b=>t(17,o=b)),be(i,K,b=>t(18,l=b));let{frame:a}=e,{rootFrame:f}=e,{indent:_=0}=e,v;const d=a.time/f.time;let h,p;a.isSynthetic||a.filePathShort==null?p="":a.lineNo==null||a.lineNo===0?p=a.filePathShort:p=`${a.filePathShort}:${a.lineNo}`;let g,y=null;if(a.group){const b=a.group.libraries;b.length<4?y=b.join(", "):y=`${b[0]}, ${b[1]}, ${b[2]}...`}let M;M=yi(d);function T(b){w(a,!s,b.altKey)}function w(b,C,O=!0){if(Jt.update(z=>({...z,[b.uuid]:C})),O)for(const z of b.children)w(z,C,!0),b.group&&b.group.rootFrame==b&&F(b.group.id,!C)}function F(b,C){Qt.update(O=>({...O,[b]:C}))}function H(){a.group&&F(a.group.id,!n)}function E(b){let C=!0;b.key==="Enter"||b.key===" "?T(b):b.key==="ArrowLeft"&&!s?w(a,!0,b.altKey):b.key==="ArrowRight"&&s?w(a,!1,b.altKey):b.key==="ArrowUp"?ri():b.key==="ArrowDown"?oi():C=!1,C&&(b.preventDefault(),b.stopPropagation())}function P(b){let C=!0;b.key==="Enter"||b.key===" "?H():b.key==="ArrowLeft"&&a.group?F(a.group.id,!1):b.key==="ArrowRight"&&a.group?F(a.group.id,!0):b.key==="ArrowUp"?ri():b.key==="ArrowDown"?oi():C=!1,C&&(b.preventDefault(),b.stopPropagation())}return i.$$set=b=>{"frame"in b&&t(0,a=b.frame),"rootFrame"in b&&t(1,f=b.rootFrame),"indent"in b&&t(2,_=b.indent)},i.$$.update=()=>{var b,C;if(i.$$.dirty&131073&&(a.group?o[a.group.id??""]||((b=a.group)==null?void 0:b.rootFrame)===a||a.children.filter(O=>!O.group).length>1?t(3,v=!0):t(3,v=!1):t(3,v=!0)),i.$$.dirty&1&&(a.className?t(4,h=`${a.className}.${a.function}`):t(4,h=a.function)),i.$$.dirty&262145)if(l.timeFormat==="absolute")t(6,g=a.time.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}));else if(l.timeFormat==="proportion")t(6,g=`${(d*100).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})}%`);else throw new Error("unknown timeFormat");i.$$.dirty&131073&&t(10,n=o[((C=a.group)==null?void 0:C.id)??""]===!0),i.$$.dirty&65537&&t(9,s=r[a.uuid]===!0)},[a,f,_,v,h,p,g,y,M,s,n,d,T,H,E,P,r,o,l]}let ki=class extends ue{constructor(e){super(),ce(this,e,Rn,Ln,oe,{frame:0,rootFrame:1,indent:2})}};function Ai(i,e,t){let n=i;if(n!=null)for(const s of Object.keys(i)){let r=i[s];for(const o of e)if(r=o(r,t),!r){delete n[s];break}n[s]=r}return n}const Sn="\0",In="[await]",tt="[self]",On="[out-of-context]",Dn="[root]",Hn=[In,tt,On,Dn],Vn="c",Nn="h";class et{constructor(e,t){A(this,"uuid",ht());A(this,"identifier");A(this,"_identifierParts");A(this,"startTime");A(this,"time",0);A(this,"absorbedTime",0);A(this,"group",null);A(this,"attributes");A(this,"_children",[]);A(this,"parent",null);A(this,"context");var r;this.identifier=e.identifier,this._identifierParts=this.identifier.split(Sn),this.startTime=e.startTime??t.threadStartTime(e.thread_id),this.time=e.time??0,this.attributes=e.attributes??{},this.context=t;let n=this.startTime;const s=(r=e.children)==null?void 0:r.map(o=>(o.startTime===void 0&&(o={...o,startTime:n},n+=o.time??0),n=o.startTime+(o.time??0),new et(o,t)));s&&this.addChildren(s)}cloneDeep(){return new et(this,this.context)}get children(){return this._children}addChild(e,t={}){if(e.removeFromParent(),e.parent=this,t.after){const n=this._children.indexOf(t.after);if(n==-1)throw new Error("After frame not found");this._children.splice(n+1,0,e)}else this._children.push(e)}addChildren(e,t={}){e=e.slice(),t.after?(e.slice().reverse(),e.forEach(s=>this.addChild(s,t))):e.forEach(n=>this.addChild(n,t))}removeFromParent(){if(this.parent){const e=this.parent._children.indexOf(this);this.parent._children.splice(e,1),this.parent=null}}getAttributes(e){return Object.keys(this.attributes).filter(n=>n.startsWith(e)).map(n=>({data:n.slice(1),time:this.attributes[n]}))}getAttributeValue(e){const t=this.getAttributes(e);if(!t||t.length==0)return null;let n=0;for(let s=0;s<t.length;s++)t[s].time>t[n].time&&(n=s);return t[n].data}get hasTracebackHide(){return this.getAttributeValue(Nn)=="1"}get function(){return this._identifierParts[0]}get filePath(){return this._identifierParts[1]??null}get lineNo(){const e=this._identifierParts[2];return e?parseInt(e):null}get isSynthetic(){return Hn.includes(this.identifier)}get filePathShort(){return this.isSynthetic&&this.parent?this.parent.filePathShort:this.filePath?this.context.shortenPath(this.filePath):null}get isApplicationCode(){if(this.isSynthetic)return!1;const e=this.filePath;return!e||this.context.sysPrefixes.some(n=>e.startsWith(n))?!1:e.startsWith("<")?e.startsWith("<ipython-input-")?!0:e=="<string>"||e=="<stdin>"?this.parent?this.parent.isApplicationCode:!0:!1:!0}get proportionOfParent(){return this.parent?this.time/this.parent.time:1}get className(){return this.getAttributeValue(Vn)??""}get library(){const e=this.filePathShort;return e?/^[\\/.]*[^\\/.]*/.exec(e)[0]??"":null}}class Bn{constructor(e){A(this,"id");A(this,"rootFrame");A(this,"_frames",[]);this.id=ht(),this.rootFrame=e}addFrame(e){e.group&&e.group.removeFrame(e),this._frames.push(e),e.group=this}removeFrame(e){if(e.group!==this)throw new Error("Frame not in group.");const t=this._frames.indexOf(e);if(t===-1)throw new Error("Frame not found in group.");this._frames.splice(t,1),e.group=null}get frames(){return this._frames}get exitFrames(){const e=[];for(const t of this.frames){let n=!1;for(const s of t.children)if(s.group!=this){n=!0;break}n&&e.push(t)}return e}get libraries(){const e=[];for(const t of this.frames){const n=t.library;n&&(e.includes(n)||e.push(n))}return e}}function mt(i,e){const{replaceWith:t}=e,n=i.parent;if(!n)throw new Error("Cannot delete the root frame");if(t=="children")n.addChildren(i.children,{after:i});else if(t=="self_time")n.addChild(new et({identifier:tt,time:i.time},n.context),{after:i});else if(t=="nothing")n.absorbedTime+=i.time;else throw new ln(t);i.removeFromParent(),Lt(i,!0)}function xn(i,e){if(i.parent!==e.parent)throw new Error("Both frames must have the same parent.");e.absorbedTime+=i.absorbedTime,e.time+=i.time,Object.entries(i.attributes).forEach(([t,n])=>{e.attributes[t]!==void 0?e.attributes[t]+=n:e.attributes[t]=n}),e.addChildren(i.children),i.removeFromParent(),Lt(i,!1)}function Lt(i,e){if(e&&i.children&&i.children.forEach(t=>{Lt(t,!0)}),i.group){const t=i.group;t.removeFrame(i),t.frames.length===1&&t.removeFrame(t.frames[0])}}function Rt(i,e){if(!i)return null;for(const t of i.children)Rt(t),t.filePath&&t.filePath.includes("<frozen importlib._bootstrap")&&mt(t,{replaceWith:"children"});return i}function St(i,e){if(!i)return null;for(const t of i.children)St(t),t.hasTracebackHide&&mt(t,{replaceWith:"children"});return i}function Ei(i,e){if(!i)return null;const t={};for(const n of i.children.slice())if(t[n.identifier]){const s=t[n.identifier];xn(n,s)}else t[n.identifier]=n;return i.children.forEach(n=>Ei(n)),i._children.sort((n,s)=>s.time-n.time),i}function Ci(i,e){if(!i)return null;const t=e.hideRegex,n=e.showRegex;function s(o){const l=o.filePath||"",a=n&&new RegExp(n).test(l),f=t&&new RegExp(t).test(l);return a?!1:f?!0:!o.isApplicationCode}function r(o,l){l.addFrame(o),o.children.forEach(a=>{s(a)&&r(a,l)})}return i.children.forEach(o=>{if(!o.group&&s(o)&&o.children.some(s)){const l=new Bn(o);r(o,l)}Ci(o,e)}),i}function Mi(i,e,t=!0){if(!i)return null;let n=null;for(const s of i.children)s.identifier===tt?n?(n.time+=s.time,s.removeFromParent()):n=s:n=null;return t&&i.children.forEach(s=>Mi(s,e,!0)),i}function Fi(i,e){return i?(i.children.length===1&&i.children[0].identifier===tt&&mt(i.children[0],{replaceWith:"nothing"}),i.children.forEach(t=>Fi(t)),i):null}function Pi(i,e,t=null){if(!i)return null;t===null&&(t=i.time,t<=0&&(t=1e-44));const n=e.filterThreshold??.01;for(const s of i.children.slice())s.time/t<n&&mt(s,{replaceWith:"nothing"});return i.children.forEach(s=>Pi(s,e,t)),i}function Li(i,e){if(!i)return null;const t=l=>mn(l,a=>a.time),n=l=>{var a;return((a=l.filePath)==null?void 0:a.includes("pyinstrument/__main__.py"))&&l.children.length>0},s=l=>{var a;return l.proportionOfParent>.8&&((a=l.filePath)==null?void 0:a.includes("<string>"))&&l.children.length>0},r=l=>{var a;return l.proportionOfParent>.8&&(new RegExp(".*runpy.py").test(l.filePath??"")||((a=l.filePath)==null?void 0:a.includes("<frozen runpy>")))&&l.children.length>0};let o=i;if(!n(o)||(o=t(o.children),!s(o))||(o=t(o.children),!r(o)))return i;for(;r(o);)o=t(o.children);return o.removeFromParent(),o}function Ri(i,e){return i?(i.children.forEach(t=>Ri(t)),i.group&&i.group.frames.length<3&&i.group.removeFrame(i),i):null}function li(i,e,t){const n=i.slice();return n[11]=e[t][0],n[12]=e[t][1],n}function $n(i){let e,t,n=We(Object.entries(i[3])),s=[];for(let o=0;o<n.length;o+=1)s[o]=ai(li(i,n,o));const r=o=>V(s[o],1,1,()=>{s[o]=null});return{c(){e=m("div");for(let o=0;o<s.length;o+=1)s[o].c();c(e,"class","call-stack-margins svelte-1hebm9u")},m(o,l){I(o,e,l);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(o,l){if(l&8){n=We(Object.entries(o[3]));let a;for(a=0;a<n.length;a+=1){const f=li(o,n,a);s[a]?(s[a].p(f,l),D(s[a],1)):(s[a]=ai(f),s[a].c(),D(s[a],1),s[a].m(e,null))}for(Fe(),a=n.length;a<s.length;a+=1)r(a);Pe()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)D(s[l]);t=!0}},o(o){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)V(s[l]);t=!1},d(o){o&&S(e),_i(s,o)}}}function zn(i){let e;return{c(){e=m("div"),e.innerHTML='<div class="error">All frames were filtered out.</div>',c(e,"class","margins")},m(t,n){I(t,e,n)},p:L,i:L,o:L,d(t){t&&S(e)}}}function qn(i){let e,t;return e=new ki({props:{frame:i[12],rootFrame:i[12]}}),{c(){we(e.$$.fragment)},m(n,s){pe(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.frame=n[12]),s&8&&(r.rootFrame=n[12]),e.$set(r)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function Wn(i){let e;return{c(){e=m("div"),e.innerHTML='<div class="error">All frames were filtered out.</div> ',c(e,"class","margins")},m(t,n){I(t,e,n)},p:L,i:L,o:L,d(t){t&&S(e)}}}function ai(i){let e,t,n,s;const r=[Wn,qn],o=[];function l(a,f){return a[12]?1:0}return e=l(i),t=o[e]=r[e](i),{c(){t.c(),n=gi()},m(a,f){o[e].m(a,f),I(a,n,f),s=!0},p(a,f){let _=e;e=l(a),e===_?o[e].p(a,f):(Fe(),V(o[_],1,1,()=>{o[_]=null}),Pe(),t=o[e],t?t.p(a,f):(t=o[e]=r[e](a),t.c()),D(t,1),t.m(n.parentNode,n))},i(a){s||(D(t),s=!0)},o(a){V(t),s=!1},d(a){a&&S(n),o[e].d(a)}}}function jn(i){let e,t,n,s,r,o,l;const a=[zn,$n],f=[];function _(v,d){return v[3]?1:0}return n=_(i),s=f[n]=a[n](i),{c(){e=m("div"),t=m("div"),s.c(),r=k(),o=m("div"),c(t,"class","scroll-inner svelte-1hebm9u"),c(o,"class","scroll-size-fixer svelte-1hebm9u"),c(e,"class","call-stack-view svelte-1hebm9u")},m(v,d){I(v,e,d),u(e,t),f[n].m(t,null),i[8](t),u(e,r),u(e,o),i[9](o),i[10](e),l=!0},p(v,[d]){let h=n;n=_(v),n===h?f[n].p(v,d):(Fe(),V(f[h],1,1,()=>{f[h]=null}),Pe(),s=f[n],s?s.p(v,d):(s=f[n]=a[n](v),s.c()),D(s,1),s.m(t,null))},i(v){l||(D(s),l=!0)},o(v){V(s),l=!1},d(v){v&&S(e),f[n].d(),i[8](null),i[9](null),i[10](null)}}}function Un(i,e,t){let n,{session:s}=e;const r=wi([K],([p])=>{const g=[p.removeImportlib?Rt:null,p.removeTracebackHide?St:null,Mi,Ei,Fi,p.removeIrrelevant?Pi:null,p.removePyinstrument?Li:null,p.collapseMode!=="disabled"?Ci:null,Ri].filter(M=>M!==null),y={filterThreshold:p.removeIrrelevantThreshold,hideRegex:p.collapseMode=="custom"?p.collapseCustomHide:void 0,showRegex:p.collapseMode=="custom"?p.collapseCustomShow:void 0};return{processors:g,options:y}});be(i,r,p=>t(7,n=p));let o,l,a;Tt(()=>{let p=0;const g=o;if(!g)throw new Error("element not set");if(!l)throw new Error("scrollInnerElement not set");if(!a)throw new Error("scrollSizeFixerElement not set");const y=new ResizeObserver(()=>{const T=l.getBoundingClientRect().height;T>p&&(p=T,t(2,a.style.top=`${p-1}px`,a))});y.observe(l);let M;return g.addEventListener("scroll",M=()=>{let T=g.scrollTop+g.clientHeight;const w=l.getBoundingClientRect().height;T<w&&(T=w),T<p&&(p=T,t(2,a.style.top=`${p-1}px`,a))}),M(),()=>{y.disconnect(),g.removeEventListener("scroll",M)}});let f,_=[];for(const p of Object.keys(s.rootFrames))_[p]=s.rootFrames[p].cloneDeep();function v(p){ke[p?"unshift":"push"](()=>{l=p,t(1,l)})}function d(p){ke[p?"unshift":"push"](()=>{a=p,t(2,a)})}function h(p){ke[p?"unshift":"push"](()=>{o=p,t(0,o)})}return i.$$set=p=>{"session"in p&&t(5,s=p.session)},i.$$.update=()=>{i.$$.dirty&192&&t(3,f=Ai(_,n.processors,n.options))},[o,l,a,f,r,s,_,n,v,d,h]}class Yn extends ue{constructor(e){super(),ce(this,e,Un,jn,oe,{session:5})}}class Xn{constructor(e){A(this,"mediaQueryList",null);this.onDevicePixelRatioChanged=e,this._onChange=this._onChange.bind(this),this.createMediaQueryList()}createMediaQueryList(){this.removeMediaQueryList();let e=`(resolution: ${window.devicePixelRatio}dppx)`;this.mediaQueryList=matchMedia(e),this.mediaQueryList.addEventListener("change",this._onChange)}removeMediaQueryList(){var e;(e=this.mediaQueryList)==null||e.removeEventListener("change",this._onChange),this.mediaQueryList=null}_onChange(e){this.onDevicePixelRatioChanged(),this.createMediaQueryList()}destroy(){this.removeMediaQueryList()}}class Gn{constructor(e){A(this,"canvas");A(this,"_size_observer");A(this,"_devicePixelRatioObserver");A(this,"drawAnimationRequest",null);this.container=e,getComputedStyle(e).position!="absolute"&&(e.style.position="relative"),this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.left="0",this.canvas.style.top="0",this.canvas.style.width="100%",this.canvas.style.height="100%",this.container.appendChild(this.canvas),this.setCanvasSize=this.setCanvasSize.bind(this),this._size_observer=new ResizeObserver(this.setCanvasSize),this._size_observer.observe(e),this._devicePixelRatioObserver=new Xn(this.setCanvasSize),window.requestAnimationFrame(()=>{this.setCanvasSize()})}destroy(){this._size_observer.disconnect(),this._devicePixelRatioObserver.destroy(),this.canvas.remove(),this.drawAnimationRequest!==null&&(window.cancelAnimationFrame(this.drawAnimationRequest),this.drawAnimationRequest=null)}setNeedsRedraw(){this.drawAnimationRequest===null&&(this.drawAnimationRequest=window.requestAnimationFrame(()=>{this.drawAnimationRequest=null,this.canvasViewRedraw()}))}redrawIfNeeded(){this.drawAnimationRequest!==null&&(window.cancelAnimationFrame(this.drawAnimationRequest),this.drawAnimationRequest=null,this.canvasViewRedraw())}canvasViewRedraw(){const e=this.canvas.getContext("2d");e&&(e.resetTransform(),e.scale(window.devicePixelRatio,window.devicePixelRatio),this.redraw(e,{width:this.canvas.width/window.devicePixelRatio,height:this.canvas.height/window.devicePixelRatio}))}get width(){return this.canvas.width/window.devicePixelRatio}get height(){return this.canvas.height/window.devicePixelRatio}setCanvasSize(){const e=window.devicePixelRatio;this.canvas.height=this.container.clientHeight*e,this.canvas.width=this.container.clientWidth*e,this.canvasViewRedraw()}}function Kn(i){let e,t=i[2]=="self"?"self":"time",n,s,r,o=i[3](i[0].time)+"";return{c(){e=m("div"),n=R(t),s=k(),r=m("div"),c(e,"class","label svelte-ci3g2p"),c(r,"class","time-val svelte-ci3g2p")},m(l,a){I(l,e,a),u(e,n),I(l,s,a),I(l,r,a),r.innerHTML=o},p(l,a){a&4&&t!==(t=l[2]=="self"?"self":"time")&&me(n,t),a&1&&o!==(o=l[3](l[0].time)+"")&&(r.innerHTML=o)},d(l){l&&(S(e),S(s),S(r))}}}function Zn(i){let e,t,n,s,r=i[3](i[0].time)+"",o,l=i[0].selfTime/i[0].time>.001&&ci(i);return{c(){e=m("div"),e.textContent="time",t=k(),n=m("div"),s=m("div"),o=k(),l&&l.c(),c(e,"class","label svelte-ci3g2p"),c(s,"class","time-val svelte-ci3g2p"),c(n,"class","time-row svelte-ci3g2p")},m(a,f){I(a,e,f),I(a,t,f),I(a,n,f),u(n,s),s.innerHTML=r,u(n,o),l&&l.m(n,null)},p(a,f){f&1&&r!==(r=a[3](a[0].time)+"")&&(s.innerHTML=r),a[0].selfTime/a[0].time>.001?l?l.p(a,f):(l=ci(a),l.c(),l.m(n,null)):l&&(l.d(1),l=null)},d(a){a&&(S(e),S(t),S(n)),l&&l.d()}}}function ci(i){let e,t,n,s=i[3](i[0].selfTime)+"";return{c(){e=m("div"),e.textContent="self",t=k(),n=m("div"),c(e,"class","label svelte-ci3g2p"),c(n,"class","time-val svelte-ci3g2p")},m(r,o){I(r,e,o),I(r,t,o),I(r,n,o),n.innerHTML=s},p(r,o){o&1&&s!==(s=r[3](r[0].selfTime)+"")&&(n.innerHTML=s)},d(r){r&&(S(e),S(t),S(n))}}}function Qn(i){let e,t,n=i[0].name+"",s,r,o,l,a,f,_,v,d,h;function p(M,T){return M[2]=="both"?Zn:Kn}let g=p(i),y=g(i);return{c(){e=m("div"),t=m("div"),s=R(n),r=k(),y.c(),o=k(),l=m("div"),l.textContent="loc",a=k(),f=m("div"),_=m("div"),d=k(),h=new qi(!1),c(t,"class","name svelte-ci3g2p"),c(l,"class","label svelte-ci3g2p"),c(_,"class","location-color svelte-ci3g2p"),c(_,"style",v=`background: ${i[0].locationColor}`),h.a=null,c(f,"class","location-row"),c(e,"class","timeline-canvas-view-tooltip svelte-ci3g2p"),c(e,"style",`font: ${Ii}; max-width: ${es}px;`)},m(M,T){I(M,e,T),u(e,t),u(t,s),u(e,r),y.m(e,null),u(e,o),u(e,l),u(e,a),u(e,f),u(f,_),u(f,d),h.m(i[1],f)},p(M,[T]){T&1&&n!==(n=M[0].name+"")&&me(s,n),g===(g=p(M))&&y?y.p(M,T):(y.d(1),y=g(M),y&&(y.c(),y.m(e,o))),T&1&&v!==(v=`background: ${M[0].locationColor}`)&&c(_,"style",v),T&2&&h.p(M[1])},i:L,o:L,d(M){M&&S(e),y.d()}}}function Si(i){return i.selfTime==i.time?"self":i.selfTime/i.time>.001?"both":"time"}function Jn(i,e){i.font=Ii;const t=Si(e)=="both"?140:70,n=i.measureText(e.name).width,s=i.measureText(e.location).width+46;let o=Math.max(t,n,s)+20;return o>310&&(o=310),o}const es=310,Ii="400 13px Source Sans Pro, sans-serif";function ts(i,e,t){let{f:n}=e,s,r;function o(l){return`<span style="color: ${yi(l/n.totalTime)}">${l.toFixed(3)}</span>`}return i.$$set=l=>{"f"in l&&t(0,n=l.f)},i.$$.update=()=>{i.$$.dirty&1&&t(1,s=At(n.location)),i.$$.dirty&1&&t(2,r=Si(n))},[n,s,r,o]}class is extends ue{constructor(e){super(),ce(this,e,ts,Qn,oe,{f:0})}}const ns="#212325",ui=18,ss=17,Re=28,ct=17,fi=29,os=["#3475BA","#318DBC","#47A298","#8AAE5D","#C1A731","#C07210","#B84210","#B53134","#9A3586","#4958B5","#3475BA"],rs=os.map(fn);class ls extends Gn{constructor(t){super(t);A(this,"zoom",1);A(this,"startT",0);A(this,"yOffset",0);A(this,"frames",{});A(this,"isZoomedIn",!1);A(this,"tooltipContainer");A(this,"tooltipComponent",null);A(this,"_rootFrames",null);A(this,"maxDepth",[]);A(this,"maxY",0);A(this,"tooltipLocation",null);A(this,"lastDrawWidth",0);A(this,"lastDrawHeight",0);A(this,"_libraryOrder",null);A(this,"_colors",[]);A(this,"_frameMaxT");A(this,"mouseLocation",null);A(this,"mouseDownLocation",null);A(this,"touches",{});this.onWheel=this.onWheel.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.windowMouseUp=this.windowMouseUp.bind(this),this.onTouchstart=this.onTouchstart.bind(this),this.onTouchmove=this.onTouchmove.bind(this),this.onTouchend=this.onTouchend.bind(this),this.onTouchcancel=this.onTouchend.bind(this),this.canvas.addEventListener("wheel",this.onWheel),this.canvas.addEventListener("mousemove",this.onMouseMove),this.canvas.addEventListener("mouseleave",this.onMouseLeave),this.canvas.addEventListener("mousedown",this.onMouseDown),this.canvas.addEventListener("touchstart",this.onTouchstart),this.canvas.addEventListener("touchmove",this.onTouchmove),this.canvas.addEventListener("touchend",this.onTouchend),this.canvas.addEventListener("touchcancel",this.onTouchcancel),this.tooltipContainer=document.createElement("div"),this.tooltipContainer.style.position="absolute",this.tooltipContainer.style.pointerEvents="none",this.container.appendChild(this.tooltipContainer)}destroy(){this.canvas.removeEventListener("wheel",this.onWheel),this.canvas.removeEventListener("mousemove",this.onMouseMove),this.canvas.removeEventListener("mouseleave",this.onMouseLeave),this.canvas.removeEventListener("mousedown",this.onMouseDown),this.canvas.removeEventListener("touchstart",this.onTouchstart),this.canvas.removeEventListener("touchmove",this.onTouchmove),this.canvas.removeEventListener("touchend",this.onTouchend),this.canvas.removeEventListener("touchcancel",this.onTouchcancel),this.tooltipContainer.remove(),super.destroy()}setRootFrames(t){this._rootFrames=t,this.frames={},this._frameMaxT=void 0,this.maxDepth=[],this.maxY=0;for(const n of Object.keys(t)){let s=t[n];this._collectFrames(s,n,0),this.maxY+=this.maxDepth[n]+1}this.fitContents(),this.setNeedsRedraw()}_collectFrames(t,n,s){this.frames.hasOwnProperty(n)||(this.frames[n]=[],this.maxDepth[n]=0),this.frames[n].push({frame:t,depth:s,isApplicationCode:t.isApplicationCode,library:t.library,className:t.className,filePathShort:t.filePathShort}),this.maxDepth[n]=Math.max(this.maxDepth[n],s);for(const r of t.children)r.identifier!==tt&&this._collectFrames(r,n,s+1)}updateTooltip(t,n){var s;if(n){const r={name:this.frameName(n),time:n.frame.time,selfTime:this.frameSelfTime(n),totalTime:((s=this._rootFrames[n.frame.thread_id])==null?void 0:s.time)??1e-12,location:`${n.filePathShort}:${n.frame.lineNo}`,locationColor:this.colorForFrame(n)};if(this.tooltipComponent?this.tooltipComponent.$set({f:r}):this.tooltipComponent=new is({target:this.tooltipContainer,props:{f:r}}),this.tooltipLocation){const o={x:this.tooltipLocation.x+12,y:this.tooltipLocation.y+12},l=Jn(t,r),a=this.width-10-l;o.x>a&&(o.x=a);const _=this.height-10-60;o.y>_&&(o.y=_),this.tooltipContainer.style.left=`${o.x}px`,this.tooltipContainer.style.top=`${o.y}px`}}n||this.tooltipComponent&&(this.tooltipComponent.$destroy(),this.tooltipComponent=null)}redraw(t,n){const{width:s,height:r}=n;(s!==this.lastDrawWidth||r!==this.lastDrawHeight)&&(this.isZoomedIn?this.clampViewport():this.fitContents()),this.lastDrawWidth=s,this.lastDrawHeight=r,t.fillStyle=ns,t.fillRect(0,0,s,r),this.drawAxes(t);let o=0;for(const _ of Object.keys(this.frames)){for(const v of this.frames[_])this.drawFrame(t,v,o);o+=1+this.maxDepth[_]}t.globalAlpha=1;const l=this.maxYOffset>0||this.isZoomedIn,a=!!this.mouseDownLocation;this.canvas.style.cursor=a&&l?"grabbing":"initial",t.fillStyle="red",t.font='23px "Source Sans Pro", sans-serif';let f=null;!a&&this.tooltipLocation&&(f=this.hitTest(this.tooltipLocation)),this.updateTooltip(t,f)}drawAxes(t){const n=Math.max(800,this.width)/this.zoom;if(n==0)return;const s=Math.log10(n);let r=Math.ceil(s)+2;r<0&&(r=0);const o=Math.ceil(s)-3,l=a=>ze(a,{from:[s,s-3],to:[.71,0],clamp:!0});for(let a=o;a<r;a++){let f=l(a);f=Math.max(0,Math.min(1,f)),f=Math.pow(f,2),this.drawAxis(t,Math.pow(10,a),f)}this.drawAxis(t,Math.pow(10,r),l(r),!0)}drawAxis(t,n,s,r=!1){t.fillStyle="white";const o=Math.floor(this.startT/n)*n,l=this.startT+this.width/this.zoom,a=Math.max(0,Math.ceil(-Math.log10(n)));for(let f=o;f<l;f+=n){const _=this.xForT(f);if(Math.round(f/n)%10===0&&!r)continue;t.globalAlpha=s;const d=ct-this.yOffset;t.fillRect(_,d,1,this.height-d);const h=ze(s,{from:[.12,.25],to:[0,.5],clamp:!0});if(h>.01){t.globalAlpha=h,t.font='13px "Source Sans Pro", sans-serif';let p=f.toFixed(a);p=="0"&&(p="0s");let g=d+10;t.fillText(p,_+3,g);let y=this.height+ct+10-this.yOffset;y<this.height-3&&(y=this.height-3),t.fillText(p,_+3,y)}t.globalAlpha=1}}drawFrame(t,n,s){const{x:r,y:o,w:l,h:a}=this.frameDims(n,s);if(r+l<0||r>this.width)return;if(t.fillStyle=this.colorForFrame(n),t.globalAlpha=n.isApplicationCode?1:.5,l<2){t.fillRect(r,o,l,a);return}let _=this.frameName(n);const v=Math.floor(l/3.3);if(_.length>v&&(_=_.substring(0,v)),_.length==0){t.fillRect(r,o,l,a);return}t.save(),t.beginPath(),t.rect(r,o,l,a),t.fill(),t.clip(),t.font='13px "Source Sans Pro", sans-serif',t.fillStyle="white";let d=r;d<0&&(d=0),t.fillText(_,d+2,o+13),t.restore()}_assignLibraryOrder(){const t={};for(const s of Object.keys(this.frames))for(const r of this.frames[s]){const l=r.frame.library??"";t[l]=(t[l]||0)+r.frame.time}const n=Object.keys(t);n.sort((s,r)=>t[r]-t[s]),this._libraryOrder=n}colorForLibraryIndex(t){if(this._colors[t]!==void 0)return this._colors[t];const n=Math.pow(2,Math.ceil(Math.log2(t+1))),r=(2*t-n+1)/n,o=an(rs,r);return this._colors[t]=o,o}libraryIndexForFrame(t){this._libraryOrder||this._assignLibraryOrder();const n=t.library||"";let s=this._libraryOrder.indexOf(n);return s===-1&&(s=this._libraryOrder.length,this._libraryOrder.push(n)),s}colorForFrame(t){const n=this.libraryIndexForFrame(t);return this.colorForLibraryIndex(n)}get frameMaxT(){if(this._frameMaxT===void 0){this._frameMaxT=0;for(const t of Object.keys(this.frames))this._frameMaxT=Math.max(this._frameMaxT,this.frames[t].reduce((n,s)=>Math.max(n,s.frame.startTime+s.frame.time),0))}return this._frameMaxT}get maxYOffset(){return Math.max(0,(this.maxY+1)*ui+ct*2+fi-this.height)}get minZoom(){return(this.width-2*Re)/this.frameMaxT}get maxZoom(){return 10/15e-8}fitContents(){this.startT=0,this.zoom=this.minZoom,this.isZoomedIn=!1}clampViewport(){this.zoom<this.minZoom?(this.zoom=this.minZoom,this.isZoomedIn=!1):this.isZoomedIn=!0,this.zoom>this.maxZoom&&(this.zoom=this.maxZoom),this.startT<0&&(this.startT=0);const t=this.frameMaxT-(this.width-2*Re)/this.zoom;this.startT>t&&(this.startT=t),this.yOffset>this.maxYOffset&&(this.yOffset=this.maxYOffset)}frameDims(t,n){const s=(n+t.depth)*ui+ct+fi-this.yOffset,r=ss;let o=this.xForT(t.frame.startTime),a=this.xForT(t.frame.startTime+t.frame.time)-o;return a<1&&(a=1),a>1&&(a-=ze(a,{from:[1,3],to:[0,1],clamp:!0})),{x:o,y:s,w:a,h:r}}xForT(t){return(t-this.startT)*this.zoom+Re}tForX(t){return(t-Re)/this.zoom+this.startT}frameName(t){let n;return t.className?n=`${t.className}.${t.frame.function}`:t.frame.function=="<module>"?n=t.filePathShort??t.frame.filePath??"":n=t.frame.function,n}frameSelfTime(t){let n=t.frame.time;const s=t.frame.children.filter(r=>!r.isSynthetic);for(const r of s)n-=r.time;return n}hitTest(t){for(const n of Object.keys(this.frames))for(const s of this.frames[n]){const{x:r,y:o,w:l,h:a}=this.frameDims(s);if(t.x>=r&&t.x<=r+l&&t.y>=o&&t.y<=o+a)return s}return null}onWheel(t){const n=t.ctrlKey||t.metaKey,s=n?.01:.0023,r=this.tForX(t.offsetX);this.zoom*=1-t.deltaY*s,this.clampViewport(),this.startT=r-(t.offsetX-Re)/this.zoom,n||(this.startT+=t.deltaX/this.zoom),this.clampViewport(),this.setNeedsRedraw(),t.preventDefault()}onMouseMove(t){const n={x:t.offsetX,y:t.offsetY},s=this.mouseLocation;if(this.mouseLocation=n,s&&this.mouseDownLocation){const r={x:n.x-s.x,y:n.y-s.y};this.startT-=r.x/this.zoom,this.yOffset-=r.y,this.clampViewport()}this.tooltipLocation=n,this.setNeedsRedraw()}onMouseLeave(t){this.mouseLocation=null,this.tooltipLocation=null,this.setNeedsRedraw()}onMouseDown(t){(t.button===0||t.button===1)&&(this.mouseDownLocation={x:t.offsetX,y:t.offsetY},window.addEventListener("mouseup",this.windowMouseUp),this.setNeedsRedraw())}windowMouseUp(t){window.removeEventListener("mouseup",this.windowMouseUp),this.mouseDownLocation=null,this.setNeedsRedraw()}onTouchstart(t){t.preventDefault(),t.stopPropagation();for(const n of Array.from(t.changedTouches))this.touches[n.identifier]={x:n.clientX,y:n.clientY,downT:this.tForX(n.clientX),startDate:Date.now(),downX:n.clientX,downY:n.clientY}}onTouchmove(t){t.preventDefault(),t.stopPropagation();let n=0;for(const r of Array.from(t.changedTouches)){const o=this.touches[r.identifier];o&&(n+=r.clientY-o.y,this.touches[r.identifier]={...o,x:r.clientX,y:r.clientY})}const s=n/Object.keys(this.touches).length;this.yOffset-=s,this.adjustXAxisForTouches(),this.setNeedsRedraw()}onTouchend(t){t.preventDefault(),t.stopPropagation();for(const n of Array.from(t.changedTouches))delete this.touches[n.identifier];this.setNeedsRedraw()}onTouchcancel(t){t.preventDefault(),t.stopPropagation();for(const n of Array.from(t.changedTouches))delete this.touches[n.identifier];this.setNeedsRedraw()}adjustXAxisForTouches(){const t=Object.keys(this.touches).map(Number);if(t.length!=0){if(t.length==1){const n=this.touches[t[0]];this.startT=n.downT-(n.x-Re)/this.zoom}if(t.length>=2){const n=this.touches[t[0]],s=this.touches[t[1]],r=(s.x-n.x)/(s.downT-n.downT),o=n.downT-(n.x-Re)/r;this.startT=o,this.zoom=r}this.clampViewport()}}}function as(i){let e;return{c(){e=m("div"),e.innerHTML="",c(e,"class","timeline svelte-p2tt1k")},m(t,n){I(t,e,n),i[7](e)},p:L,i:L,o:L,d(t){t&&S(e),i[7](null)}}}function cs(i,e,t){let n,{session:s}=e;const r=wi([Ke],([v])=>({processors:[v.removeImportlib?Rt:null,v.removeTracebackHide?St:null,v.removePyinstrument?Li:null].filter(p=>p!==null),options:{}}));be(i,r,v=>t(6,n=v));let o,l=[];for(const v of Object.keys(s.rootFrames))l[v]=s.rootFrames[v].cloneDeep();let a=null,f=null;Wi(()=>{f==null||f.destroy()});function _(v){ke[v?"unshift":"push"](()=>{a=v,t(0,a)})}return i.$$set=v=>{"session"in v&&t(2,s=v.session)},i.$$.update=()=>{i.$$.dirty&80&&t(3,o=Ai(l,n.processors,n.options)),i.$$.dirty&1&&a&&t(5,f=new ls(a)),i.$$.dirty&40&&o&&f&&f.setRootFrames(o)},[a,r,s,o,l,f,n,_]}class us extends ue{constructor(e){super(),ce(this,e,cs,as,oe,{session:2})}}function fs(i){let e,t,n=i[1].viewMode+"",s;return{c(){e=m("div"),t=R("Unknown view mode: "),s=R(n),c(e,"class","error")},m(r,o){I(r,e,o),u(e,t),u(e,s)},p(r,o){o&2&&n!==(n=r[1].viewMode+"")&&me(s,n)},i:L,o:L,d(r){r&&S(e)}}}function ds(i){let e,t;return e=new us({props:{session:i[0]}}),{c(){we(e.$$.fragment)},m(n,s){pe(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.session=n[0]),e.$set(r)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function hs(i){let e,t;return e=new Yn({props:{session:i[0]}}),{c(){we(e.$$.fragment)},m(n,s){pe(e,n,s),t=!0},p(n,s){const r={};s&1&&(r.session=n[0]),e.$set(r)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){V(e.$$.fragment,n),t=!1},d(n){ve(e,n)}}}function ms(i){let e;return{c(){e=m("div"),e.innerHTML='<div class="spacer" style="height: 20px;"></div> <div class="error">No samples recorded.</div>',c(e,"class","margins")},m(t,n){I(t,e,n)},p:L,i:L,o:L,d(t){t&&S(e)}}}function ps(i){let e,t,n,s,r,o,l,a;n=new Fn({props:{session:i[0]}});const f=[ms,hs,ds,fs],_=[];function v(d,h){return d[0].rootFrames?d[1].viewMode==="call-stack"?1:d[1].viewMode==="timeline"?2:3:0}return o=v(i),l=_[o]=f[o](i),{c(){e=m("div"),t=m("div"),we(n.$$.fragment),s=k(),r=m("div"),l.c(),c(t,"class","header"),c(r,"class","body svelte-1vwroj7"),c(e,"class","app svelte-1vwroj7")},m(d,h){I(d,e,h),u(e,t),pe(n,t,null),u(e,s),u(e,r),_[o].m(r,null),a=!0},p(d,[h]){const p={};h&1&&(p.session=d[0]),n.$set(p);let g=o;o=v(d),o===g?_[o].p(d,h):(Fe(),V(_[g],1,1,()=>{_[g]=null}),Pe(),l=_[o],l?l.p(d,h):(l=_[o]=f[o](d),l.c()),D(l,1),l.m(r,null))},i(d){a||(D(n.$$.fragment,d),D(l),a=!0)},o(d){V(n.$$.fragment,d),V(l),a=!1},d(d){d&&S(e),ve(n),_[o].d()}}}function vs(i,e,t){let n;be(i,Qe,d=>t(1,n=d));let{session:s}=e;const r=document.createElement("link");r.rel="shortcut icon",r.href=Pn,document.head.appendChild(r);const o=document.createElement("link");o.rel="preload",o.as="style",o.onload=()=>{o.rel="stylesheet"},o.href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,600|Source+Sans+Pro:400,600&display=swap",document.head.appendChild(o);const l=s.rootFrames;let a=0;if(l!=null)for(const d of Object.keys(l)){const h=l[d];if(h!=null){const p=h.time;p>a&&(a=p)}}const f=a.toLocaleString(void 0,{maximumSignificantDigits:3});let _,v;return(v=/[^\s/]+(:\d+)?$/.exec(s.target_description))?_=v[0]:_=s.target_description,document.title=`${f}s - ${_} - pyinstrument`,i.$$set=d=>{"session"in d&&t(0,s=d.session)},[s,n]}class _s extends ue{constructor(e){super(),ce(this,e,vs,ps,oe,{session:0})}}class gs{constructor(e){A(this,"startTime");A(this,"threadStartTimes");A(this,"duration");A(this,"minInterval");A(this,"maxInterval");A(this,"sampleCount");A(this,"target_description");A(this,"cpuTime");A(this,"rootFrames");A(this,"sysPath");A(this,"sysPrefixes");A(this,"_shortenPathCache",{});this.startTime=e.session.start_time,this.threadStartTimes=e.session.thread_start_times,this.duration=e.session.duration,this.minInterval=e.session.min_interval,this.maxInterval=e.session.max_interval,this.sampleCount=e.session.sample_count,this.target_description=e.session.target_description,this.cpuTime=e.session.cpu_time,this.sysPath=e.session.sys_path,this.sysPrefixes=e.session.sys_prefixes,this.rootFrames={};for(const t of Object.keys(e.frame_trees))this.rootFrames[t]=new et(e.frame_trees[t],this)}shortenPath(e){if(this._shortenPathCache[e])return this._shortenPathCache[e];let t=e;if(qe(e).length>1)for(const s of this.sysPath){const r=bs(e,s);qe(r).length<qe(t).length&&(t=r)}return this._shortenPathCache[e]=t,t}threadStartTime(e){return this.threadStartTimes.hasOwnProperty(e)?this.threadStartTimes[e]:0}}function qe(i){return i.split(/[/\\]/)}function di(i){const e=qe(i);return e.length>0&&e[0].endsWith(":")?e[0]:null}function bs(i,e){if(di(i)!=di(e))return i;const t=qe(i),n=qe(e);let s=0;for(;s<t.length&&s<n.length&&t[s]==n[s];)s++;return n.slice(s).map(o=>"..").concat(t.slice(s)).join("/")}const ws={render(i,e){const t=new gs(e);return new _s({target:i,props:{session:t}})}};function hi(i,e,t){const n=i.slice();return n[10]=e[t],n}function mi(i){let e,t=i[10].name+"",n;return{c(){e=m("option"),n=R(t),e.__value=i[10],le(e,e.__value)},m(s,r){I(s,e,r),u(e,n)},p:L,d(s){s&&S(e)}}}function ys(i){let e,t,n=i[3].message+"",s;return{c(){e=m("div"),t=R("Error loading file: "),s=R(n)},m(r,o){I(r,e,o),u(e,t),u(e,s)},p(r,o){o&8&&n!==(n=r[3].message+"")&&me(s,n)},d(r){r&&S(e)}}}function Ts(i){let e;return{c(){e=m("div"),e.textContent="Loading..."},m(t,n){I(t,e,n)},p:L,d(t){t&&S(e)}}}function ks(i){let e,t,n,s,r,o,l,a,f,_,v,d,h,p,g=We(i[5]),y=[];for(let F=0;F<g.length;F+=1)y[F]=mi(hi(i,g,F));function M(F,H){if(F[4])return Ts;if(F[3])return ys}let T=M(i),w=T&&T(i);return{c(){e=m("div"),t=m("div"),n=m("div"),s=k(),r=m("div"),o=R(`Choose a demo profile:
      `),l=m("select");for(let F=0;F<y.length;F+=1)y[F].c();a=k(),f=m("div"),w&&w.c(),_=k(),v=m("div"),c(n,"class","left"),c(l,"class","svelte-1980ffz"),i[0]===void 0&&ft(()=>i[7].call(l)),c(r,"class","right"),c(t,"class","header svelte-1980ffz"),c(v,"class","result-element"),c(v,"style",d=i[1]?"":"display: none"),c(f,"class","body svelte-1980ffz"),c(e,"class","demo-app svelte-1980ffz")},m(F,H){I(F,e,H),u(e,t),u(t,n),u(t,s),u(t,r),u(r,o),u(r,l);for(let E=0;E<y.length;E+=1)y[E]&&y[E].m(l,null);Xt(l,i[0],!0),u(e,a),u(e,f),w&&w.m(f,null),u(f,_),u(f,v),i[8](v),h||(p=B(l,"change",i[7]),h=!0)},p(F,[H]){if(H&32){g=We(F[5]);let E;for(E=0;E<g.length;E+=1){const P=hi(F,g,E);y[E]?y[E].p(P,H):(y[E]=mi(P),y[E].c(),y[E].m(l,null))}for(;E<y.length;E+=1)y[E].d(1);y.length=g.length}H&33&&Xt(l,F[0]),T===(T=M(F))&&w?w.p(F,H):(w&&w.d(1),w=T&&T(F),w&&(w.c(),w.m(f,_))),H&2&&d!==(d=F[1]?"":"display: none")&&c(v,"style",d)},i:L,o:L,d(F){F&&S(e),_i(y,F),w&&w.d(),i[8](null),h=!1,p()}}}function As(i,e,t){const s=Object.entries(Object.assign({"../demo-data/django_template_render.json":()=>gt(()=>import("./django_template_render-CIkNzFIy.js"),[],import.meta.url).then(h=>h.default),"../demo-data/sympy_calculation.json":()=>gt(()=>import("./sympy_calculation-B9Pn_4RL.js"),[],import.meta.url).then(h=>h.default),"../demo-data/wikipedia_article_word_count.json":()=>gt(()=>import("./wikipedia_article_word_count-CGt_pvsZ.js"),[],import.meta.url).then(h=>h.default)})).map(([h,p])=>({name:h.split("/").pop().split(".").slice(0,-1).join("."),promiseFn:p}));let r=s[0],o=null,l=null,a=!1,f=null,_;function v(){r=$i(this),t(0,r),t(5,s)}function d(h){ke[h?"unshift":"push"](()=>{_=h,t(2,_)})}return i.$$.update=()=>{i.$$.dirty&1&&(t(4,a=!0),t(3,l=null),t(1,o=null),r.promiseFn().then(h=>{t(1,o=h),t(3,l=null)}).catch(h=>{t(3,l=h)}).finally(()=>{t(4,a=!1)})),i.$$.dirty&70&&_&&o&&(f&&f.$destroy(),t(6,f=ws.render(_,o)))},[r,o,_,l,a,s,f,v,d]}class Es extends ue{constructor(e){super(),ce(this,e,As,ks,oe,{})}}new Es({target:document.body});
