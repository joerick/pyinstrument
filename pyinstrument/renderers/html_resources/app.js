var pyinstrumentHTMLRenderer=function(){"use strict";var ln=Object.defineProperty;var an=(F,ve,Se)=>ve in F?ln(F,ve,{enumerable:!0,configurable:!0,writable:!0,value:Se}):F[ve]=Se;var T=(F,ve,Se)=>an(F,typeof ve!="symbol"?ve+"":ve,Se);function F(){}function ve(i){return i()}function Se(){return Object.create(null)}function oe(i){i.forEach(ve)}function vt(i){return typeof i=="function"}function re(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function Fi(i){return Object.keys(i).length===0}function Ot(i,...e){if(i==null){for(const s of e)s(void 0);return F}const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ge(i,e,t){i.$$.on_destroy.push(Ot(e,t))}function Pi(i,e,t){return i.set(t),e}function u(i,e){i.appendChild(e)}function L(i,e,t){i.insertBefore(e,t||null)}function S(i){i.parentNode&&i.parentNode.removeChild(i)}function Ri(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function h(i){return document.createElement(i)}function V(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function I(i){return document.createTextNode(i)}function y(){return I(" ")}function Dt(){return I("")}function N(i,e,t,s){return i.addEventListener(e,t,s),()=>i.removeEventListener(e,t,s)}function gt(i){return function(e){return e.preventDefault(),i.call(this,e)}}function _t(i){return function(e){return e.stopPropagation(),i.call(this,e)}}function c(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function bt(i){let e;return{p(...t){e=t,e.forEach(s=>i.push(s))},r(){e.forEach(t=>i.splice(i.indexOf(t),1))}}}function Si(i){return Array.from(i.childNodes)}function _e(i,e){e=""+e,i.data!==e&&(i.data=e)}function ae(i,e){i.value=e??""}function G(i,e,t,s){t==null?i.style.removeProperty(e):i.style.setProperty(e,t,"")}function Ae(i,e,t){i.classList.toggle(e,!!t)}function Ii(i,e,{bubbles:t=!1,cancelable:s=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:s})}class Li{constructor(e=!1){T(this,"is_svg",!1);T(this,"e");T(this,"n");T(this,"t");T(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,s=null){this.e||(this.is_svg?this.e=V(t.nodeName):this.e=h(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(s)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)L(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(S)}}let Ye;function Ue(i){Ye=i}function wt(){if(!Ye)throw new Error("Function called outside component initialization");return Ye}function yt(i){wt().$$.on_mount.push(i)}function Oi(i){wt().$$.on_destroy.push(i)}function Di(){const i=wt();return(e,t,{cancelable:s=!1}={})=>{const n=i.$$.callbacks[e];if(n){const a=Ii(e,t,{cancelable:s});return n.slice().forEach(o=>{o.call(i,a)}),!a.defaultPrevented}return!0}}const De=[],Ee=[];let He=[];const Ht=[],Hi=Promise.resolve();let Tt=!1;function xi(){Tt||(Tt=!0,Hi.then(xt))}function kt(i){He.push(i)}const At=new Set;let xe=0;function xt(){if(xe!==0)return;const i=Ye;do{try{for(;xe<De.length;){const e=De[xe];xe++,Ue(e),Vi(e.$$)}}catch(e){throw De.length=0,xe=0,e}for(Ue(null),De.length=0,xe=0;Ee.length;)Ee.pop()();for(let e=0;e<He.length;e+=1){const t=He[e];At.has(t)||(At.add(t),t())}He.length=0}while(De.length);for(;Ht.length;)Ht.pop()();Tt=!1,At.clear(),Ue(i)}function Vi(i){if(i.fragment!==null){i.update(),oe(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(kt)}}function Ni(i){const e=[],t=[];He.forEach(s=>i.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),He=e}const st=new Set;let Ie;function Ce(){Ie={r:0,c:[],p:Ie}}function Me(){Ie.r||oe(Ie.c),Ie=Ie.p}function O(i,e){i&&i.i&&(st.delete(i),i.i(e))}function D(i,e,t,s){if(i&&i.o){if(st.has(i))return;st.add(i),Ie.c.push(()=>{st.delete(i),s&&(t&&i.d(1),s())}),i.o(e)}else s&&s()}function nt(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function $i(i,e){D(i,1,1,()=>{e.delete(i.key)})}function Bi(i,e,t,s,n,a,o,r,l,f,g,p){let d=i.length,v=a.length,m=d;const b={};for(;m--;)b[i[m].key]=m;const E=[],C=new Map,w=new Map,k=[];for(m=v;m--;){const M=p(n,a,m),_=t(M);let A=o.get(_);A?k.push(()=>A.p(M,e)):(A=f(_,M),A.c()),C.set(_,E[m]=A),_ in b&&w.set(_,Math.abs(m-b[_]))}const H=new Set,W=new Set;function P(M){O(M,1),M.m(r,g),o.set(M.key,M),g=M.first,v--}for(;d&&v;){const M=E[v-1],_=i[d-1],A=M.key,R=_.key;M===_?(g=M.first,d--,v--):C.has(R)?!o.has(A)||H.has(A)?P(M):W.has(R)?d--:w.get(A)>w.get(R)?(W.add(A),P(M)):(H.add(R),d--):(l(_,o),d--)}for(;d--;){const M=i[d];C.has(M.key)||l(M,o)}for(;v;)P(E[v-1]);return oe(k),E}function be(i){i&&i.c()}function ce(i,e,t){const{fragment:s,after_update:n}=i.$$;s&&s.m(e,t),kt(()=>{const a=i.$$.on_mount.map(ve).filter(vt);i.$$.on_destroy?i.$$.on_destroy.push(...a):oe(a),i.$$.on_mount=[]}),n.forEach(kt)}function ue(i,e){const t=i.$$;t.fragment!==null&&(Ni(t.after_update),oe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function zi(i,e){i.$$.dirty[0]===-1&&(De.push(i),xi(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function fe(i,e,t,s,n,a,o=null,r=[-1]){const l=Ye;Ue(i);const f=i.$$={fragment:null,ctx:[],props:a,update:F,not_equal:n,bound:Se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Se(),dirty:r,skip_bound:!1,root:e.target||l.$$.root};o&&o(f.root);let g=!1;if(f.ctx=t?t(i,e.props||{},(p,d,...v)=>{const m=v.length?v[0]:d;return f.ctx&&n(f.ctx[p],f.ctx[p]=m)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](m),g&&zi(i,p)),d}):[],f.update(),g=!0,oe(f.before_update),f.fragment=s?s(f.ctx):!1,e.target){if(e.hydrate){const p=Si(e.target);f.fragment&&f.fragment.l(p),p.forEach(S)}else f.fragment&&f.fragment.c();e.intro&&O(i.$$.fragment),ce(i,e.target,e.anchor),xt()}Ue(l)}class de{constructor(){T(this,"$$");T(this,"$$set")}$destroy(){ue(this,1),this.$destroy=F}$on(e,t){if(!vt(t))return F;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const n=s.indexOf(t);n!==-1&&s.splice(n,1)}}$set(e){this.$$set&&!Fi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Wi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Wi);function qi(i){let e,t;return{c(){e=V("svg"),t=V("path"),c(t,"fill-rule","evenodd"),c(t,"clip-rule","evenodd"),c(t,"d","M5.11634 0.889422C4.86506 -0.296474 3.17237 -0.296474 2.92109 0.889422C2.78291 1.54158 2.10994 1.93011 1.47607 1.72371C0.323418 1.34837 -0.522932 2.81429 0.378448 3.62484C0.87414 4.07059 0.87414 4.84767 0.378448 5.29341C-0.522931 6.10397 0.323418 7.56989 1.47607 7.19455C2.10994 6.98814 2.78291 7.37668 2.92109 8.02883C3.17237 9.21473 4.86506 9.21473 5.11634 8.02883C5.25452 7.37668 5.92749 6.98814 6.56136 7.19455C7.71401 7.56989 8.56036 6.10397 7.65898 5.29341C7.16329 4.84767 7.16329 4.07059 7.65898 3.62484C8.56036 2.81429 7.71401 1.34837 6.56136 1.72371C5.92749 1.93011 5.25452 1.54158 5.11634 0.889422ZM4.01883 6.33408C5.05436 6.33408 5.89383 5.49462 5.89383 4.45908C5.89383 3.42355 5.05436 2.58408 4.01883 2.58408C2.98329 2.58408 2.14383 3.42355 2.14383 4.45908C2.14383 5.49462 2.98329 6.33408 4.01883 6.33408Z"),c(t,"fill","currentColor"),c(e,"width","9"),c(e,"height","9"),c(e,"viewBox","0 0 9 9"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(s,n){L(s,e,n),u(e,t)},p:F,i:F,o:F,d(s){s&&S(e)}}}class ji extends de{constructor(e){super(),fe(this,e,null,qi,re,{})}}function Yi(i){let e,t,s,n,a,o,r,l,f,g,p,d,v,m,b,E,C;return{c(){e=V("svg"),t=V("g"),s=V("path"),n=V("path"),a=V("defs"),o=V("filter"),r=V("feFlood"),l=V("feBlend"),f=V("feGaussianBlur"),g=V("linearGradient"),p=V("stop"),d=V("stop"),v=V("stop"),m=V("linearGradient"),b=V("stop"),E=V("stop"),C=V("stop"),c(s,"fill-rule","evenodd"),c(s,"clip-rule","evenodd"),c(s,"d","M30 9H10V11.5H30V9ZM30 19H12.5V21.5H30V19ZM12.5 14H32.5V16.5H12.5V14ZM20 24H12.5V26.5H20V24ZM12.5 29H20V31.5H12.5V29ZM22.5 34H10V36.5H22.5V34Z"),c(s,"fill","url(#paint0_linear_67_262)"),c(t,"opacity","0.5"),c(t,"filter","url(#filter0_f_67_262)"),c(n,"fill-rule","evenodd"),c(n,"clip-rule","evenodd"),c(n,"d","M30 9H10V11.5H30V9ZM30 19H12.5V21.5H30V19ZM12.5 14H32.5V16.5H12.5V14ZM20 24H12.5V26.5H20V24ZM12.5 29H20V31.5H12.5V29ZM22.5 34H10V36.5H22.5V34Z"),c(n,"fill","url(#paint1_linear_67_262)"),c(r,"flood-opacity","0"),c(r,"result","BackgroundImageFix"),c(l,"mode","normal"),c(l,"in","SourceGraphic"),c(l,"in2","BackgroundImageFix"),c(l,"result","shape"),c(f,"stdDeviation","3.39785"),c(f,"result","effect1_foregroundBlur_67_262"),c(o,"id","filter0_f_67_262"),c(o,"x","3.2043"),c(o,"y","2.2043"),c(o,"width","36.0914"),c(o,"height","41.0914"),c(o,"filterUnits","userSpaceOnUse"),c(o,"color-interpolation-filters","sRGB"),c(p,"stop-color","#FFAA00"),c(d,"offset","0.514478"),c(d,"stop-color","#FFEB00"),c(v,"offset","1"),c(v,"stop-color","#98FF05"),c(g,"id","paint0_linear_67_262"),c(g,"x1","7.3769"),c(g,"y1","18.4566"),c(g,"x2","20.6583"),c(g,"y2","33.1038"),c(g,"gradientUnits","userSpaceOnUse"),c(b,"stop-color","#FFC834"),c(E,"offset","0.514478"),c(E,"stop-color","#FAF534"),c(C,"offset","1"),c(C,"stop-color","#B8FF38"),c(m,"id","paint1_linear_67_262"),c(m,"x1","7.3769"),c(m,"y1","18.4566"),c(m,"x2","20.6583"),c(m,"y2","33.1038"),c(m,"gradientUnits","userSpaceOnUse"),c(e,"width","44"),c(e,"height","44"),c(e,"viewBox","0 0 44 44"),c(e,"fill","none"),c(e,"xmlns","http://www.w3.org/2000/svg")},m(w,k){L(w,e,k),u(e,t),u(t,s),u(e,n),u(e,a),u(a,o),u(o,r),u(o,l),u(o,f),u(a,g),u(g,p),u(g,d),u(g,v),u(a,m),u(m,b),u(m,E),u(m,C)},p:F,i:F,o:F,d(w){w&&S(e)}}}class Ui extends de{constructor(e){super(),fe(this,e,null,Yi,re,{})}}const Ve=[];function Xi(i,e){return{subscribe:ot(i,e).subscribe}}function ot(i,e=F){let t;const s=new Set;function n(r){if(re(i,r)&&(i=r,t)){const l=!Ve.length;for(const f of s)f[1](),Ve.push(f,i);if(l){for(let f=0;f<Ve.length;f+=2)Ve[f][0](Ve[f+1]);Ve.length=0}}}function a(r){n(r(i))}function o(r,l=F){const f=[r,l];return s.add(f),s.size===1&&(t=e(n,a)||F),r(i),()=>{s.delete(f),s.size===0&&t&&(t(),t=null)}}return{set:n,update:a,subscribe:o}}function Vt(i,e,t){const s=!Array.isArray(i),n=s?[i]:i;if(!n.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=e.length<2;return Xi(t,(o,r)=>{let l=!1;const f=[];let g=0,p=F;const d=()=>{if(g)return;p();const m=e(s?f[0]:f,o,r);a?o(m):p=vt(m)?m:F},v=n.map((m,b)=>Ot(m,E=>{f[b]=E,g&=~(1<<b),l&&d()},()=>{g|=1<<b}));return l=!0,d(),function(){oe(v),p(),l=!1}})}var Et={local:{},session:{}};function Gi(i){return i==="local"?localStorage:sessionStorage}function Ct(i,e,t){var s,n,a,o,r,l,f,g;t!=null&&t.onError&&console.warn("onError has been deprecated. Please use onWriteError instead");const p=(s=t==null?void 0:t.serializer)!=null?s:JSON,d=(n=t==null?void 0:t.storage)!=null?n:"local",v=(a=t==null?void 0:t.syncTabs)!=null?a:!0,m=(r=(o=t==null?void 0:t.onWriteError)!=null?o:t==null?void 0:t.onError)!=null?r:P=>console.error(`Error when writing value from persisted store "${i}" to ${d}`,P),b=(l=t==null?void 0:t.onParseError)!=null?l:(P,M)=>console.error(`Error when parsing ${P?'"'+P+'"':"value"} from persisted store "${i}"`,M),E=(f=t==null?void 0:t.beforeRead)!=null?f:P=>P,C=(g=t==null?void 0:t.beforeWrite)!=null?g:P=>P,w=typeof window<"u"&&typeof document<"u",k=w?Gi(d):null;function H(P,M){const _=C(M);try{k==null||k.setItem(P,p.stringify(_))}catch(A){m(A)}}function W(){function P(R){try{return p.parse(R)}catch(B){b(R,B)}}const M=k==null?void 0:k.getItem(i);if(M==null)return e;const _=P(M);return _==null?e:E(_)}if(!Et[d][i]){const P=W(),M=ot(P,R=>{if(w&&d=="local"&&v){const B=J=>{if(J.key===i&&J.newValue){let $;try{$=p.parse(J.newValue)}catch(ee){b(J.newValue,ee);return}const Oe=E($);R(Oe)}};return window.addEventListener("storage",B),()=>window.removeEventListener("storage",B)}}),{subscribe:_,set:A}=M;Et[d][i]={set(R){A(R),H(i,R)},update(R){return M.update(B=>{const J=R(B);return H(i,J),J})},reset(){this.set(e)},subscribe:_}}return Et[d][i]}function Nt(){return{collapseMode:"non-application",collapseCustomHide:"",collapseCustomShow:"",removeImportlib:!0,removeTracebackHide:!0,removePyinstrument:!0,removeIrrelevant:!0,removeIrrelevantThreshold:.001,timeFormat:"absolute"}}const Z=Ct("pyinstrument:viewOptionsCallStack",Nt(),{syncTabs:!0,beforeRead(i){return{...Nt(),...i}}}),Xe=Ct("pyinstrument:viewOptions",{viewMode:"call-stack"},{syncTabs:!1}),Ge=Ct("pyinstrument:viewOptionsTimeline",{removeImportlib:!0,removeTracebackHide:!0,removePyinstrument:!0,removeIrrelevant:!0,removeIrrelevantThreshold:1e-4},{syncTabs:!0});class Zi extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function Ki(i,e){const t=e*(i.length-1),s=Math.floor(t),n=Math.ceil(t),a=i[s],o=i[n],r=t-s;return Ji(r,{to:[a,o]})}function Qi(i,e,t){return i===1/0?(console.warn("clamp: value is Infinity, returning `max`",i),t):i===-1/0?(console.warn("clamp: value is -Infinity, returning `min`",i),e):Number.isFinite(i)?i<e?e:i>t?t:i:(console.warn("clamp: value isn't finite, returning `min`",i),e)}function Ne(i,e){const{from:t=[0,1],to:s=[0,1]}=e,n=e.clamp||!1;let a=(i-t[0])/(t[1]-t[0])*(s[1]-s[0])+s[0];return n&&(a=Qi(a,Math.min(s[0],s[1]),Math.max(s[0],s[1]))),a}function Ji(i,e){return`rgb(
      ${Ne(i,{from:e.from,to:[e.to[0][0],e.to[1][0]],clamp:e.clamp})},
      ${Ne(i,{from:e.from,to:[e.to[0][1],e.to[1][1]],clamp:e.clamp})},
      ${Ne(i,{from:e.from,to:[e.to[0][2],e.to[1][2]],clamp:e.clamp})}
    )`}function es(i){if(i.substr(0,1)=="#"){var e=(i.length-1)/3,t=[17,1,.062272][e-1];return[Math.round(parseInt(i.substr(1,e),16)*t),Math.round(parseInt(i.substr(1+e,e),16)*t),Math.round(parseInt(i.substr(1+2*e,e),16)*t)]}else return i.split("(")[1].split(")")[0].split(",").map(s=>+s)}function ts(i,e,t={}){const{ignore:s=[],capture:n=!0}=t,a=window;if(!a)return()=>{};let o=!0,r=!1;const l=v=>s.some(m=>typeof m=="string"?Array.from(document.querySelectorAll(m)).some(b=>b===v.target||v.composedPath().includes(b)):m&&(v.target===m||v.composedPath().includes(m))),f=v=>{if(!(!i||i===v.target||v.composedPath().includes(i))){if(v.detail===0&&(o=!l(v)),!o){o=!0;return}e(v)}},g=v=>{r||(r=!0,setTimeout(()=>{r=!1},0),f(v))},p=v=>{o=!l(v)&&!!(i&&!v.composedPath().includes(i))};return a.addEventListener("click",g,{passive:!0,capture:n}),a.addEventListener("pointerdown",p,{passive:!0}),()=>{a.removeEventListener("click",g,{capture:n}),a.removeEventListener("pointerdown",p)}}function is(i){const e=document.createElement("div");return e.appendChild(document.createTextNode(i)),e.innerHTML}function Mt(i){return is(i).replace(/(\/|\\)/g,t=>`${t}<wbr>`)}function ss(i,e){if(i.length==0)return null;let t=i[0],s=e(t);for(const n of i){const a=e(n);a>s&&(t=n,s=a)}return t}function rt(){return Math.random().toString(36).substring(2)}function ns(i){let e,t,s,n,a,o,r,l,f,g,p,d,v,m,b,E,C,w,k,H,W,P,M,_,A,R,B,J,$,Oe,ee,Q,Y,Fe,q,Qe,Je,le,j,et,te,he,me,we,pe,Te,tt,ke,K,Be,Pe,it,z,x,U,pi,ct,vi,gi,ze,Re,_i,We,ut,bi,wi,ye,yi,Ti,qe,ft,ki,je,dt,ht,ie,Ai,Ei,mt,pt,se,Ci,St,It,Lt,Mi;return St=bt(i[5][0]),It=bt(i[5][1]),{c(){e=h("div"),t=h("div"),s=h("div"),s.textContent="Collapse frames",n=y(),a=h("div"),o=h("div"),r=h("input"),l=y(),f=h("label"),g=I("Library code"),p=y(),d=h("div"),d.textContent="Code run from the Python stdlib, a virtualenv, or a conda env will be collapsed.",v=y(),m=h("div"),b=h("input"),E=y(),C=h("label"),w=I("Custom"),k=y(),H=h("div"),W=I(`Regex on the source file path.
          `),P=h("div"),M=h("label"),M.textContent="Show",_=y(),A=h("input"),R=y(),B=h("label"),B.textContent="Hide",J=y(),$=h("input"),Oe=I(`
          If neither match, the library code rule is used.`),ee=y(),Q=h("div"),Y=h("input"),Fe=y(),q=h("label"),Qe=I("Disabled"),Je=y(),le=h("div"),j=h("div"),j.textContent="Remove frames",et=y(),te=h("div"),he=h("div"),me=h("input"),we=y(),pe=h("label"),Te=I("importlib machinery"),tt=y(),ke=h("div"),K=h("input"),Be=y(),Pe=h("label"),it=I("Frames declaring __traceback_hide__"),z=y(),x=h("div"),U=h("input"),pi=y(),ct=h("label"),vi=I("pyinstrument frames"),gi=y(),ze=h("div"),Re=h("input"),_i=y(),We=h("span"),ut=h("label"),bi=I("Frames with durations less than"),wi=y(),ye=h("input"),yi=I(`
          % of the total time`),Ti=y(),qe=h("div"),ft=h("div"),ft.textContent="Time format",ki=y(),je=h("div"),dt=h("div"),ht=h("label"),ie=h("input"),Ai=I(`
          Absolute time in seconds`),Ei=y(),mt=h("div"),pt=h("label"),se=h("input"),Ci=I(`
          Percentage of the total run time`),c(s,"class","name svelte-1pecl4m"),c(r,"id",i[1]+"collapseModeAll"),c(r,"type","radio"),r.__value="non-application",ae(r,r.__value),c(r,"class","svelte-1pecl4m"),c(f,"for",i[1]+"collapseModeAll"),c(d,"class","description svelte-1pecl4m"),c(o,"class","option svelte-1pecl4m"),c(b,"id",i[1]+"collapseModeCustom"),c(b,"type","radio"),b.__value="custom",ae(b,b.__value),c(b,"class","svelte-1pecl4m"),c(C,"for",i[1]+"collapseModeCustom"),c(M,"for","collapseCustomShow"),c(M,"class","svelte-1pecl4m"),c(A,"id","collapseCustomShow"),c(A,"type","text"),c(A,"placeholder","myproject"),c(A,"spellcheck","false"),c(A,"autocapitalize","off"),c(A,"autocomplete","off"),c(A,"autocorrect","off"),c(A,"class","svelte-1pecl4m"),c(B,"for","collapseCustomHide"),c(B,"class","svelte-1pecl4m"),c($,"id","collapseCustomHide"),c($,"type","text"),c($,"placeholder",".*/lib/.*"),c($,"spellcheck","false"),c($,"autocapitalize","off"),c($,"autocomplete","off"),c($,"autocorrect","off"),c($,"class","svelte-1pecl4m"),c(P,"class","mini-input-grid svelte-1pecl4m"),c(H,"class","description svelte-1pecl4m"),c(m,"class","option svelte-1pecl4m"),c(Y,"id",i[1]+"collapseModeDisabled"),c(Y,"type","radio"),Y.__value="disabled",ae(Y,Y.__value),c(Y,"class","svelte-1pecl4m"),c(q,"for",i[1]+"collapseModeDisabled"),c(Q,"class","option svelte-1pecl4m"),c(a,"class","body"),c(t,"class","option-group svelte-1pecl4m"),c(j,"class","name svelte-1pecl4m"),c(me,"id",i[1]+"removeImportlib"),c(me,"type","checkbox"),c(me,"class","svelte-1pecl4m"),c(pe,"for",i[1]+"removeImportlib"),c(he,"class","option svelte-1pecl4m"),c(K,"id",i[1]+"removeTracebackHide"),c(K,"type","checkbox"),c(K,"class","svelte-1pecl4m"),c(Pe,"for",i[1]+"removeTracebackHide"),c(ke,"class","option svelte-1pecl4m"),c(U,"id",i[1]+"removePyinstrument"),c(U,"type","checkbox"),c(U,"class","svelte-1pecl4m"),c(ct,"for",i[1]+"removePyinstrument"),c(x,"class","option svelte-1pecl4m"),c(Re,"id",i[1]+"removeIrrelevant"),c(Re,"type","checkbox"),c(Re,"class","svelte-1pecl4m"),c(ut,"for",i[1]+"removeIrrelevant"),c(ye,"type","number"),ye.value=i[2](),c(ye,"min","0"),c(ye,"max","99"),c(ye,"step","0.01"),G(ye,"width","4em"),c(ye,"class","svelte-1pecl4m"),c(ze,"class","option svelte-1pecl4m"),c(te,"class","body"),c(le,"class","option-group svelte-1pecl4m"),c(ft,"class","name svelte-1pecl4m"),c(ie,"type","radio"),ie.__value="absolute",ae(ie,ie.__value),c(ie,"class","svelte-1pecl4m"),c(dt,"class","option svelte-1pecl4m"),c(se,"type","radio"),se.__value="proportion",ae(se,se.__value),c(se,"class","svelte-1pecl4m"),c(mt,"class","option svelte-1pecl4m"),c(je,"class","body"),c(qe,"class","option-group svelte-1pecl4m"),c(e,"class","view-options-call-stack svelte-1pecl4m"),St.p(ie,se),It.p(r,b,Y)},m(X,ne){L(X,e,ne),u(e,t),u(t,s),u(t,n),u(t,a),u(a,o),u(o,r),r.checked=r.__value===i[0].collapseMode,u(o,l),u(o,f),u(f,g),u(o,p),u(o,d),u(a,v),u(a,m),u(m,b),b.checked=b.__value===i[0].collapseMode,u(m,E),u(m,C),u(C,w),u(m,k),u(m,H),u(H,W),u(H,P),u(P,M),u(P,_),u(P,A),ae(A,i[0].collapseCustomShow),u(P,R),u(P,B),u(P,J),u(P,$),ae($,i[0].collapseCustomHide),u(H,Oe),u(a,ee),u(a,Q),u(Q,Y),Y.checked=Y.__value===i[0].collapseMode,u(Q,Fe),u(Q,q),u(q,Qe),u(e,Je),u(e,le),u(le,j),u(le,et),u(le,te),u(te,he),u(he,me),me.checked=i[0].removeImportlib,u(he,we),u(he,pe),u(pe,Te),u(te,tt),u(te,ke),u(ke,K),K.checked=i[0].removeTracebackHide,u(ke,Be),u(ke,Pe),u(Pe,it),u(te,z),u(te,x),u(x,U),U.checked=i[0].removePyinstrument,u(x,pi),u(x,ct),u(ct,vi),u(te,gi),u(te,ze),u(ze,Re),Re.checked=i[0].removeIrrelevant,u(ze,_i),u(ze,We),u(We,ut),u(ut,bi),u(We,wi),u(We,ye),u(We,yi),u(e,Ti),u(e,qe),u(qe,ft),u(qe,ki),u(qe,je),u(je,dt),u(dt,ht),u(ht,ie),ie.checked=ie.__value===i[0].timeFormat,u(ht,Ai),u(je,Ei),u(je,mt),u(mt,pt),u(pt,se),se.checked=se.__value===i[0].timeFormat,u(pt,Ci),Lt||(Mi=[N(r,"change",i[4]),N(b,"change",i[6]),N(A,"input",i[7]),N($,"input",i[8]),N(Y,"change",i[9]),N(me,"change",i[10]),N(K,"change",i[11]),N(U,"change",i[12]),N(Re,"change",i[13]),N(ye,"input",i[3]),N(ie,"change",i[14]),N(se,"change",i[15])],Lt=!0)},p(X,[ne]){ne&1&&(r.checked=r.__value===X[0].collapseMode),ne&1&&(b.checked=b.__value===X[0].collapseMode),ne&1&&A.value!==X[0].collapseCustomShow&&ae(A,X[0].collapseCustomShow),ne&1&&$.value!==X[0].collapseCustomHide&&ae($,X[0].collapseCustomHide),ne&1&&(Y.checked=Y.__value===X[0].collapseMode),ne&1&&(me.checked=X[0].removeImportlib),ne&1&&(K.checked=X[0].removeTracebackHide),ne&1&&(U.checked=X[0].removePyinstrument),ne&1&&(Re.checked=X[0].removeIrrelevant),ne&1&&(ie.checked=ie.__value===X[0].timeFormat),ne&1&&(se.checked=se.__value===X[0].timeFormat)},i:F,o:F,d(X){X&&S(e),St.r(),It.r(),Lt=!1,oe(Mi)}}}function os(i,e,t){let s;ge(i,Z,k=>t(0,s=k));const n=rt();function a(){return(s.removeIrrelevantThreshold*100).toLocaleString(void 0,{maximumFractionDigits:4})}function o(k){Pi(Z,s.removeIrrelevantThreshold=k.currentTarget.valueAsNumber/100,s)}const r=[[],[]];function l(){s.collapseMode=this.__value,Z.set(s)}function f(){s.collapseMode=this.__value,Z.set(s)}function g(){s.collapseCustomShow=this.value,Z.set(s)}function p(){s.collapseCustomHide=this.value,Z.set(s)}function d(){s.collapseMode=this.__value,Z.set(s)}function v(){s.removeImportlib=this.checked,Z.set(s)}function m(){s.removeTracebackHide=this.checked,Z.set(s)}function b(){s.removePyinstrument=this.checked,Z.set(s)}function E(){s.removeIrrelevant=this.checked,Z.set(s)}function C(){s.timeFormat=this.__value,Z.set(s)}function w(){s.timeFormat=this.__value,Z.set(s)}return[s,n,a,o,l,r,f,g,p,d,v,m,b,E,C,w]}class rs extends de{constructor(e){super(),fe(this,e,os,ns,re,{})}}function ls(i){let e,t,s,n,a,o,r,l,f,g,p,d,v,m,b,E,C,w,k,H,W,P,M,_;return{c(){e=h("div"),t=h("div"),s=h("div"),s.textContent="Remove frames",n=y(),a=h("div"),o=h("div"),r=h("input"),l=y(),f=h("label"),g=I("importlib machinery"),p=y(),d=h("div"),v=h("input"),m=y(),b=h("label"),E=I("Frames declaring __traceback_hide__"),C=y(),w=h("div"),k=h("input"),H=y(),W=h("label"),P=I("pyinstrument frames"),c(s,"class","name"),c(r,"id",i[1]+"removeImportlib"),c(r,"type","checkbox"),c(f,"for",i[1]+"removeImportlib"),c(o,"class","option"),c(v,"id",i[1]+"removeTracebackHide"),c(v,"type","checkbox"),c(b,"for",i[1]+"removeTracebackHide"),c(d,"class","option"),c(k,"id",i[1]+"removePyinstrument"),c(k,"type","checkbox"),c(W,"for",i[1]+"removePyinstrument"),c(w,"class","option"),c(a,"class","body"),c(t,"class","option-group"),c(e,"class","view-options-timeline svelte-vsz8zm")},m(A,R){L(A,e,R),u(e,t),u(t,s),u(t,n),u(t,a),u(a,o),u(o,r),r.checked=i[0].removeImportlib,u(o,l),u(o,f),u(f,g),u(a,p),u(a,d),u(d,v),v.checked=i[0].removeTracebackHide,u(d,m),u(d,b),u(b,E),u(a,C),u(a,w),u(w,k),k.checked=i[0].removePyinstrument,u(w,H),u(w,W),u(W,P),M||(_=[N(r,"change",i[2]),N(v,"change",i[3]),N(k,"change",i[4])],M=!0)},p(A,[R]){R&1&&(r.checked=A[0].removeImportlib),R&1&&(v.checked=A[0].removeTracebackHide),R&1&&(k.checked=A[0].removePyinstrument)},i:F,o:F,d(A){A&&S(e),M=!1,oe(_)}}}function as(i,e,t){let s;ge(i,Ge,l=>t(0,s=l));const n=rt();function a(){s.removeImportlib=this.checked,Ge.set(s)}function o(){s.removeTracebackHide=this.checked,Ge.set(s)}function r(){s.removePyinstrument=this.checked,Ge.set(s)}return[s,n,a,o,r]}class cs extends de{constructor(e){super(),fe(this,e,as,ls,re,{})}}function us(i){let e,t;return e=new cs({}),{c(){be(e.$$.fragment)},m(s,n){ce(e,s,n),t=!0},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){ue(e,s)}}}function fs(i){let e,t;return e=new rs({}),{c(){be(e.$$.fragment)},m(s,n){ce(e,s,n),t=!0},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){ue(e,s)}}}function ds(i){let e,t,s,n,a,o,r,l,f;const g=[fs,us],p=[];function d(v,m){return v[0].viewMode==="call-stack"?0:v[0].viewMode==="timeline"?1:-1}return~(r=d(i))&&(l=p[r]=g[r](i)),{c(){e=h("div"),t=h("div"),s=h("div"),n=I(i[3]),a=y(),o=h("div"),l&&l.c(),c(s,"class","title-row svelte-rpk7lo"),c(o,"class","body svelte-rpk7lo"),c(t,"class","box svelte-rpk7lo"),c(e,"class","view-options svelte-rpk7lo")},m(v,m){L(v,e,m),u(e,t),u(t,s),u(s,n),u(t,a),u(t,o),~r&&p[r].m(o,null),i[4](t),i[5](e),f=!0},p(v,[m]){(!f||m&8)&&_e(n,v[3]);let b=r;r=d(v),r!==b&&(l&&(Ce(),D(p[b],1,1,()=>{p[b]=null}),Me()),~r?(l=p[r],l||(l=p[r]=g[r](v),l.c()),O(l,1),l.m(o,null)):l=null)},i(v){f||(O(l),f=!0)},o(v){D(l),f=!1},d(v){v&&S(e),~r&&p[r].d(),i[4](null),i[5](null)}}}function hs(i,e,t){let s;ge(i,Xe,d=>t(0,s=d));const n=Di();function a(){n("close")}let o,r;yt(()=>{if(r)return ts(r,a,{ignore:[".js-view-options-button"]})});function l(){if(!o||!r)return;const d=o.getBoundingClientRect(),m=r.getBoundingClientRect().width;d.right-m-20<0?t(2,r.style.right=`${d.right-m-20}px`,r):t(2,r.style.right="0",r)}yt(()=>(l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)));let f="View options";function g(d){Ee[d?"unshift":"push"](()=>{r=d,t(2,r)})}function p(d){Ee[d?"unshift":"push"](()=>{o=d,t(1,o)})}return i.$$.update=()=>{i.$$.dirty&1&&(s.viewMode==="call-stack"?t(3,f="Call stack view options"):s.viewMode==="timeline"&&t(3,f="Timeline view options"))},[s,o,r,f,g,p]}class ms extends de{constructor(e){super(),fe(this,e,hs,ds,re,{})}}function $t(i){let e,t;return e=new ms({}),e.$on("close",i[9]),{c(){be(e.$$.fragment)},m(s,n){ce(e,s,n),t=!0},p:F,i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){ue(e,s)}}}function ps(i){let e,t,s,n,a,o,r,l,f=Mt(i[0].target_description)+"",g,p,d,v,m,b,E,C,w,k,H,W,P,M=i[0].sampleCount+"",_,A,R,B,J,$,Oe,ee,Q,Y,Fe,q,Qe,Je,le,j,et,te,he,me,we,pe,Te,tt,ke,K,Be,Pe,it;a=new Ui({}),Te=new ji({});let z=i[1]&&$t(i);return Be=bt(i[7][0]),{c(){e=h("div"),t=h("div"),s=h("div"),n=h("div"),be(a.$$.fragment),o=y(),r=h("div"),l=h("div"),g=y(),p=h("div"),d=h("div"),v=h("span"),v.textContent="Recorded:",m=y(),b=h("span"),b.textContent=`${i[3]}`,E=y(),C=h("br"),w=y(),k=h("div"),H=h("span"),H.textContent="Samples:",W=y(),P=h("span"),_=I(M),A=y(),R=h("div"),B=h("span"),B.textContent="CPU utilization:",J=y(),$=h("span"),$.textContent=`${(i[4]*100).toFixed(0)}%`,Oe=y(),ee=h("div"),Q=h("div"),Y=I(`View:
            `),Fe=h("label"),q=h("input"),Qe=I(`
              Call stack`),Je=y(),le=h("label"),j=h("input"),et=I(`
              Timeline`),te=y(),he=h("div"),me=y(),we=h("div"),pe=h("button"),be(Te.$$.fragment),tt=I(`
              View options`),ke=y(),z&&z.c(),c(n,"class","logo svelte-qdxst2"),c(l,"class","target-description svelte-qdxst2"),c(v,"class","metric-label svelte-qdxst2"),c(b,"class","metric-value svelte-qdxst2"),c(d,"class","metric date svelte-qdxst2"),c(C,"class","svelte-qdxst2"),c(H,"class","metric-label svelte-qdxst2"),c(P,"class","metric-value svelte-qdxst2"),c(k,"class","metric svelte-qdxst2"),c(B,"class","metric-label svelte-qdxst2"),c($,"class","metric-value svelte-qdxst2"),c(R,"class","metric svelte-qdxst2"),c(p,"class","metrics svelte-qdxst2"),c(q,"type","radio"),q.__value="call-stack",ae(q,q.__value),c(q,"class","svelte-qdxst2"),c(Fe,"class","svelte-qdxst2"),c(j,"type","radio"),j.__value="timeline",ae(j,j.__value),c(j,"class","svelte-qdxst2"),c(le,"class","svelte-qdxst2"),c(Q,"class","toggle"),c(he,"class","spacer"),G(he,"flex","1"),c(pe,"class","js-view-options-button svelte-qdxst2"),c(we,"class","button-container svelte-qdxst2"),c(ee,"class","view-options svelte-qdxst2"),c(r,"class","layout svelte-qdxst2"),c(s,"class","row svelte-qdxst2"),c(t,"class","margins"),c(e,"class","header svelte-qdxst2"),Be.p(q,j)},m(x,U){L(x,e,U),u(e,t),u(t,s),u(s,n),ce(a,n,null),u(s,o),u(s,r),u(r,l),l.innerHTML=f,u(r,g),u(r,p),u(p,d),u(d,v),u(d,m),u(d,b),u(p,E),u(p,C),u(p,w),u(p,k),u(k,H),u(k,W),u(k,P),u(P,_),u(p,A),u(p,R),u(R,B),u(R,J),u(R,$),u(r,Oe),u(r,ee),u(ee,Q),u(Q,Y),u(Q,Fe),u(Fe,q),q.checked=q.__value===i[2].viewMode,u(Fe,Qe),u(Q,Je),u(Q,le),u(le,j),j.checked=j.__value===i[2].viewMode,u(le,et),u(ee,te),u(ee,he),u(ee,me),u(ee,we),u(we,pe),ce(Te,pe,null),u(pe,tt),u(we,ke),z&&z.m(we,null),K=!0,Pe||(it=[N(q,"change",i[6]),N(j,"change",i[8]),N(pe,"click",_t(gt(i[5])))],Pe=!0)},p(x,[U]){(!K||U&1)&&f!==(f=Mt(x[0].target_description)+"")&&(l.innerHTML=f),(!K||U&1)&&M!==(M=x[0].sampleCount+"")&&_e(_,M),U&4&&(q.checked=q.__value===x[2].viewMode),U&4&&(j.checked=j.__value===x[2].viewMode),x[1]?z?(z.p(x,U),U&2&&O(z,1)):(z=$t(x),z.c(),O(z,1),z.m(we,null)):z&&(Ce(),D(z,1,1,()=>{z=null}),Me())},i(x){K||(O(a.$$.fragment,x),O(Te.$$.fragment,x),O(z),K=!0)},o(x){D(a.$$.fragment,x),D(Te.$$.fragment,x),D(z),K=!1},d(x){x&&S(e),ue(a),ue(Te),z&&z.d(),Be.r(),Pe=!1,oe(it)}}}function vs(i,e,t){let s;ge(i,Xe,v=>t(2,s=v));let{session:n}=e;const a=new Date(n.startTime*1e3).toLocaleString(void 0,{dateStyle:"long",timeStyle:"medium"}),o=n.cpuTime/n.duration;let r=!1;function l(v){t(1,r=!r)}const f=[[]];function g(){s.viewMode=this.__value,Xe.set(s)}function p(){s.viewMode=this.__value,Xe.set(s)}const d=()=>t(1,r=!1);return i.$$set=v=>{"session"in v&&t(0,n=v.session)},[n,r,s,a,o,l,g,f,p,d]}class gs extends de{constructor(e){super(),fe(this,e,vs,ps,re,{session:0})}}const _s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWmSURBVHgBtVc7i11VFF5rn3PvPKoLFlqmDGPhaGVpJQoWAZEEGxERFBsDgnY6KFpaWWrQysRGf4BgmSKQFCKWKQMKTqNzz2svv/XY55ybeycTCw+z736cs/f61rdee5hmz/Hx85c66m4QyTEzrdAo4cd6EuuJ2P4wtbmUgfZkCyRoWVcwyMI29ybW47sfhRfXf793+z4X4ZchPEl3F2esElYrbRVaEjQGEKGE3jcUofGwlIEBygoACAa0fmDrdV4AOAg6FV4+W49nUPdlEW4AElGNtqjZ+hqIdI2NAC7KuvAZloyJCR+IukGmF5A6iH/IbEBWLN2NevbBFQ6tCoAF3u7VggYQtQJyFlygOAADI74Jf669QDiWWh6xFRMUgLF6PAGYkcgGgGkBE/x8AiSVaykG0AUxlgm7BY0BUMAQL8R77LM96F98A98kBeu+kAdlgA0MntUGACmOFDQl5sm+Rai6lwpMLtiEgSVGE8wVFBkAB7XcU+rdJOoLSU0x8Aii3ta/0AWqMHjlM6LDPaYDHLSsnRn9pjMny2jBCDSu9H3tDqpCmw4C6lgHqAQmWB05uwwF8RCAQpU7jIbQYCElBsjAlabfqJdnD7lKwzVcIVVOgmKpF2g921pS8/QRvuETmwDEKZdwFHMocYHffYSfBc0opojVIomjx/dY64CkxVktMsgar16/IhbKygANruwWA+YDkURUcNHQaK5ps1XhBwaAzf6M9YzWq3Ac1EKACm80cB8KV6IdPsCR0aQAMBAaUkxXPyU6WDqlypKaSEOtmCCpDyAKFgu1gSecrhdar4n++VsiGUVWDHUpdJkYEPEkEyDc7paHTShXbkuNhqQfaF5wMt16lff69JYFFYT3A8AYgFxku5xtBtw9R7YsEiH85hcYLIsfuO0lfCCHvTtMWxszNRhDebp+LRsTGobFr0zBiO5tBnhWaZgiDwD5gi3Wiw+YcDAwoDfB+MaFq83RsP8M5zSYdFjsBwfh9YAjErbyQLHNVNUsH2Dl2odCh4dE+0vQXjtI9YG2z05zOKvSbdR3eKdtLTbugVKzoOQxC+7KA5NtJPiXEZaH5xDglMrOBMHTWxdWhA/QVqtgEdx3EtVwSkDOxE4GHESpCZzcHLe+4gg3HA7P69jpfvutTA0GTQNNkXAs5UYJVjC593keik/JBohzALjQsXbrJtRksRgntzm7nVX4GnZumtC4D23N4aIAZWdv9LyZv+3IA87AlHY1HQu9+q7Qwb7nAQ01FbQ+g5NBaNOKA2jdD0bg4+UjzCrbqu6IgrLB6aLRF6KWB0ZNUj15QvLCRVa8PNanqiq7pM7kbVXDEvdaipMmHIRfBa2//aYC9WI5vjH6ydLsB1ezpePiK9PhYcoLnjSK5kljNUWqvXppKdVxo4XFhIsJ93gXy/8clxIvt0X7i4XrU8+1D+wGgKPGW/UCzHfew9VsXywVZxbz8GYdKqS4rCTfZ/NZvD8WA/Yxu/aW661F7q+cIbsXVO6EcVf3b0t9SIXFx9N+kwEO3w8QVmhggq+/9xSroVdiv5TZlr0SanL6/KXOK5SaL9b/G4DRdDzONZbPuAjXS4bnfPWBPrJkjhzpYbdR8OeXz62nvBt3HD3z3F/2f0Fyx9O7XL2HAoj7YG33AK8Bag4TrJlOa0DrrVtrj7DsPBtKlgstsZGIcOW+B0wvlMP1EOqcCh1rTldb+/Xcw2woqbaLeh/Vbl7vH/Vgx08TABrehO53ccJKK1ZWP+gjpRqAKdaN8jxLs5r7Bx5TMBm18kjxOOZ0ub/3flUW/nzw4PSJp568CT0vYXq5aGJgslc4o7doPI6dcis2eUq950Ug1DqF9NvQ/uVf79y5v+E1IptedEInNj+iT2L9Nfv9jf7gI/pFdP4D5rfoaYw/Lv+pReVRq/JOEEXOee/PAf7/PP8C3bt510T4rIwAAAAASUVORK5CYII=",Bt=ot({}),zt=ot({});function Wt(i){return i>.6?"#FF4159":i>.3?"#F5A623":i>.15?"#D8CB2A":i>.05?"#7ED321":"#58984f"}function qt(i,e,t){const s=i.slice();return s[21]=e[t],s}function jt(i){let e,t,s,n,a,o,r,l,f,g,p,d,v,m,b,E,C;return{c(){e=h("div"),t=h("div"),s=V("svg"),n=V("path"),a=y(),o=h("div"),r=I(i[6]),l=y(),f=h("div"),g=I(i[4]),p=y(),d=h("div"),v=I(i[5]),m=y(),b=h("div"),c(n,"d","M.937-.016L5.793 4.84.937 9.696z"),c(n,"fill",i[8]),c(n,"fill-rule","evenodd"),c(n,"fill-opacity",".582"),c(s,"width","6"),c(s,"height","10"),c(t,"class","frame-triangle svelte-7e9kco"),Ae(t,"rotate",!i[9]),G(t,"visibility",i[0].children.length>0?"visible":"hidden"),c(o,"class","time svelte-7e9kco"),G(o,"color",i[8]),G(o,"font-weight",i[11]<.15?500:600),c(f,"class","name svelte-7e9kco"),c(d,"class","code-position svelte-7e9kco"),c(e,"class","frame-description svelte-7e9kco"),c(e,"role","button"),c(e,"tabindex","0"),Ae(e,"application-code",i[0].isApplicationCode),Ae(e,"children-visible",!i[9]),G(e,"padding-left",`${i[2]*35}px`),c(b,"class","visual-guide svelte-7e9kco"),G(b,"left",`${i[2]*35+21}px`),G(b,"background-color",i[8])},m(w,k){L(w,e,k),u(e,t),u(t,s),u(s,n),u(e,a),u(e,o),u(o,r),u(e,l),u(e,f),u(f,g),u(e,p),u(e,d),u(d,v),L(w,m,k),L(w,b,k),E||(C=[N(e,"keydown",i[14]),N(e,"click",_t(gt(i[12])))],E=!0)},p(w,k){k&256&&c(n,"fill",w[8]),k&512&&Ae(t,"rotate",!w[9]),k&1&&G(t,"visibility",w[0].children.length>0?"visible":"hidden"),k&64&&_e(r,w[6]),k&256&&G(o,"color",w[8]),k&16&&_e(g,w[4]),k&32&&_e(v,w[5]),k&1&&Ae(e,"application-code",w[0].isApplicationCode),k&512&&Ae(e,"children-visible",!w[9]),k&4&&G(e,"padding-left",`${w[2]*35}px`),k&4&&G(b,"left",`${w[2]*35+21}px`),k&256&&G(b,"background-color",w[8])},d(w){w&&(S(e),S(m),S(b)),E=!1,oe(C)}}}function Yt(i){let e,t,s,n,a=i[0].group.frames.length-1+"",o,r,l,f,g,p;return{c(){e=h("div"),t=h("div"),s=h("div"),s.innerHTML='<svg width="6" height="10"><path d="M.937-.016L5.793 4.84.937 9.696z" fill="#FFF" fill-rule="evenodd" fill-opacity=".582"></path></svg>',n=y(),o=I(a),r=I(" frames hidden ("),l=I(i[7]),f=I(")"),c(s,"class","group-triangle svelte-7e9kco"),Ae(s,"rotate",i[10]),c(t,"class","group-header-button svelte-7e9kco"),c(e,"class","group-header svelte-7e9kco"),c(e,"role","button"),c(e,"tabindex","0"),G(e,"padding-left",`${i[2]*35}px`)},m(d,v){L(d,e,v),u(e,t),u(t,s),u(t,n),u(t,o),u(t,r),u(t,l),u(t,f),g||(p=[N(e,"keydown",i[15]),N(e,"click",_t(gt(i[13])))],g=!0)},p(d,v){v&1024&&Ae(s,"rotate",d[10]),v&1&&a!==(a=d[0].group.frames.length-1+"")&&_e(o,a),v&128&&_e(l,d[7]),v&4&&G(e,"padding-left",`${d[2]*35}px`)},d(d){d&&S(e),g=!1,oe(p)}}}function Ut(i){let e,t=[],s=new Map,n,a=nt(i[0].children);const o=r=>r[21].uuid;for(let r=0;r<a.length;r+=1){let l=qt(i,a,r),f=o(l);s.set(f,t[r]=Xt(f,l))}return{c(){e=h("div");for(let r=0;r<t.length;r+=1)t[r].c();c(e,"class","children svelte-7e9kco")},m(r,l){L(r,e,l);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);n=!0},p(r,l){l&15&&(a=nt(r[0].children),Ce(),t=Bi(t,l,o,1,r,a,s,e,$i,Xt,null,qt),Me())},i(r){if(!n){for(let l=0;l<a.length;l+=1)O(t[l]);n=!0}},o(r){for(let l=0;l<t.length;l+=1)D(t[l]);n=!1},d(r){r&&S(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function Xt(i,e){let t,s,n;return s=new Qt({props:{frame:e[21],rootFrame:e[1],indent:e[2]+(e[3]?1:0)}}),{key:i,first:null,c(){t=Dt(),be(s.$$.fragment),this.first=t},m(a,o){L(a,t,o),ce(s,a,o),n=!0},p(a,o){e=a;const r={};o&1&&(r.frame=e[21]),o&2&&(r.rootFrame=e[1]),o&12&&(r.indent=e[2]+(e[3]?1:0)),s.$set(r)},i(a){n||(O(s.$$.fragment,a),n=!0)},o(a){D(s.$$.fragment,a),n=!1},d(a){a&&S(t),ue(s,a)}}}function bs(i){let e,t,s,n,a=i[3]&&jt(i),o=i[0].group&&i[0].group.rootFrame==i[0]&&!i[9]&&Yt(i),r=!i[9]&&i[0].children.length>0&&Ut(i);return{c(){e=h("div"),a&&a.c(),t=y(),o&&o.c(),s=y(),r&&r.c(),c(e,"class","frame svelte-7e9kco")},m(l,f){L(l,e,f),a&&a.m(e,null),u(e,t),o&&o.m(e,null),u(e,s),r&&r.m(e,null),n=!0},p(l,[f]){l[3]?a?a.p(l,f):(a=jt(l),a.c(),a.m(e,t)):a&&(a.d(1),a=null),l[0].group&&l[0].group.rootFrame==l[0]&&!l[9]?o?o.p(l,f):(o=Yt(l),o.c(),o.m(e,s)):o&&(o.d(1),o=null),!l[9]&&l[0].children.length>0?r?(r.p(l,f),f&513&&O(r,1)):(r=Ut(l),r.c(),O(r,1),r.m(e,null)):r&&(Ce(),D(r,1,1,()=>{r=null}),Me())},i(l){n||(O(r),n=!0)},o(l){D(r),n=!1},d(l){l&&S(e),a&&a.d(),o&&o.d(),r&&r.d()}}}function Gt(){const i='a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])',e=document.querySelector(".call-stack-view");if(!e)throw new Error("callStackElement not found");var t=Array.prototype.filter.call(e.querySelectorAll(i),function(s){return s.offsetWidth>0||s.offsetHeight>0||s===document.activeElement});return t}function Zt(){const i=Gt();var e=i.indexOf(document.activeElement);if(e>-1){var t=i[e+1];t&&t.focus()}}function Kt(){const i=Gt();var e=i.indexOf(document.activeElement);if(e>-1){var t=i[e-1];t&&t.focus()}}function ws(i,e,t){let s,n,a,o,r;ge(i,zt,_=>t(16,a=_)),ge(i,Bt,_=>t(17,o=_)),ge(i,Z,_=>t(18,r=_));let{frame:l}=e,{rootFrame:f}=e,{indent:g=0}=e,p;const d=l.time/f.time;let v,m;l.isSynthetic||l.filePathShort==null?m="":l.lineNo==null||l.lineNo===0?m=l.filePathShort:m=`${l.filePathShort}:${l.lineNo}`;let b,E=null;if(l.group){const _=l.group.libraries;_.length<4?E=_.join(", "):E=`${_[0]}, ${_[1]}, ${_[2]}...`}let C;C=Wt(d);function w(_){k(l,!n,_.altKey)}function k(_,A,R=!0){if(zt.update(B=>({...B,[_.uuid]:A})),R)for(const B of _.children)k(B,A,!0),_.group&&_.group.rootFrame==_&&H(_.group.id,!A)}function H(_,A){Bt.update(R=>({...R,[_]:A}))}function W(){l.group&&H(l.group.id,!s)}function P(_){let A=!0;_.key==="Enter"||_.key===" "?w(_):_.key==="ArrowLeft"&&!n?k(l,!0,_.altKey):_.key==="ArrowRight"&&n?k(l,!1,_.altKey):_.key==="ArrowUp"?Kt():_.key==="ArrowDown"?Zt():A=!1,A&&(_.preventDefault(),_.stopPropagation())}function M(_){let A=!0;_.key==="Enter"||_.key===" "?W():_.key==="ArrowLeft"&&l.group?H(l.group.id,!1):_.key==="ArrowRight"&&l.group?H(l.group.id,!0):_.key==="ArrowUp"?Kt():_.key==="ArrowDown"?Zt():A=!1,A&&(_.preventDefault(),_.stopPropagation())}return i.$$set=_=>{"frame"in _&&t(0,l=_.frame),"rootFrame"in _&&t(1,f=_.rootFrame),"indent"in _&&t(2,g=_.indent)},i.$$.update=()=>{var _,A;if(i.$$.dirty&131073&&(l.group?o[l.group.id??""]||((_=l.group)==null?void 0:_.rootFrame)===l||l.children.filter(R=>!R.group).length>1?t(3,p=!0):t(3,p=!1):t(3,p=!0)),i.$$.dirty&1&&(l.className?t(4,v=`${l.className}.${l.function}`):t(4,v=l.function)),i.$$.dirty&262145)if(r.timeFormat==="absolute")t(6,b=l.time.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}));else if(r.timeFormat==="proportion")t(6,b=`${(d*100).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})}%`);else throw new Error("unknown timeFormat");i.$$.dirty&131073&&t(10,s=o[((A=l.group)==null?void 0:A.id)??""]===!0),i.$$.dirty&65537&&t(9,n=a[l.uuid]===!0)},[l,f,g,p,v,m,b,E,C,n,s,d,w,W,P,M,a,o,r]}let Qt=class extends de{constructor(e){super(),fe(this,e,ws,bs,re,{frame:0,rootFrame:1,indent:2})}};function Jt(i,e,t){let s=i;if(s!=null)for(const n of Object.keys(i)){let a=i[n];for(const o of e)if(a=o(a,t),!a){delete s[n];break}s[n]=a}return s}const ys="\0",Ts="[await]",Ze="[self]",ks=[Ts,Ze,"[out-of-context]","[root]"],As="c",Es="h";class Ke{constructor(e,t){T(this,"uuid",rt());T(this,"identifier");T(this,"_identifierParts");T(this,"startTime");T(this,"time",0);T(this,"absorbedTime",0);T(this,"group",null);T(this,"attributes");T(this,"_children",[]);T(this,"parent",null);T(this,"context");var a;this.identifier=e.identifier,this._identifierParts=this.identifier.split(ys),this.startTime=e.startTime??t.threadStartTime(e.thread_id),this.time=e.time??0,this.attributes=e.attributes??{},this.context=t;let s=this.startTime;const n=(a=e.children)==null?void 0:a.map(o=>(o.startTime===void 0&&(o={...o,startTime:s},s+=o.time??0),s=o.startTime+(o.time??0),new Ke(o,t)));n&&this.addChildren(n)}cloneDeep(){return new Ke(this,this.context)}get children(){return this._children}addChild(e,t={}){if(e.removeFromParent(),e.parent=this,t.after){const s=this._children.indexOf(t.after);if(s==-1)throw new Error("After frame not found");this._children.splice(s+1,0,e)}else this._children.push(e)}addChildren(e,t={}){e=e.slice(),t.after?(e.slice().reverse(),e.forEach(n=>this.addChild(n,t))):e.forEach(s=>this.addChild(s,t))}removeFromParent(){if(this.parent){const e=this.parent._children.indexOf(this);this.parent._children.splice(e,1),this.parent=null}}getAttributes(e){return Object.keys(this.attributes).filter(s=>s.startsWith(e)).map(s=>({data:s.slice(1),time:this.attributes[s]}))}getAttributeValue(e){const t=this.getAttributes(e);if(!t||t.length==0)return null;let s=0;for(let n=0;n<t.length;n++)t[n].time>t[s].time&&(s=n);return t[s].data}get hasTracebackHide(){return this.getAttributeValue(Es)=="1"}get function(){return this._identifierParts[0]}get filePath(){return this._identifierParts[1]??null}get lineNo(){const e=this._identifierParts[2];return e?parseInt(e):null}get isSynthetic(){return ks.includes(this.identifier)}get filePathShort(){return this.isSynthetic&&this.parent?this.parent.filePathShort:this.filePath?this.context.shortenPath(this.filePath):null}get isApplicationCode(){if(this.isSynthetic)return!1;const e=this.filePath;return!e||this.context.sysPrefixes.some(s=>e.startsWith(s))?!1:e.startsWith("<")?e.startsWith("<ipython-input-")?!0:e=="<string>"||e=="<stdin>"?this.parent?this.parent.isApplicationCode:!0:!1:!0}get proportionOfParent(){return this.parent?this.time/this.parent.time:1}get className(){return this.getAttributeValue(As)??""}get library(){const e=this.filePathShort;return e?/^[\\/.]*[^\\/.]*/.exec(e)[0]??"":null}}class Cs{constructor(e){T(this,"id");T(this,"rootFrame");T(this,"_frames",[]);this.id=rt(),this.rootFrame=e}addFrame(e){e.group&&e.group.removeFrame(e),this._frames.push(e),e.group=this}removeFrame(e){if(e.group!==this)throw new Error("Frame not in group.");const t=this._frames.indexOf(e);if(t===-1)throw new Error("Frame not found in group.");this._frames.splice(t,1),e.group=null}get frames(){return this._frames}get exitFrames(){const e=[];for(const t of this.frames){let s=!1;for(const n of t.children)if(n.group!=this){s=!0;break}s&&e.push(t)}return e}get libraries(){const e=[];for(const t of this.frames){const s=t.library;s&&(e.includes(s)||e.push(s))}return e}}function lt(i,e){const{replaceWith:t}=e,s=i.parent;if(!s)throw new Error("Cannot delete the root frame");if(t=="children")s.addChildren(i.children,{after:i});else if(t=="self_time")s.addChild(new Ke({identifier:Ze,time:i.time},s.context),{after:i});else if(t=="nothing")s.absorbedTime+=i.time;else throw new Zi(t);i.removeFromParent(),Ft(i,!0)}function Ms(i,e){if(i.parent!==e.parent)throw new Error("Both frames must have the same parent.");e.absorbedTime+=i.absorbedTime,e.time+=i.time,Object.entries(i.attributes).forEach(([t,s])=>{e.attributes[t]!==void 0?e.attributes[t]+=s:e.attributes[t]=s}),e.addChildren(i.children),i.removeFromParent(),Ft(i,!1)}function Ft(i,e){if(e&&i.children&&i.children.forEach(t=>{Ft(t,!0)}),i.group){const t=i.group;t.removeFrame(i),t.frames.length===1&&t.removeFrame(t.frames[0])}}function Pt(i,e){if(!i)return null;for(const t of i.children)Pt(t),t.filePath&&t.filePath.includes("<frozen importlib._bootstrap")&&lt(t,{replaceWith:"children"});return i}function Rt(i,e){if(!i)return null;for(const t of i.children)Rt(t),t.hasTracebackHide&&lt(t,{replaceWith:"children"});return i}function ei(i,e){if(!i)return null;const t={};for(const s of i.children.slice())if(t[s.identifier]){const n=t[s.identifier];Ms(s,n)}else t[s.identifier]=s;return i.children.forEach(s=>ei(s)),i._children.sort((s,n)=>n.time-s.time),i}function ti(i,e){if(!i)return null;const t=e.hideRegex,s=e.showRegex;function n(o){const r=o.filePath||"",l=s&&new RegExp(s).test(r),f=t&&new RegExp(t).test(r);return l?!1:f?!0:!o.isApplicationCode}function a(o,r){r.addFrame(o),o.children.forEach(l=>{n(l)&&a(l,r)})}return i.children.forEach(o=>{if(!o.group&&n(o)&&o.children.some(n)){const r=new Cs(o);a(o,r)}ti(o,e)}),i}function ii(i,e,t=!0){if(!i)return null;let s=null;for(const n of i.children)n.identifier===Ze?s?(s.time+=n.time,n.removeFromParent()):s=n:s=null;return t&&i.children.forEach(n=>ii(n,e,!0)),i}function si(i,e){return i?(i.children.length===1&&i.children[0].identifier===Ze&&lt(i.children[0],{replaceWith:"nothing"}),i.children.forEach(t=>si(t)),i):null}function ni(i,e,t=null){if(!i)return null;t===null&&(t=i.time,t<=0&&(t=1e-44));const s=e.filterThreshold??.01;for(const n of i.children.slice())n.time/t<s&&lt(n,{replaceWith:"nothing"});return i.children.forEach(n=>ni(n,e,t)),i}function oi(i,e){if(!i)return null;const t=r=>ss(r,l=>l.time),s=r=>{var l;return((l=r.filePath)==null?void 0:l.includes("pyinstrument/__main__.py"))&&r.children.length>0},n=r=>{var l;return r.proportionOfParent>.8&&((l=r.filePath)==null?void 0:l.includes("<string>"))&&r.children.length>0},a=r=>{var l;return r.proportionOfParent>.8&&(new RegExp(".*runpy.py").test(r.filePath??"")||((l=r.filePath)==null?void 0:l.includes("<frozen runpy>")))&&r.children.length>0};let o=i;if(!s(o)||(o=t(o.children),!n(o))||(o=t(o.children),!a(o)))return i;for(;a(o);)o=t(o.children);return o.removeFromParent(),o}function ri(i,e){return i?(i.children.forEach(t=>ri(t)),i.group&&i.group.frames.length<3&&i.group.removeFrame(i),i):null}function li(i,e,t){const s=i.slice();return s[11]=e[t][0],s[12]=e[t][1],s}function Fs(i){let e,t,s=nt(Object.entries(i[3])),n=[];for(let o=0;o<s.length;o+=1)n[o]=ai(li(i,s,o));const a=o=>D(n[o],1,1,()=>{n[o]=null});return{c(){e=h("div");for(let o=0;o<n.length;o+=1)n[o].c();c(e,"class","call-stack-margins svelte-1hebm9u")},m(o,r){L(o,e,r);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null);t=!0},p(o,r){if(r&8){s=nt(Object.entries(o[3]));let l;for(l=0;l<s.length;l+=1){const f=li(o,s,l);n[l]?(n[l].p(f,r),O(n[l],1)):(n[l]=ai(f),n[l].c(),O(n[l],1),n[l].m(e,null))}for(Ce(),l=s.length;l<n.length;l+=1)a(l);Me()}},i(o){if(!t){for(let r=0;r<s.length;r+=1)O(n[r]);t=!0}},o(o){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)D(n[r]);t=!1},d(o){o&&S(e),Ri(n,o)}}}function Ps(i){let e;return{c(){e=h("div"),e.innerHTML='<div class="error">All frames were filtered out.</div>',c(e,"class","margins")},m(t,s){L(t,e,s)},p:F,i:F,o:F,d(t){t&&S(e)}}}function Rs(i){let e,t;return e=new Qt({props:{frame:i[12],rootFrame:i[12]}}),{c(){be(e.$$.fragment)},m(s,n){ce(e,s,n),t=!0},p(s,n){const a={};n&8&&(a.frame=s[12]),n&8&&(a.rootFrame=s[12]),e.$set(a)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){ue(e,s)}}}function Ss(i){let e;return{c(){e=h("div"),e.innerHTML='<div class="error">All frames were filtered out.</div> ',c(e,"class","margins")},m(t,s){L(t,e,s)},p:F,i:F,o:F,d(t){t&&S(e)}}}function ai(i){let e,t,s,n;const a=[Ss,Rs],o=[];function r(l,f){return l[12]?1:0}return e=r(i),t=o[e]=a[e](i),{c(){t.c(),s=Dt()},m(l,f){o[e].m(l,f),L(l,s,f),n=!0},p(l,f){let g=e;e=r(l),e===g?o[e].p(l,f):(Ce(),D(o[g],1,1,()=>{o[g]=null}),Me(),t=o[e],t?t.p(l,f):(t=o[e]=a[e](l),t.c()),O(t,1),t.m(s.parentNode,s))},i(l){n||(O(t),n=!0)},o(l){D(t),n=!1},d(l){l&&S(s),o[e].d(l)}}}function Is(i){let e,t,s,n,a,o,r;const l=[Ps,Fs],f=[];function g(p,d){return p[3]?1:0}return s=g(i),n=f[s]=l[s](i),{c(){e=h("div"),t=h("div"),n.c(),a=y(),o=h("div"),c(t,"class","scroll-inner svelte-1hebm9u"),c(o,"class","scroll-size-fixer svelte-1hebm9u"),c(e,"class","call-stack-view svelte-1hebm9u")},m(p,d){L(p,e,d),u(e,t),f[s].m(t,null),i[8](t),u(e,a),u(e,o),i[9](o),i[10](e),r=!0},p(p,[d]){let v=s;s=g(p),s===v?f[s].p(p,d):(Ce(),D(f[v],1,1,()=>{f[v]=null}),Me(),n=f[s],n?n.p(p,d):(n=f[s]=l[s](p),n.c()),O(n,1),n.m(t,null))},i(p){r||(O(n),r=!0)},o(p){D(n),r=!1},d(p){p&&S(e),f[s].d(),i[8](null),i[9](null),i[10](null)}}}function Ls(i,e,t){let s,{session:n}=e;const a=Vt([Z],([m])=>{const b=[m.removeImportlib?Pt:null,m.removeTracebackHide?Rt:null,ii,ei,si,m.removeIrrelevant?ni:null,m.removePyinstrument?oi:null,m.collapseMode!=="disabled"?ti:null,ri].filter(C=>C!==null),E={filterThreshold:m.removeIrrelevantThreshold,hideRegex:m.collapseMode=="custom"?m.collapseCustomHide:void 0,showRegex:m.collapseMode=="custom"?m.collapseCustomShow:void 0};return{processors:b,options:E}});ge(i,a,m=>t(7,s=m));let o,r,l;yt(()=>{let m=0;const b=o;if(!b)throw new Error("element not set");if(!r)throw new Error("scrollInnerElement not set");if(!l)throw new Error("scrollSizeFixerElement not set");const E=new ResizeObserver(()=>{const w=r.getBoundingClientRect().height;w>m&&(m=w,t(2,l.style.top=`${m-1}px`,l))});E.observe(r);let C;return b.addEventListener("scroll",C=()=>{let w=b.scrollTop+b.clientHeight;const k=r.getBoundingClientRect().height;w<k&&(w=k),w<m&&(m=w,t(2,l.style.top=`${m-1}px`,l))}),C(),()=>{E.disconnect(),b.removeEventListener("scroll",C)}});let f,g=[];for(const m of Object.keys(n.rootFrames))g[m]=n.rootFrames[m].cloneDeep();function p(m){Ee[m?"unshift":"push"](()=>{r=m,t(1,r)})}function d(m){Ee[m?"unshift":"push"](()=>{l=m,t(2,l)})}function v(m){Ee[m?"unshift":"push"](()=>{o=m,t(0,o)})}return i.$$set=m=>{"session"in m&&t(5,n=m.session)},i.$$.update=()=>{i.$$.dirty&192&&t(3,f=Jt(g,s.processors,s.options))},[o,r,l,f,a,n,g,s,p,d,v]}class Os extends de{constructor(e){super(),fe(this,e,Ls,Is,re,{session:5})}}class Ds{constructor(e){T(this,"mediaQueryList",null);this.onDevicePixelRatioChanged=e,this._onChange=this._onChange.bind(this),this.createMediaQueryList()}createMediaQueryList(){this.removeMediaQueryList();let e=`(resolution: ${window.devicePixelRatio}dppx)`;this.mediaQueryList=matchMedia(e),this.mediaQueryList.addEventListener("change",this._onChange)}removeMediaQueryList(){var e;(e=this.mediaQueryList)==null||e.removeEventListener("change",this._onChange),this.mediaQueryList=null}_onChange(e){this.onDevicePixelRatioChanged(),this.createMediaQueryList()}destroy(){this.removeMediaQueryList()}}class Hs{constructor(e){T(this,"canvas");T(this,"_size_observer");T(this,"_devicePixelRatioObserver");T(this,"drawAnimationRequest",null);this.container=e,getComputedStyle(e).position!="absolute"&&(e.style.position="relative"),this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.left="0",this.canvas.style.top="0",this.canvas.style.width="100%",this.canvas.style.height="100%",this.container.appendChild(this.canvas),this.setCanvasSize=this.setCanvasSize.bind(this),this._size_observer=new ResizeObserver(this.setCanvasSize),this._size_observer.observe(e),this._devicePixelRatioObserver=new Ds(this.setCanvasSize),window.requestAnimationFrame(()=>{this.setCanvasSize()})}destroy(){this._size_observer.disconnect(),this._devicePixelRatioObserver.destroy(),this.canvas.remove(),this.drawAnimationRequest!==null&&(window.cancelAnimationFrame(this.drawAnimationRequest),this.drawAnimationRequest=null)}setNeedsRedraw(){this.drawAnimationRequest===null&&(this.drawAnimationRequest=window.requestAnimationFrame(()=>{this.drawAnimationRequest=null,this.canvasViewRedraw()}))}redrawIfNeeded(){this.drawAnimationRequest!==null&&(window.cancelAnimationFrame(this.drawAnimationRequest),this.drawAnimationRequest=null,this.canvasViewRedraw())}canvasViewRedraw(){const e=this.canvas.getContext("2d");e&&(e.resetTransform(),e.scale(window.devicePixelRatio,window.devicePixelRatio),this.redraw(e,{width:this.canvas.width/window.devicePixelRatio,height:this.canvas.height/window.devicePixelRatio}))}get width(){return this.canvas.width/window.devicePixelRatio}get height(){return this.canvas.height/window.devicePixelRatio}setCanvasSize(){const e=window.devicePixelRatio;this.canvas.height=this.container.clientHeight*e,this.canvas.width=this.container.clientWidth*e,this.canvasViewRedraw()}}function xs(i){let e,t=i[2]=="self"?"self":"time",s,n,a,o=i[3](i[0].time)+"";return{c(){e=h("div"),s=I(t),n=y(),a=h("div"),c(e,"class","label svelte-ci3g2p"),c(a,"class","time-val svelte-ci3g2p")},m(r,l){L(r,e,l),u(e,s),L(r,n,l),L(r,a,l),a.innerHTML=o},p(r,l){l&4&&t!==(t=r[2]=="self"?"self":"time")&&_e(s,t),l&1&&o!==(o=r[3](r[0].time)+"")&&(a.innerHTML=o)},d(r){r&&(S(e),S(n),S(a))}}}function Vs(i){let e,t,s,n,a=i[3](i[0].time)+"",o,r=i[0].selfTime/i[0].time>.001&&ci(i);return{c(){e=h("div"),e.textContent="time",t=y(),s=h("div"),n=h("div"),o=y(),r&&r.c(),c(e,"class","label svelte-ci3g2p"),c(n,"class","time-val svelte-ci3g2p"),c(s,"class","time-row svelte-ci3g2p")},m(l,f){L(l,e,f),L(l,t,f),L(l,s,f),u(s,n),n.innerHTML=a,u(s,o),r&&r.m(s,null)},p(l,f){f&1&&a!==(a=l[3](l[0].time)+"")&&(n.innerHTML=a),l[0].selfTime/l[0].time>.001?r?r.p(l,f):(r=ci(l),r.c(),r.m(s,null)):r&&(r.d(1),r=null)},d(l){l&&(S(e),S(t),S(s)),r&&r.d()}}}function ci(i){let e,t,s,n=i[3](i[0].selfTime)+"";return{c(){e=h("div"),e.textContent="self",t=y(),s=h("div"),c(e,"class","label svelte-ci3g2p"),c(s,"class","time-val svelte-ci3g2p")},m(a,o){L(a,e,o),L(a,t,o),L(a,s,o),s.innerHTML=n},p(a,o){o&1&&n!==(n=a[3](a[0].selfTime)+"")&&(s.innerHTML=n)},d(a){a&&(S(e),S(t),S(s))}}}function Ns(i){let e,t,s=i[0].name+"",n,a,o,r,l,f,g,p,d,v;function m(C,w){return C[2]=="both"?Vs:xs}let b=m(i),E=b(i);return{c(){e=h("div"),t=h("div"),n=I(s),a=y(),E.c(),o=y(),r=h("div"),r.textContent="loc",l=y(),f=h("div"),g=h("div"),d=y(),v=new Li(!1),c(t,"class","name svelte-ci3g2p"),c(r,"class","label svelte-ci3g2p"),c(g,"class","location-color svelte-ci3g2p"),c(g,"style",p=`background: ${i[0].locationColor}`),v.a=null,c(f,"class","location-row"),c(e,"class","timeline-canvas-view-tooltip svelte-ci3g2p"),c(e,"style",`font: ${fi}; max-width: ${Bs}px;`)},m(C,w){L(C,e,w),u(e,t),u(t,n),u(e,a),E.m(e,null),u(e,o),u(e,r),u(e,l),u(e,f),u(f,g),u(f,d),v.m(i[1],f)},p(C,[w]){w&1&&s!==(s=C[0].name+"")&&_e(n,s),b===(b=m(C))&&E?E.p(C,w):(E.d(1),E=b(C),E&&(E.c(),E.m(e,o))),w&1&&p!==(p=`background: ${C[0].locationColor}`)&&c(g,"style",p),w&2&&v.p(C[1])},i:F,o:F,d(C){C&&S(e),E.d()}}}function ui(i){return i.selfTime==i.time?"self":i.selfTime/i.time>.001?"both":"time"}function $s(i,e){i.font=fi;const t=ui(e)=="both"?140:70,s=i.measureText(e.name).width,n=i.measureText(e.location).width+46;let o=Math.max(t,s,n)+20;return o>310&&(o=310),o}const Bs=310,fi="400 13px Source Sans Pro, sans-serif";function zs(i,e,t){let{f:s}=e,n,a;function o(r){return`<span style="color: ${Wt(r/s.totalTime)}">${r.toFixed(3)}</span>`}return i.$$set=r=>{"f"in r&&t(0,s=r.f)},i.$$.update=()=>{i.$$.dirty&1&&t(1,n=Mt(s.location)),i.$$.dirty&1&&t(2,a=ui(s))},[s,n,a,o]}class Ws extends de{constructor(e){super(),fe(this,e,zs,Ns,re,{f:0})}}const qs="#212325",di=18,js=17,Le=28,at=17,hi=29,Ys=["#3475BA","#318DBC","#47A298","#8AAE5D","#C1A731","#C07210","#B84210","#B53134","#9A3586","#4958B5","#3475BA"].map(es);class Us extends Hs{constructor(t){super(t);T(this,"zoom",1);T(this,"startT",0);T(this,"yOffset",0);T(this,"frames",{});T(this,"isZoomedIn",!1);T(this,"tooltipContainer");T(this,"tooltipComponent",null);T(this,"_rootFrames",null);T(this,"maxDepth",[]);T(this,"maxY",0);T(this,"tooltipLocation",null);T(this,"lastDrawWidth",0);T(this,"lastDrawHeight",0);T(this,"_libraryOrder",null);T(this,"_colors",[]);T(this,"_frameMaxT");T(this,"mouseLocation",null);T(this,"mouseDownLocation",null);T(this,"touches",{});this.onWheel=this.onWheel.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.windowMouseUp=this.windowMouseUp.bind(this),this.onTouchstart=this.onTouchstart.bind(this),this.onTouchmove=this.onTouchmove.bind(this),this.onTouchend=this.onTouchend.bind(this),this.onTouchcancel=this.onTouchend.bind(this),this.canvas.addEventListener("wheel",this.onWheel),this.canvas.addEventListener("mousemove",this.onMouseMove),this.canvas.addEventListener("mouseleave",this.onMouseLeave),this.canvas.addEventListener("mousedown",this.onMouseDown),this.canvas.addEventListener("touchstart",this.onTouchstart),this.canvas.addEventListener("touchmove",this.onTouchmove),this.canvas.addEventListener("touchend",this.onTouchend),this.canvas.addEventListener("touchcancel",this.onTouchcancel),this.tooltipContainer=document.createElement("div"),this.tooltipContainer.style.position="absolute",this.tooltipContainer.style.pointerEvents="none",this.container.appendChild(this.tooltipContainer)}destroy(){this.canvas.removeEventListener("wheel",this.onWheel),this.canvas.removeEventListener("mousemove",this.onMouseMove),this.canvas.removeEventListener("mouseleave",this.onMouseLeave),this.canvas.removeEventListener("mousedown",this.onMouseDown),this.canvas.removeEventListener("touchstart",this.onTouchstart),this.canvas.removeEventListener("touchmove",this.onTouchmove),this.canvas.removeEventListener("touchend",this.onTouchend),this.canvas.removeEventListener("touchcancel",this.onTouchcancel),this.tooltipContainer.remove(),super.destroy()}setRootFrames(t){this._rootFrames=t,this.frames={},this._frameMaxT=void 0,this.maxDepth=[],this.maxY=0;for(const s of Object.keys(t)){console.log("srf",s);let n=t[s];this._collectFrames(n,s,0),this.maxY+=this.maxDepth[s]+1}this.fitContents(),this.setNeedsRedraw()}_collectFrames(t,s,n){this.frames.hasOwnProperty(s)||(console.log("cfnt",s),this.frames[s]=[],this.maxDepth[s]=0),this.frames[s].push({frame:t,depth:n,isApplicationCode:t.isApplicationCode,library:t.library,className:t.className,filePathShort:t.filePathShort}),this.maxDepth[s]=Math.max(this.maxDepth[s],n);for(const a of t.children)a.identifier!==Ze&&this._collectFrames(a,s,n+1)}updateTooltip(t,s){var n;if(s){const a={name:this.frameName(s),time:s.frame.time,selfTime:this.frameSelfTime(s),totalTime:((n=this._rootFrames[s.frame.thread_id])==null?void 0:n.time)??1e-12,location:`${s.filePathShort}:${s.frame.lineNo}`,locationColor:this.colorForFrame(s)};if(this.tooltipComponent?this.tooltipComponent.$set({f:a}):this.tooltipComponent=new Ws({target:this.tooltipContainer,props:{f:a}}),this.tooltipLocation){const o={x:this.tooltipLocation.x+12,y:this.tooltipLocation.y+12},r=$s(t,a),l=this.width-10-r;o.x>l&&(o.x=l);const g=this.height-10-60;o.y>g&&(o.y=g),this.tooltipContainer.style.left=`${o.x}px`,this.tooltipContainer.style.top=`${o.y}px`}}s||this.tooltipComponent&&(this.tooltipComponent.$destroy(),this.tooltipComponent=null)}redraw(t,s){const{width:n,height:a}=s;(n!==this.lastDrawWidth||a!==this.lastDrawHeight)&&(this.isZoomedIn?this.clampViewport():this.fitContents()),this.lastDrawWidth=n,this.lastDrawHeight=a,t.fillStyle=qs,t.fillRect(0,0,n,a),this.drawAxes(t);let o=0;for(const g of Object.keys(this.frames)){console.log("draw",g);for(const p of this.frames[g])this.drawFrame(t,p,o);o+=1+this.maxDepth[g]}t.globalAlpha=1;const r=this.maxYOffset>0||this.isZoomedIn,l=!!this.mouseDownLocation;this.canvas.style.cursor=l&&r?"grabbing":"initial",t.fillStyle="red",t.font='23px "Source Sans Pro", sans-serif';let f=null;!l&&this.tooltipLocation&&(f=this.hitTest(this.tooltipLocation)),this.updateTooltip(t,f)}drawAxes(t){const s=Math.max(800,this.width)/this.zoom;if(s==0)return;const n=Math.log10(s);let a=Math.ceil(n)+2;a<0&&(a=0);const o=Math.ceil(n)-3,r=l=>Ne(l,{from:[n,n-3],to:[.71,0],clamp:!0});for(let l=o;l<a;l++){let f=r(l);f=Math.max(0,Math.min(1,f)),f=Math.pow(f,2),this.drawAxis(t,Math.pow(10,l),f)}this.drawAxis(t,Math.pow(10,a),r(a),!0)}drawAxis(t,s,n,a=!1){t.fillStyle="white";const o=Math.floor(this.startT/s)*s,r=this.startT+this.width/this.zoom,l=Math.max(0,Math.ceil(-Math.log10(s)));for(let f=o;f<r;f+=s){const g=this.xForT(f);if(Math.round(f/s)%10===0&&!a)continue;t.globalAlpha=n;const d=at-this.yOffset;t.fillRect(g,d,1,this.height-d);const v=Ne(n,{from:[.12,.25],to:[0,.5],clamp:!0});if(v>.01){t.globalAlpha=v,t.font='13px "Source Sans Pro", sans-serif';let m=f.toFixed(l);m=="0"&&(m="0s");let b=d+10;t.fillText(m,g+3,b);let E=this.height+at+10-this.yOffset;E<this.height-3&&(E=this.height-3),t.fillText(m,g+3,E)}t.globalAlpha=1}}drawFrame(t,s,n){const{x:a,y:o,w:r,h:l}=this.frameDims(s,n);if(a+r<0||a>this.width)return;if(t.fillStyle=this.colorForFrame(s),t.globalAlpha=s.isApplicationCode?1:.5,r<2){t.fillRect(a,o,r,l);return}let g=this.frameName(s);const p=Math.floor(r/3.3);if(g.length>p&&(g=g.substring(0,p)),g.length==0){t.fillRect(a,o,r,l);return}t.save(),t.beginPath(),t.rect(a,o,r,l),t.fill(),t.clip(),t.font='13px "Source Sans Pro", sans-serif',t.fillStyle="white";let d=a;d<0&&(d=0),t.fillText(g,d+2,o+13),t.restore()}_assignLibraryOrder(){const t={};for(const n of Object.keys(this.frames))for(const a of this.frames[n]){const r=a.frame.library??"";t[r]=(t[r]||0)+a.frame.time}const s=Object.keys(t);s.sort((n,a)=>t[a]-t[n]),this._libraryOrder=s}colorForLibraryIndex(t){if(this._colors[t]!==void 0)return this._colors[t];const s=Math.pow(2,Math.ceil(Math.log2(t+1))),a=(2*t-s+1)/s,o=Ki(Ys,a);return this._colors[t]=o,o}libraryIndexForFrame(t){this._libraryOrder||this._assignLibraryOrder();const s=t.library||"";let n=this._libraryOrder.indexOf(s);return n===-1&&(n=this._libraryOrder.length,this._libraryOrder.push(s)),n}colorForFrame(t){const s=this.libraryIndexForFrame(t);return this.colorForLibraryIndex(s)}get frameMaxT(){if(this._frameMaxT===void 0){this._frameMaxT=0;for(const t of Object.keys(this.frames))this._frameMaxT=Math.max(this._frameMaxT,this.frames[t].reduce((s,n)=>Math.max(s,n.frame.startTime+n.frame.time),0))}return this._frameMaxT}get maxYOffset(){return Math.max(0,(this.maxY+1)*di+at*2+hi-this.height)}get minZoom(){return(this.width-2*Le)/this.frameMaxT}get maxZoom(){return 6666666666666667e-8}fitContents(){this.startT=0,this.zoom=this.minZoom,this.isZoomedIn=!1}clampViewport(){this.zoom<this.minZoom?(this.zoom=this.minZoom,this.isZoomedIn=!1):this.isZoomedIn=!0,this.zoom>this.maxZoom&&(this.zoom=this.maxZoom),this.startT<0&&(this.startT=0);const t=this.frameMaxT-(this.width-2*Le)/this.zoom;this.startT>t&&(this.startT=t),this.yOffset>this.maxYOffset&&(this.yOffset=this.maxYOffset)}frameDims(t,s){const n=(s+t.depth)*di+at+hi-this.yOffset,a=js;let o=this.xForT(t.frame.startTime),l=this.xForT(t.frame.startTime+t.frame.time)-o;return l<1&&(l=1),l>1&&(l-=Ne(l,{from:[1,3],to:[0,1],clamp:!0})),{x:o,y:n,w:l,h:a}}xForT(t){return(t-this.startT)*this.zoom+Le}tForX(t){return(t-Le)/this.zoom+this.startT}frameName(t){let s;return t.className?s=`${t.className}.${t.frame.function}`:t.frame.function=="<module>"?s=t.filePathShort??t.frame.filePath??"":s=t.frame.function,s}frameSelfTime(t){let s=t.frame.time;const n=t.frame.children.filter(a=>!a.isSynthetic);for(const a of n)s-=a.time;return s}hitTest(t){for(const s of Object.keys(this.frames))for(const n of this.frames[s]){const{x:a,y:o,w:r,h:l}=this.frameDims(n);if(t.x>=a&&t.x<=a+r&&t.y>=o&&t.y<=o+l)return n}return null}onWheel(t){const s=t.ctrlKey||t.metaKey,n=s?.01:.0023,a=this.tForX(t.offsetX);this.zoom*=1-t.deltaY*n,this.clampViewport(),this.startT=a-(t.offsetX-Le)/this.zoom,s||(this.startT+=t.deltaX/this.zoom),this.clampViewport(),this.setNeedsRedraw(),t.preventDefault()}onMouseMove(t){const s={x:t.offsetX,y:t.offsetY},n=this.mouseLocation;if(this.mouseLocation=s,n&&this.mouseDownLocation){const a={x:s.x-n.x,y:s.y-n.y};this.startT-=a.x/this.zoom,this.yOffset-=a.y,this.clampViewport()}this.tooltipLocation=s,this.setNeedsRedraw()}onMouseLeave(t){this.mouseLocation=null,this.tooltipLocation=null,this.setNeedsRedraw()}onMouseDown(t){(t.button===0||t.button===1)&&(this.mouseDownLocation={x:t.offsetX,y:t.offsetY},window.addEventListener("mouseup",this.windowMouseUp),this.setNeedsRedraw())}windowMouseUp(t){window.removeEventListener("mouseup",this.windowMouseUp),this.mouseDownLocation=null,this.setNeedsRedraw()}onTouchstart(t){t.preventDefault(),t.stopPropagation();for(const s of Array.from(t.changedTouches))this.touches[s.identifier]={x:s.clientX,y:s.clientY,downT:this.tForX(s.clientX),startDate:Date.now(),downX:s.clientX,downY:s.clientY}}onTouchmove(t){t.preventDefault(),t.stopPropagation();let s=0;for(const a of Array.from(t.changedTouches)){const o=this.touches[a.identifier];o&&(s+=a.clientY-o.y,this.touches[a.identifier]={...o,x:a.clientX,y:a.clientY})}const n=s/Object.keys(this.touches).length;this.yOffset-=n,this.adjustXAxisForTouches(),this.setNeedsRedraw()}onTouchend(t){t.preventDefault(),t.stopPropagation();for(const s of Array.from(t.changedTouches))delete this.touches[s.identifier];this.setNeedsRedraw()}onTouchcancel(t){t.preventDefault(),t.stopPropagation();for(const s of Array.from(t.changedTouches))delete this.touches[s.identifier];this.setNeedsRedraw()}adjustXAxisForTouches(){const t=Object.keys(this.touches).map(Number);if(t.length!=0){if(t.length==1){const s=this.touches[t[0]];this.startT=s.downT-(s.x-Le)/this.zoom}if(t.length>=2){const s=this.touches[t[0]],n=this.touches[t[1]],a=(n.x-s.x)/(n.downT-s.downT),o=s.downT-(s.x-Le)/a;this.startT=o,this.zoom=a}this.clampViewport()}}}function Xs(i){let e;return{c(){e=h("div"),e.innerHTML="",c(e,"class","timeline svelte-p2tt1k")},m(t,s){L(t,e,s),i[7](e)},p:F,i:F,o:F,d(t){t&&S(e),i[7](null)}}}function Gs(i,e,t){let s,{session:n}=e;const a=Vt([Ge],([p])=>({processors:[p.removeImportlib?Pt:null,p.removeTracebackHide?Rt:null,p.removePyinstrument?oi:null].filter(m=>m!==null),options:{}}));ge(i,a,p=>t(6,s=p));let o,r=[];for(const p of Object.keys(n.rootFrames))r[p]=n.rootFrames[p].cloneDeep();let l=null,f=null;Oi(()=>{f==null||f.destroy()});function g(p){Ee[p?"unshift":"push"](()=>{l=p,t(0,l)})}return i.$$set=p=>{"session"in p&&t(2,n=p.session)},i.$$.update=()=>{i.$$.dirty&80&&t(3,o=Jt(r,s.processors,s.options)),i.$$.dirty&1&&l&&t(5,f=new Us(l)),i.$$.dirty&40&&o&&f&&f.setRootFrames(o)},[l,a,n,o,r,f,s,g]}class Zs extends de{constructor(e){super(),fe(this,e,Gs,Xs,re,{session:2})}}function Ks(i){let e,t,s=i[1].viewMode+"",n;return{c(){e=h("div"),t=I("Unknown view mode: "),n=I(s),c(e,"class","error")},m(a,o){L(a,e,o),u(e,t),u(e,n)},p(a,o){o&2&&s!==(s=a[1].viewMode+"")&&_e(n,s)},i:F,o:F,d(a){a&&S(e)}}}function Qs(i){let e,t;return e=new Zs({props:{session:i[0]}}),{c(){be(e.$$.fragment)},m(s,n){ce(e,s,n),t=!0},p(s,n){const a={};n&1&&(a.session=s[0]),e.$set(a)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){ue(e,s)}}}function Js(i){let e,t;return e=new Os({props:{session:i[0]}}),{c(){be(e.$$.fragment)},m(s,n){ce(e,s,n),t=!0},p(s,n){const a={};n&1&&(a.session=s[0]),e.$set(a)},i(s){t||(O(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){ue(e,s)}}}function en(i){let e;return{c(){e=h("div"),e.innerHTML='<div class="spacer" style="height: 20px;"></div> <div class="error">No samples recorded.</div>',c(e,"class","margins")},m(t,s){L(t,e,s)},p:F,i:F,o:F,d(t){t&&S(e)}}}function tn(i){let e,t,s,n,a,o,r,l;s=new gs({props:{session:i[0]}});const f=[en,Js,Qs,Ks],g=[];function p(d,v){return d[0].rootFrames?d[1].viewMode==="call-stack"?1:d[1].viewMode==="timeline"?2:3:0}return o=p(i),r=g[o]=f[o](i),{c(){e=h("div"),t=h("div"),be(s.$$.fragment),n=y(),a=h("div"),r.c(),c(t,"class","header"),c(a,"class","body svelte-1vwroj7"),c(e,"class","app svelte-1vwroj7")},m(d,v){L(d,e,v),u(e,t),ce(s,t,null),u(e,n),u(e,a),g[o].m(a,null),l=!0},p(d,[v]){const m={};v&1&&(m.session=d[0]),s.$set(m);let b=o;o=p(d),o===b?g[o].p(d,v):(Ce(),D(g[b],1,1,()=>{g[b]=null}),Me(),r=g[o],r?r.p(d,v):(r=g[o]=f[o](d),r.c()),O(r,1),r.m(a,null))},i(d){l||(O(s.$$.fragment,d),O(r),l=!0)},o(d){D(s.$$.fragment,d),D(r),l=!1},d(d){d&&S(e),ue(s),g[o].d()}}}function sn(i,e,t){let s;ge(i,Xe,d=>t(1,s=d));let{session:n}=e;const a=document.createElement("link");a.rel="shortcut icon",a.href=_s,document.head.appendChild(a);const o=document.createElement("link");o.rel="preload",o.as="style",o.onload=()=>{o.rel="stylesheet"},o.href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,600|Source+Sans+Pro:400,600&display=swap",document.head.appendChild(o);const r=n.rootFrames;let l=0;if(r!=null)for(const d of Object.keys(r)){const v=r[d];if(v!=null){const m=v.time;m>l&&(l=m)}}const f=l.toLocaleString(void 0,{maximumSignificantDigits:3});let g,p;return(p=/[^\s/]+(:\d+)?$/.exec(n.target_description))?g=p[0]:g=n.target_description,document.title=`${f}s - ${g} - pyinstrument`,i.$$set=d=>{"session"in d&&t(0,n=d.session)},[n,s]}class nn extends de{constructor(e){super(),fe(this,e,sn,tn,re,{session:0})}}class on{constructor(e){T(this,"startTime");T(this,"threadStartTimes");T(this,"duration");T(this,"minInterval");T(this,"maxInterval");T(this,"sampleCount");T(this,"target_description");T(this,"cpuTime");T(this,"rootFrames");T(this,"sysPath");T(this,"sysPrefixes");T(this,"_shortenPathCache",{});this.startTime=e.session.start_time,this.threadStartTimes=e.session.thread_start_times,this.duration=e.session.duration,this.minInterval=e.session.min_interval,this.maxInterval=e.session.max_interval,this.sampleCount=e.session.sample_count,this.target_description=e.session.target_description,this.cpuTime=e.session.cpu_time,this.sysPath=e.session.sys_path,this.sysPrefixes=e.session.sys_prefixes,this.rootFrames={};for(const t of Object.keys(e.frame_trees))console.log("thread_id",t),this.rootFrames[t]=new Ke(e.frame_trees[t],this)}shortenPath(e){if(this._shortenPathCache[e])return this._shortenPathCache[e];let t=e;if($e(e).length>1)for(const n of this.sysPath){const a=rn(e,n);$e(a).length<$e(t).length&&(t=a)}return this._shortenPathCache[e]=t,t}threadStartTime(e){return this.threadStartTimes.hasOwnProperty(e)?this.threadStartTimes[e]:0}}function $e(i){return i.split(/[/\\]/)}function mi(i){const e=$e(i);return e.length>0&&e[0].endsWith(":")?e[0]:null}function rn(i,e){if(mi(i)!=mi(e))return i;const t=$e(i),s=$e(e);let n=0;for(;n<t.length&&n<s.length&&t[n]==s[n];)n++;return s.slice(n).map(o=>"..").concat(t.slice(n)).join("/")}return{render(i,e){const t=new on(e);return new nn({target:i,props:{session:t}})}}}();
