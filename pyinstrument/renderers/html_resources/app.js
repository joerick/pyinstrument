var pyinstrumentHTMLRenderer=function(){"use strict";var Ln=Object.defineProperty;var $n=(k,he,Ee)=>he in k?Ln(k,he,{enumerable:!0,configurable:!0,writable:!0,value:Ee}):k[he]=Ee;var F=(k,he,Ee)=>$n(k,typeof he!="symbol"?he+"":he,Ee);function k(){}function he(t){return t()}function Ee(){return Object.create(null)}function me(t){t.forEach(he)}function mt(t){return typeof t=="function"}function le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function mi(t){return Object.keys(t).length===0}function Pt(t,...e){if(t==null){for(const n of e)n(void 0);return k}const i=t.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function pe(t,e,i){t.$$.on_destroy.push(Pt(e,i))}function pi(t,e,i){return t.set(i),e}function a(t,e){t.appendChild(e)}function U(t,e,i){t.insertBefore(e,i||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function L(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t){return document.createTextNode(t)}function w(){return P(" ")}function vi(){return P("")}function B(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function pt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function vt(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function s(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function gt(t){let e;return{p(...i){e=i,e.forEach(n=>t.push(n))},r(){e.forEach(i=>t.splice(t.indexOf(i),1))}}}function gi(t){return Array.from(t.childNodes)}function Me(t,e){e=""+e,t.data!==e&&(t.data=e)}function oe(t,e){t.value=e??""}function K(t,e,i,n){i==null?t.style.removeProperty(e):t.style.setProperty(e,i,"")}function Ce(t,e,i){t.classList.toggle(e,!!i)}function _i(t,e,{bubbles:i=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:i,cancelable:n})}let je;function Qe(t){je=t}function It(){if(!je)throw new Error("Function called outside component initialization");return je}function Rt(t){It().$$.on_mount.push(t)}function bi(){const t=It();return(e,i,{cancelable:n=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=_i(e,i,{cancelable:n});return r.slice().forEach(l=>{l.call(t,o)}),!o.defaultPrevented}return!0}}const Re=[],Se=[];let He=[];const St=[],wi=Promise.resolve();let _t=!1;function yi(){_t||(_t=!0,wi.then(Ht))}function bt(t){He.push(t)}const wt=new Set;let Ve=0;function Ht(){if(Ve!==0)return;const t=je;do{try{for(;Ve<Re.length;){const e=Re[Ve];Ve++,Qe(e),Ai(e.$$)}}catch(e){throw Re.length=0,Ve=0,e}for(Qe(null),Re.length=0,Ve=0;Se.length;)Se.pop()();for(let e=0;e<He.length;e+=1){const i=He[e];wt.has(i)||(wt.add(i),i())}He.length=0}while(Re.length);for(;St.length;)St.pop()();_t=!1,wt.clear(),Qe(t)}function Ai(t){if(t.fragment!==null){t.update(),me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(bt)}}function Ci(t){const e=[],i=[];He.forEach(n=>t.indexOf(n)===-1?e.push(n):i.push(n)),i.forEach(n=>n()),He=e}const nt=new Set;let Pe;function Oe(){Pe={r:0,c:[],p:Pe}}function De(){Pe.r||me(Pe.c),Pe=Pe.p}function S(t,e){t&&t.i&&(nt.delete(t),t.i(e))}function O(t,e,i,n){if(t&&t.o){if(nt.has(t))return;nt.add(t),Pe.c.push(()=>{nt.delete(t),n&&(i&&t.d(1),n())}),t.o(e)}else n&&n()}function Vt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Fi(t,e){O(t,1,1,()=>{e.delete(t.key)})}function ki(t,e,i,n,r,o,l,c,u,d,f,m){let h=t.length,v=o.length,_=h;const b={};for(;_--;)b[t[_].key]=_;const A=[],I=new Map,R=new Map,E=[];for(_=v;_--;){const g=m(r,o,_),T=i(g);let y=l.get(T);y?E.push(()=>y.p(g,e)):(y=d(T,g),y.c()),I.set(T,A[_]=y),T in b&&R.set(T,Math.abs(_-b[T]))}const V=new Set,G=new Set;function C(g){S(g,1),g.m(c,f),l.set(g.key,g),f=g.first,v--}for(;h&&v;){const g=A[v-1],T=t[h-1],y=g.key,M=T.key;g===T?(f=g.first,h--,v--):I.has(M)?!l.has(y)||V.has(y)?C(g):G.has(M)?h--:R.get(y)>R.get(M)?(G.add(y),C(g)):(V.add(M),h--):(u(T,l),h--)}for(;h--;){const g=t[h];I.has(g.key)||u(g,l)}for(;v;)C(A[v-1]);return me(E),A}function ve(t){t&&t.c()}function ae(t,e,i){const{fragment:n,after_update:r}=t.$$;n&&n.m(e,i),bt(()=>{const o=t.$$.on_mount.map(he).filter(mt);t.$$.on_destroy?t.$$.on_destroy.push(...o):me(o),t.$$.on_mount=[]}),r.forEach(bt)}function ce(t,e){const i=t.$$;i.fragment!==null&&(Ci(i.after_update),me(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function Ti(t,e){t.$$.dirty[0]===-1&&(Re.push(t),yi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ge(t,e,i,n,r,o,l=null,c=[-1]){const u=je;Qe(t);const d=t.$$={fragment:null,ctx:[],props:o,update:k,not_equal:r,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ee(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};l&&l(d.root);let f=!1;if(d.ctx=i?i(t,e.props||{},(m,h,...v)=>{const _=v.length?v[0]:h;return d.ctx&&r(d.ctx[m],d.ctx[m]=_)&&(!d.skip_bound&&d.bound[m]&&d.bound[m](_),f&&Ti(t,m)),h}):[],d.update(),f=!0,me(d.before_update),d.fragment=n?n(d.ctx):!1,e.target){if(e.hydrate){const m=gi(e.target);d.fragment&&d.fragment.l(m),m.forEach(N)}else d.fragment&&d.fragment.c();e.intro&&S(t.$$.fragment),ae(t,e.target,e.anchor),Ht()}Qe(u)}class _e{constructor(){F(this,"$$");F(this,"$$set")}$destroy(){ce(this,1),this.$destroy=k}$on(e,i){if(!mt(i))return k;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(i),()=>{const r=n.indexOf(i);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!mi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ei="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ei);function Mi(t){let e,i;return{c(){e=L("svg"),i=L("path"),s(i,"fill-rule","evenodd"),s(i,"clip-rule","evenodd"),s(i,"d","M5.11634 0.889422C4.86506 -0.296474 3.17237 -0.296474 2.92109 0.889422C2.78291 1.54158 2.10994 1.93011 1.47607 1.72371C0.323418 1.34837 -0.522932 2.81429 0.378448 3.62484C0.87414 4.07059 0.87414 4.84767 0.378448 5.29341C-0.522931 6.10397 0.323418 7.56989 1.47607 7.19455C2.10994 6.98814 2.78291 7.37668 2.92109 8.02883C3.17237 9.21473 4.86506 9.21473 5.11634 8.02883C5.25452 7.37668 5.92749 6.98814 6.56136 7.19455C7.71401 7.56989 8.56036 6.10397 7.65898 5.29341C7.16329 4.84767 7.16329 4.07059 7.65898 3.62484C8.56036 2.81429 7.71401 1.34837 6.56136 1.72371C5.92749 1.93011 5.25452 1.54158 5.11634 0.889422ZM4.01883 6.33408C5.05436 6.33408 5.89383 5.49462 5.89383 4.45908C5.89383 3.42355 5.05436 2.58408 4.01883 2.58408C2.98329 2.58408 2.14383 3.42355 2.14383 4.45908C2.14383 5.49462 2.98329 6.33408 4.01883 6.33408Z"),s(i,"fill","currentColor"),s(e,"width","9"),s(e,"height","9"),s(e,"viewBox","0 0 9 9"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(n,r){U(n,e,r),a(e,i)},p:k,i:k,o:k,d(n){n&&N(e)}}}class Pi extends _e{constructor(e){super(),ge(this,e,null,Mi,le,{})}}function Ii(t){let e,i,n,r,o,l,c,u,d,f,m,h,v,_,b,A,I;return{c(){e=L("svg"),i=L("g"),n=L("path"),r=L("path"),o=L("defs"),l=L("filter"),c=L("feFlood"),u=L("feBlend"),d=L("feGaussianBlur"),f=L("linearGradient"),m=L("stop"),h=L("stop"),v=L("stop"),_=L("linearGradient"),b=L("stop"),A=L("stop"),I=L("stop"),s(n,"fill-rule","evenodd"),s(n,"clip-rule","evenodd"),s(n,"d","M30 9H10V11.5H30V9ZM30 19H12.5V21.5H30V19ZM12.5 14H32.5V16.5H12.5V14ZM20 24H12.5V26.5H20V24ZM12.5 29H20V31.5H12.5V29ZM22.5 34H10V36.5H22.5V34Z"),s(n,"fill","url(#paint0_linear_67_262)"),s(i,"opacity","0.5"),s(i,"filter","url(#filter0_f_67_262)"),s(r,"fill-rule","evenodd"),s(r,"clip-rule","evenodd"),s(r,"d","M30 9H10V11.5H30V9ZM30 19H12.5V21.5H30V19ZM12.5 14H32.5V16.5H12.5V14ZM20 24H12.5V26.5H20V24ZM12.5 29H20V31.5H12.5V29ZM22.5 34H10V36.5H22.5V34Z"),s(r,"fill","url(#paint1_linear_67_262)"),s(c,"flood-opacity","0"),s(c,"result","BackgroundImageFix"),s(u,"mode","normal"),s(u,"in","SourceGraphic"),s(u,"in2","BackgroundImageFix"),s(u,"result","shape"),s(d,"stdDeviation","3.39785"),s(d,"result","effect1_foregroundBlur_67_262"),s(l,"id","filter0_f_67_262"),s(l,"x","3.2043"),s(l,"y","2.2043"),s(l,"width","36.0914"),s(l,"height","41.0914"),s(l,"filterUnits","userSpaceOnUse"),s(l,"color-interpolation-filters","sRGB"),s(m,"stop-color","#FFAA00"),s(h,"offset","0.514478"),s(h,"stop-color","#FFEB00"),s(v,"offset","1"),s(v,"stop-color","#98FF05"),s(f,"id","paint0_linear_67_262"),s(f,"x1","7.3769"),s(f,"y1","18.4566"),s(f,"x2","20.6583"),s(f,"y2","33.1038"),s(f,"gradientUnits","userSpaceOnUse"),s(b,"stop-color","#FFC834"),s(A,"offset","0.514478"),s(A,"stop-color","#FAF534"),s(I,"offset","1"),s(I,"stop-color","#B8FF38"),s(_,"id","paint1_linear_67_262"),s(_,"x1","7.3769"),s(_,"y1","18.4566"),s(_,"x2","20.6583"),s(_,"y2","33.1038"),s(_,"gradientUnits","userSpaceOnUse"),s(e,"width","44"),s(e,"height","44"),s(e,"viewBox","0 0 44 44"),s(e,"fill","none"),s(e,"xmlns","http://www.w3.org/2000/svg")},m(R,E){U(R,e,E),a(e,i),a(i,n),a(e,r),a(e,o),a(o,l),a(l,c),a(l,u),a(l,d),a(o,f),a(f,m),a(f,h),a(f,v),a(o,_),a(_,b),a(_,A),a(_,I)},p:k,i:k,o:k,d(R){R&&N(e)}}}class Ri extends _e{constructor(e){super(),ge(this,e,null,Ii,le,{})}}const Le=[];function Si(t,e){return{subscribe:rt(t,e).subscribe}}function rt(t,e=k){let i;const n=new Set;function r(c){if(le(t,c)&&(t=c,i)){const u=!Le.length;for(const d of n)d[1](),Le.push(d,t);if(u){for(let d=0;d<Le.length;d+=2)Le[d][0](Le[d+1]);Le.length=0}}}function o(c){r(c(t))}function l(c,u=k){const d=[c,u];return n.add(d),n.size===1&&(i=e(r,o)||k),c(t),()=>{n.delete(d),n.size===0&&i&&(i(),i=null)}}return{set:r,update:o,subscribe:l}}function Ot(t,e,i){const n=!Array.isArray(t),r=n?[t]:t;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return Si(i,(l,c)=>{let u=!1;const d=[];let f=0,m=k;const h=()=>{if(f)return;m();const _=e(n?d[0]:d,l,c);o?l(_):m=mt(_)?_:k},v=r.map((_,b)=>Pt(_,A=>{d[b]=A,f&=~(1<<b),u&&h()},()=>{f|=1<<b}));return u=!0,h(),function(){me(v),m(),u=!1}})}var yt={local:{},session:{}};function Hi(t){return t==="local"?localStorage:sessionStorage}function At(t,e,i){var n,r,o,l,c,u,d,f;i!=null&&i.onError&&console.warn("onError has been deprecated. Please use onWriteError instead");const m=(n=i==null?void 0:i.serializer)!=null?n:JSON,h=(r=i==null?void 0:i.storage)!=null?r:"local",v=(o=i==null?void 0:i.syncTabs)!=null?o:!0,_=(c=(l=i==null?void 0:i.onWriteError)!=null?l:i==null?void 0:i.onError)!=null?c:C=>console.error(`Error when writing value from persisted store "${t}" to ${h}`,C),b=(u=i==null?void 0:i.onParseError)!=null?u:(C,g)=>console.error(`Error when parsing ${C?'"'+C+'"':"value"} from persisted store "${t}"`,g),A=(d=i==null?void 0:i.beforeRead)!=null?d:C=>C,I=(f=i==null?void 0:i.beforeWrite)!=null?f:C=>C,R=typeof window<"u"&&typeof document<"u",E=R?Hi(h):null;function V(C,g){const T=I(g);try{E==null||E.setItem(C,m.stringify(T))}catch(y){_(y)}}function G(){function C(M){try{return m.parse(M)}catch(j){b(M,j)}}const g=E==null?void 0:E.getItem(t);if(g==null)return e;const T=C(g);return T==null?e:A(T)}if(!yt[h][t]){const C=G(),g=rt(C,M=>{if(R&&h=="local"&&v){const j=J=>{if(J.key===t&&J.newValue){let D;try{D=m.parse(J.newValue)}catch(ee){b(J.newValue,ee);return}const Ie=A(D);M(Ie)}};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)}}),{subscribe:T,set:y}=g;yt[h][t]={set(M){y(M),V(t,M)},update(M){return g.update(j=>{const J=M(j);return V(t,J),J})},reset(){this.set(e)},subscribe:T}}return yt[h][t]}function Dt(){return{collapseMode:"non-application",collapseCustomHide:"",collapseCustomShow:"",removeImportlib:!0,removeTracebackHide:!0,removePyinstrument:!0,removeIrrelevant:!0,removeIrrelevantThreshold:.001,timeFormat:"absolute"}}const Y=At("pyinstrument:viewOptionsCallStack",Dt(),{syncTabs:!0,beforeRead(t){return{...Dt(),...t}}}),Ze=At("pyinstrument:viewOptions",{viewMode:"call-stack"},{syncTabs:!1}),qe=At("pyinstrument:viewOptionsTimeline",{removeImportlib:!0,removeTracebackHide:!0,removePyinstrument:!0,removeIrrelevant:!0,removeIrrelevantThreshold:1e-4},{syncTabs:!0});function Vi(t){let e,i,n,r,o,l,c,u,d,f,m,h,v,_,b,A,I,R,E,V,G,C,g,T,y,M,j,J,D,Ie,ee,x,Q,Fe,z,xe,Je,se,W,et,te,ue,de,be,fe,ye,tt,Ae,X,Ne,ke,it,$,H,Z,ti,ot,ii,ni,ze,Te,ri,We,at,si,li,we,oi,ai,Ue,ct,ci,Ge,ut,dt,ie,ui,di,ft,ht,ne,fi,Tt,Et,Mt,hi;return Tt=gt(t[5][0]),Et=gt(t[5][1]),{c(){e=p("div"),i=p("div"),n=p("div"),n.textContent="Collapse frames",r=w(),o=p("div"),l=p("div"),c=p("input"),u=w(),d=p("label"),f=P("Non-application code"),m=w(),h=p("div"),h.textContent=`Application code is anything run from outside the Python home
          directory.`,v=w(),_=p("div"),b=p("input"),A=w(),I=p("label"),R=P("Custom"),E=w(),V=p("div"),G=P(`Regex on the source file path.
          `),C=p("div"),g=p("label"),g.textContent="Show",T=w(),y=p("input"),M=w(),j=p("label"),j.textContent="Hide",J=w(),D=p("input"),Ie=P(`
          If neither match, non-application rule is used.`),ee=w(),x=p("div"),Q=p("input"),Fe=w(),z=p("label"),xe=P("Disabled"),Je=w(),se=p("div"),W=p("div"),W.textContent="Remove frames",et=w(),te=p("div"),ue=p("div"),de=p("input"),be=w(),fe=p("label"),ye=P("importlib machinery"),tt=w(),Ae=p("div"),X=p("input"),Ne=w(),ke=p("label"),it=P("Frames declaring __traceback_hide__"),$=w(),H=p("div"),Z=p("input"),ti=w(),ot=p("label"),ii=P("pyinstrument frames"),ni=w(),ze=p("div"),Te=p("input"),ri=w(),We=p("span"),at=p("label"),si=P("Frames with durations less than"),li=w(),we=p("input"),oi=P(`
          % of the total time`),ai=w(),Ue=p("div"),ct=p("div"),ct.textContent="Time format",ci=w(),Ge=p("div"),ut=p("div"),dt=p("label"),ie=p("input"),ui=P(`
          Absolute time in seconds`),di=w(),ft=p("div"),ht=p("label"),ne=p("input"),fi=P(`
          Percentage of the total run time`),s(n,"class","name svelte-1pecl4m"),s(c,"id",t[1]+"collapseModeAll"),s(c,"type","radio"),c.__value="non-application",oe(c,c.__value),s(c,"class","svelte-1pecl4m"),s(d,"for",t[1]+"collapseModeAll"),s(h,"class","description svelte-1pecl4m"),s(l,"class","option svelte-1pecl4m"),s(b,"id",t[1]+"collapseModeCustom"),s(b,"type","radio"),b.__value="custom",oe(b,b.__value),s(b,"class","svelte-1pecl4m"),s(I,"for",t[1]+"collapseModeCustom"),s(g,"for","collapseCustomShow"),s(g,"class","svelte-1pecl4m"),s(y,"id","collapseCustomShow"),s(y,"type","text"),s(y,"placeholder","myproject"),s(y,"spellcheck","false"),s(y,"autocapitalize","off"),s(y,"autocomplete","off"),s(y,"autocorrect","off"),s(y,"class","svelte-1pecl4m"),s(j,"for","collapseCustomHide"),s(j,"class","svelte-1pecl4m"),s(D,"id","collapseCustomHide"),s(D,"type","text"),s(D,"placeholder",".*/lib/.*"),s(D,"spellcheck","false"),s(D,"autocapitalize","off"),s(D,"autocomplete","off"),s(D,"autocorrect","off"),s(D,"class","svelte-1pecl4m"),s(C,"class","mini-input-grid svelte-1pecl4m"),s(V,"class","description svelte-1pecl4m"),s(_,"class","option svelte-1pecl4m"),s(Q,"id",t[1]+"collapseModeDisabled"),s(Q,"type","radio"),Q.__value="disabled",oe(Q,Q.__value),s(Q,"class","svelte-1pecl4m"),s(z,"for",t[1]+"collapseModeDisabled"),s(x,"class","option svelte-1pecl4m"),s(o,"class","body"),s(i,"class","option-group svelte-1pecl4m"),s(W,"class","name svelte-1pecl4m"),s(de,"id",t[1]+"removeImportlib"),s(de,"type","checkbox"),s(de,"class","svelte-1pecl4m"),s(fe,"for",t[1]+"removeImportlib"),s(ue,"class","option svelte-1pecl4m"),s(X,"id",t[1]+"removeTracebackHide"),s(X,"type","checkbox"),s(X,"class","svelte-1pecl4m"),s(ke,"for",t[1]+"removeTracebackHide"),s(Ae,"class","option svelte-1pecl4m"),s(Z,"id",t[1]+"removePyinstrument"),s(Z,"type","checkbox"),s(Z,"class","svelte-1pecl4m"),s(ot,"for",t[1]+"removePyinstrument"),s(H,"class","option svelte-1pecl4m"),s(Te,"id",t[1]+"removeIrrelevant"),s(Te,"type","checkbox"),s(Te,"class","svelte-1pecl4m"),s(at,"for",t[1]+"removeIrrelevant"),s(we,"type","number"),we.value=t[2](),s(we,"min","0"),s(we,"max","99"),s(we,"step","0.01"),K(we,"width","4em"),s(we,"class","svelte-1pecl4m"),s(ze,"class","option svelte-1pecl4m"),s(te,"class","body"),s(se,"class","option-group svelte-1pecl4m"),s(ct,"class","name svelte-1pecl4m"),s(ie,"type","radio"),ie.__value="absolute",oe(ie,ie.__value),s(ie,"class","svelte-1pecl4m"),s(ut,"class","option svelte-1pecl4m"),s(ne,"type","radio"),ne.__value="proportion",oe(ne,ne.__value),s(ne,"class","svelte-1pecl4m"),s(ft,"class","option svelte-1pecl4m"),s(Ge,"class","body"),s(Ue,"class","option-group svelte-1pecl4m"),s(e,"class","view-options-call-stack svelte-1pecl4m"),Tt.p(ie,ne),Et.p(c,b,Q)},m(q,re){U(q,e,re),a(e,i),a(i,n),a(i,r),a(i,o),a(o,l),a(l,c),c.checked=c.__value===t[0].collapseMode,a(l,u),a(l,d),a(d,f),a(l,m),a(l,h),a(o,v),a(o,_),a(_,b),b.checked=b.__value===t[0].collapseMode,a(_,A),a(_,I),a(I,R),a(_,E),a(_,V),a(V,G),a(V,C),a(C,g),a(C,T),a(C,y),oe(y,t[0].collapseCustomShow),a(C,M),a(C,j),a(C,J),a(C,D),oe(D,t[0].collapseCustomHide),a(V,Ie),a(o,ee),a(o,x),a(x,Q),Q.checked=Q.__value===t[0].collapseMode,a(x,Fe),a(x,z),a(z,xe),a(e,Je),a(e,se),a(se,W),a(se,et),a(se,te),a(te,ue),a(ue,de),de.checked=t[0].removeImportlib,a(ue,be),a(ue,fe),a(fe,ye),a(te,tt),a(te,Ae),a(Ae,X),X.checked=t[0].removeTracebackHide,a(Ae,Ne),a(Ae,ke),a(ke,it),a(te,$),a(te,H),a(H,Z),Z.checked=t[0].removePyinstrument,a(H,ti),a(H,ot),a(ot,ii),a(te,ni),a(te,ze),a(ze,Te),Te.checked=t[0].removeIrrelevant,a(ze,ri),a(ze,We),a(We,at),a(at,si),a(We,li),a(We,we),a(We,oi),a(e,ai),a(e,Ue),a(Ue,ct),a(Ue,ci),a(Ue,Ge),a(Ge,ut),a(ut,dt),a(dt,ie),ie.checked=ie.__value===t[0].timeFormat,a(dt,ui),a(Ge,di),a(Ge,ft),a(ft,ht),a(ht,ne),ne.checked=ne.__value===t[0].timeFormat,a(ht,fi),Mt||(hi=[B(c,"change",t[4]),B(b,"change",t[6]),B(y,"input",t[7]),B(D,"input",t[8]),B(Q,"change",t[9]),B(de,"change",t[10]),B(X,"change",t[11]),B(Z,"change",t[12]),B(Te,"change",t[13]),B(we,"input",t[3]),B(ie,"change",t[14]),B(ne,"change",t[15])],Mt=!0)},p(q,[re]){re&1&&(c.checked=c.__value===q[0].collapseMode),re&1&&(b.checked=b.__value===q[0].collapseMode),re&1&&y.value!==q[0].collapseCustomShow&&oe(y,q[0].collapseCustomShow),re&1&&D.value!==q[0].collapseCustomHide&&oe(D,q[0].collapseCustomHide),re&1&&(Q.checked=Q.__value===q[0].collapseMode),re&1&&(de.checked=q[0].removeImportlib),re&1&&(X.checked=q[0].removeTracebackHide),re&1&&(Z.checked=q[0].removePyinstrument),re&1&&(Te.checked=q[0].removeIrrelevant),re&1&&(ie.checked=ie.__value===q[0].timeFormat),re&1&&(ne.checked=ne.__value===q[0].timeFormat)},i:k,o:k,d(q){q&&N(e),Tt.r(),Et.r(),Mt=!1,me(hi)}}}function Oi(t,e,i){let n;pe(t,Y,E=>i(0,n=E));const r=Math.random().toString(36).substring(4);function o(){return(n.removeIrrelevantThreshold*100).toLocaleString(void 0,{maximumFractionDigits:4})}function l(E){pi(Y,n.removeIrrelevantThreshold=E.currentTarget.valueAsNumber/100,n)}const c=[[],[]];function u(){n.collapseMode=this.__value,Y.set(n)}function d(){n.collapseMode=this.__value,Y.set(n)}function f(){n.collapseCustomShow=this.value,Y.set(n)}function m(){n.collapseCustomHide=this.value,Y.set(n)}function h(){n.collapseMode=this.__value,Y.set(n)}function v(){n.removeImportlib=this.checked,Y.set(n)}function _(){n.removeTracebackHide=this.checked,Y.set(n)}function b(){n.removePyinstrument=this.checked,Y.set(n)}function A(){n.removeIrrelevant=this.checked,Y.set(n)}function I(){n.timeFormat=this.__value,Y.set(n)}function R(){n.timeFormat=this.__value,Y.set(n)}return[n,r,o,l,u,c,d,f,m,h,v,_,b,A,I,R]}class Di extends _e{constructor(e){super(),ge(this,e,Oi,Vi,le,{})}}function Li(t){let e,i,n,r,o,l,c,u,d,f,m,h,v,_,b,A,I,R,E,V,G,C,g,T;return{c(){e=p("div"),i=p("div"),n=p("div"),n.textContent="Remove frames",r=w(),o=p("div"),l=p("div"),c=p("input"),u=w(),d=p("label"),f=P("importlib machinery"),m=w(),h=p("div"),v=p("input"),_=w(),b=p("label"),A=P("Frames declaring __traceback_hide__"),I=w(),R=p("div"),E=p("input"),V=w(),G=p("label"),C=P("pyinstrument frames"),s(n,"class","name"),s(c,"id",t[1]+"removeImportlib"),s(c,"type","checkbox"),s(d,"for",t[1]+"removeImportlib"),s(l,"class","option"),s(v,"id",t[1]+"removeTracebackHide"),s(v,"type","checkbox"),s(b,"for",t[1]+"removeTracebackHide"),s(h,"class","option"),s(E,"id",t[1]+"removePyinstrument"),s(E,"type","checkbox"),s(G,"for",t[1]+"removePyinstrument"),s(R,"class","option"),s(o,"class","body"),s(i,"class","option-group"),s(e,"class","view-options-timeline svelte-vsz8zm")},m(y,M){U(y,e,M),a(e,i),a(i,n),a(i,r),a(i,o),a(o,l),a(l,c),c.checked=t[0].removeImportlib,a(l,u),a(l,d),a(d,f),a(o,m),a(o,h),a(h,v),v.checked=t[0].removeTracebackHide,a(h,_),a(h,b),a(b,A),a(o,I),a(o,R),a(R,E),E.checked=t[0].removePyinstrument,a(R,V),a(R,G),a(G,C),g||(T=[B(c,"change",t[2]),B(v,"change",t[3]),B(E,"change",t[4])],g=!0)},p(y,[M]){M&1&&(c.checked=y[0].removeImportlib),M&1&&(v.checked=y[0].removeTracebackHide),M&1&&(E.checked=y[0].removePyinstrument)},i:k,o:k,d(y){y&&N(e),g=!1,me(T)}}}function $i(t,e,i){let n;pe(t,qe,u=>i(0,n=u));const r=Math.random().toString(36).substring(4);function o(){n.removeImportlib=this.checked,qe.set(n)}function l(){n.removeTracebackHide=this.checked,qe.set(n)}function c(){n.removePyinstrument=this.checked,qe.set(n)}return[n,r,o,l,c]}class Bi extends _e{constructor(e){super(),ge(this,e,$i,Li,le,{})}}class Ni extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function zi(t,e){const i=e*(t.length-1),n=Math.floor(i),r=Math.ceil(i),o=t[n],l=t[r],c=i-n;return Ui(c,{to:[o,l]})}function Wi(t,e,i){return t===1/0?(console.warn("clamp: value is Infinity, returning `max`",t),i):t===-1/0?(console.warn("clamp: value is -Infinity, returning `min`",t),e):Number.isFinite(t)?t<e?e:t>i?i:t:(console.warn("clamp: value isn't finite, returning `min`",t),e)}function $e(t,e){const{from:i=[0,1],to:n=[0,1]}=e,r=e.clamp||!1;let o=(t-i[0])/(i[1]-i[0])*(n[1]-n[0])+n[0];return r&&(o=Wi(o,Math.min(n[0],n[1]),Math.max(n[0],n[1]))),o}function Ui(t,e){return`rgb(
      ${$e(t,{from:e.from,to:[e.to[0][0],e.to[1][0]],clamp:e.clamp})},
      ${$e(t,{from:e.from,to:[e.to[0][1],e.to[1][1]],clamp:e.clamp})},
      ${$e(t,{from:e.from,to:[e.to[0][2],e.to[1][2]],clamp:e.clamp})}
    )`}function Gi(t){if(t.substr(0,1)=="#"){var e=(t.length-1)/3,i=[17,1,.062272][e-1];return[Math.round(parseInt(t.substr(1,e),16)*i),Math.round(parseInt(t.substr(1+e,e),16)*i),Math.round(parseInt(t.substr(1+2*e,e),16)*i)]}else return t.split("(")[1].split(")")[0].split(",").map(n=>+n)}function ji(t,e,i={}){const{ignore:n=[],capture:r=!0}=i,o=window;if(!o)return()=>{};let l=!0,c=!1;const u=v=>n.some(_=>typeof _=="string"?Array.from(document.querySelectorAll(_)).some(b=>b===v.target||v.composedPath().includes(b)):_&&(v.target===_||v.composedPath().includes(_))),d=v=>{if(!(!t||t===v.target||v.composedPath().includes(t))){if(v.detail===0&&(l=!u(v)),!l){l=!0;return}e(v)}},f=v=>{c||(c=!0,setTimeout(()=>{c=!1},0),d(v))},m=v=>{l=!u(v)&&!!(t&&!v.composedPath().includes(t))};return o.addEventListener("click",f,{passive:!0,capture:r}),o.addEventListener("pointerdown",m,{passive:!0}),()=>{o.removeEventListener("click",f,{capture:r}),o.removeEventListener("pointerdown",m)}}function Qi(t){const e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML}function Lt(t){return Qi(t).replace(/\//g,"/<wbr>")}function Zi(t){let e,i;return e=new Bi({}),{c(){ve(e.$$.fragment)},m(n,r){ae(e,n,r),i=!0},i(n){i||(S(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){ce(e,n)}}}function qi(t){let e,i;return e=new Di({}),{c(){ve(e.$$.fragment)},m(n,r){ae(e,n,r),i=!0},i(n){i||(S(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){ce(e,n)}}}function Ki(t){let e,i,n,r,o,l,c,u;const d=[qi,Zi],f=[];function m(h,v){return h[0].viewMode==="call-stack"?0:h[0].viewMode==="timeline"?1:-1}return~(l=m(t))&&(c=f[l]=d[l](t)),{c(){e=p("div"),i=p("div"),n=p("div"),r=P(t[2]),o=w(),c&&c.c(),s(n,"class","title svelte-f96okc"),s(i,"class","box svelte-f96okc"),s(e,"class","view-options svelte-f96okc")},m(h,v){U(h,e,v),a(e,i),a(i,n),a(n,r),a(i,o),~l&&f[l].m(i,null),t[3](i),u=!0},p(h,[v]){(!u||v&4)&&Me(r,h[2]);let _=l;l=m(h),l!==_&&(c&&(Oe(),O(f[_],1,1,()=>{f[_]=null}),De()),~l?(c=f[l],c||(c=f[l]=d[l](h),c.c()),S(c,1),c.m(i,null)):c=null)},i(h){u||(S(c),u=!0)},o(h){O(c),u=!1},d(h){h&&N(e),~l&&f[l].d(),t[3](null)}}}function Yi(t,e,i){let n;pe(t,Ze,d=>i(0,n=d));const r=bi();function o(){r("close")}let l;Rt(()=>{if(l)return ji(l,o,{ignore:[".js-view-options-button"]})});let c="View options";function u(d){Se[d?"unshift":"push"](()=>{l=d,i(1,l)})}return t.$$.update=()=>{t.$$.dirty&1&&(n.viewMode==="call-stack"?i(2,c="Call stack view options"):n.viewMode==="timeline"&&i(2,c="Timeline view options"))},[n,l,c,u]}class Xi extends _e{constructor(e){super(),ge(this,e,Yi,Ki,le,{})}}function $t(t){let e,i;return e=new Xi({}),e.$on("close",t[9]),{c(){ve(e.$$.fragment)},m(n,r){ae(e,n,r),i=!0},p:k,i(n){i||(S(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){ce(e,n)}}}function xi(t){let e,i,n,r,o,l,c,u,d=Lt(t[0].target_description)+"",f,m,h,v,_,b,A,I,R,E,V,G,C,g=t[0].sampleCount+"",T,y,M,j,J,D,Ie,ee,x,Q,Fe,z,xe,Je,se,W,et,te,ue,de,be,fe,ye,tt,Ae,X,Ne,ke,it;o=new Ri({}),ye=new Pi({});let $=t[1]&&$t(t);return Ne=gt(t[7][0]),{c(){e=p("div"),i=p("div"),n=p("div"),r=p("div"),ve(o.$$.fragment),l=w(),c=p("div"),u=p("div"),f=w(),m=p("div"),h=p("div"),v=p("span"),v.textContent="Recorded:",_=w(),b=p("span"),b.textContent=`${t[3]}`,A=w(),I=p("br"),R=w(),E=p("div"),V=p("span"),V.textContent="Samples:",G=w(),C=p("span"),T=P(g),y=w(),M=p("div"),j=p("span"),j.textContent="CPU utilization:",J=w(),D=p("span"),D.textContent=`${(t[4]*100).toFixed(0)}%`,Ie=w(),ee=p("div"),x=p("div"),Q=P(`View:
            `),Fe=p("label"),z=p("input"),xe=P(`
              Call stack`),Je=w(),se=p("label"),W=p("input"),et=P(`
              Timeline`),te=w(),ue=p("div"),de=w(),be=p("div"),fe=p("button"),ve(ye.$$.fragment),tt=P(`
              View options`),Ae=w(),$&&$.c(),s(r,"class","logo svelte-g6343"),s(u,"class","target-description svelte-g6343"),s(v,"class","metric-label svelte-g6343"),s(b,"class","metric-value svelte-g6343"),s(h,"class","metric date svelte-g6343"),s(I,"class","svelte-g6343"),s(V,"class","metric-label svelte-g6343"),s(C,"class","metric-value svelte-g6343"),s(E,"class","metric svelte-g6343"),s(j,"class","metric-label svelte-g6343"),s(D,"class","metric-value svelte-g6343"),s(M,"class","metric svelte-g6343"),s(m,"class","metrics svelte-g6343"),s(z,"type","radio"),z.__value="call-stack",oe(z,z.__value),s(z,"class","svelte-g6343"),s(Fe,"class","svelte-g6343"),s(W,"type","radio"),W.__value="timeline",oe(W,W.__value),s(W,"class","svelte-g6343"),s(se,"class","svelte-g6343"),s(x,"class","toggle"),s(ue,"class","spacer"),K(ue,"flex","1"),s(fe,"class","js-view-options-button svelte-g6343"),s(be,"class","button-container svelte-g6343"),s(ee,"class","view-options svelte-g6343"),s(c,"class","layout svelte-g6343"),s(n,"class","row svelte-g6343"),s(i,"class","margins"),s(e,"class","header svelte-g6343"),Ne.p(z,W)},m(H,Z){U(H,e,Z),a(e,i),a(i,n),a(n,r),ae(o,r,null),a(n,l),a(n,c),a(c,u),u.innerHTML=d,a(c,f),a(c,m),a(m,h),a(h,v),a(h,_),a(h,b),a(m,A),a(m,I),a(m,R),a(m,E),a(E,V),a(E,G),a(E,C),a(C,T),a(m,y),a(m,M),a(M,j),a(M,J),a(M,D),a(c,Ie),a(c,ee),a(ee,x),a(x,Q),a(x,Fe),a(Fe,z),z.checked=z.__value===t[2].viewMode,a(Fe,xe),a(x,Je),a(x,se),a(se,W),W.checked=W.__value===t[2].viewMode,a(se,et),a(ee,te),a(ee,ue),a(ee,de),a(ee,be),a(be,fe),ae(ye,fe,null),a(fe,tt),a(be,Ae),$&&$.m(be,null),X=!0,ke||(it=[B(z,"change",t[6]),B(W,"change",t[8]),B(fe,"click",vt(pt(t[5])))],ke=!0)},p(H,[Z]){(!X||Z&1)&&d!==(d=Lt(H[0].target_description)+"")&&(u.innerHTML=d),(!X||Z&1)&&g!==(g=H[0].sampleCount+"")&&Me(T,g),Z&4&&(z.checked=z.__value===H[2].viewMode),Z&4&&(W.checked=W.__value===H[2].viewMode),H[1]?$?($.p(H,Z),Z&2&&S($,1)):($=$t(H),$.c(),S($,1),$.m(be,null)):$&&(Oe(),O($,1,1,()=>{$=null}),De())},i(H){X||(S(o.$$.fragment,H),S(ye.$$.fragment,H),S($),X=!0)},o(H){O(o.$$.fragment,H),O(ye.$$.fragment,H),O($),X=!1},d(H){H&&N(e),ce(o),ce(ye),$&&$.d(),Ne.r(),ke=!1,me(it)}}}function Ji(t,e,i){let n;pe(t,Ze,v=>i(2,n=v));let{session:r}=e;const o=new Date(r.startTime*1e3).toLocaleString(void 0,{dateStyle:"long",timeStyle:"medium"}),l=r.cpuTime/r.duration;let c=!1;function u(v){i(1,c=!c)}const d=[[]];function f(){n.viewMode=this.__value,Ze.set(n)}function m(){n.viewMode=this.__value,Ze.set(n)}const h=()=>i(1,c=!1);return t.$$set=v=>{"session"in v&&i(0,r=v.session)},[r,c,n,o,l,u,f,d,m,h]}class en extends _e{constructor(e){super(),ge(this,e,Ji,xi,le,{session:0})}}const tn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWmSURBVHgBtVc7i11VFF5rn3PvPKoLFlqmDGPhaGVpJQoWAZEEGxERFBsDgnY6KFpaWWrQysRGf4BgmSKQFCKWKQMKTqNzz2svv/XY55ybeycTCw+z736cs/f61rdee5hmz/Hx85c66m4QyTEzrdAo4cd6EuuJ2P4wtbmUgfZkCyRoWVcwyMI29ybW47sfhRfXf793+z4X4ZchPEl3F2esElYrbRVaEjQGEKGE3jcUofGwlIEBygoACAa0fmDrdV4AOAg6FV4+W49nUPdlEW4AElGNtqjZ+hqIdI2NAC7KuvAZloyJCR+IukGmF5A6iH/IbEBWLN2NevbBFQ6tCoAF3u7VggYQtQJyFlygOAADI74Jf669QDiWWh6xFRMUgLF6PAGYkcgGgGkBE/x8AiSVaykG0AUxlgm7BY0BUMAQL8R77LM96F98A98kBeu+kAdlgA0MntUGACmOFDQl5sm+Rai6lwpMLtiEgSVGE8wVFBkAB7XcU+rdJOoLSU0x8Aii3ta/0AWqMHjlM6LDPaYDHLSsnRn9pjMny2jBCDSu9H3tDqpCmw4C6lgHqAQmWB05uwwF8RCAQpU7jIbQYCElBsjAlabfqJdnD7lKwzVcIVVOgmKpF2g921pS8/QRvuETmwDEKZdwFHMocYHffYSfBc0opojVIomjx/dY64CkxVktMsgar16/IhbKygANruwWA+YDkURUcNHQaK5ps1XhBwaAzf6M9YzWq3Ac1EKACm80cB8KV6IdPsCR0aQAMBAaUkxXPyU6WDqlypKaSEOtmCCpDyAKFgu1gSecrhdar4n++VsiGUVWDHUpdJkYEPEkEyDc7paHTShXbkuNhqQfaF5wMt16lff69JYFFYT3A8AYgFxku5xtBtw9R7YsEiH85hcYLIsfuO0lfCCHvTtMWxszNRhDebp+LRsTGobFr0zBiO5tBnhWaZgiDwD5gi3Wiw+YcDAwoDfB+MaFq83RsP8M5zSYdFjsBwfh9YAjErbyQLHNVNUsH2Dl2odCh4dE+0vQXjtI9YG2z05zOKvSbdR3eKdtLTbugVKzoOQxC+7KA5NtJPiXEZaH5xDglMrOBMHTWxdWhA/QVqtgEdx3EtVwSkDOxE4GHESpCZzcHLe+4gg3HA7P69jpfvutTA0GTQNNkXAs5UYJVjC593keik/JBohzALjQsXbrJtRksRgntzm7nVX4GnZumtC4D23N4aIAZWdv9LyZv+3IA87AlHY1HQu9+q7Qwb7nAQ01FbQ+g5NBaNOKA2jdD0bg4+UjzCrbqu6IgrLB6aLRF6KWB0ZNUj15QvLCRVa8PNanqiq7pM7kbVXDEvdaipMmHIRfBa2//aYC9WI5vjH6ydLsB1ezpePiK9PhYcoLnjSK5kljNUWqvXppKdVxo4XFhIsJ93gXy/8clxIvt0X7i4XrU8+1D+wGgKPGW/UCzHfew9VsXywVZxbz8GYdKqS4rCTfZ/NZvD8WA/Yxu/aW661F7q+cIbsXVO6EcVf3b0t9SIXFx9N+kwEO3w8QVmhggq+/9xSroVdiv5TZlr0SanL6/KXOK5SaL9b/G4DRdDzONZbPuAjXS4bnfPWBPrJkjhzpYbdR8OeXz62nvBt3HD3z3F/2f0Fyx9O7XL2HAoj7YG33AK8Bag4TrJlOa0DrrVtrj7DsPBtKlgstsZGIcOW+B0wvlMP1EOqcCh1rTldb+/Xcw2woqbaLeh/Vbl7vH/Vgx08TABrehO53ccJKK1ZWP+gjpRqAKdaN8jxLs5r7Bx5TMBm18kjxOOZ0ub/3flUW/nzw4PSJp568CT0vYXq5aGJgslc4o7doPI6dcis2eUq950Ug1DqF9NvQ/uVf79y5v+E1IptedEInNj+iT2L9Nfv9jf7gI/pFdP4D5rfoaYw/Lv+pReVRq/JOEEXOee/PAf7/PP8C3bt510T4rIwAAAAASUVORK5CYII=",Bt=rt({}),Nt=rt({});function zt(t,e,i){const n=t.slice();return n[19]=e[i],n}function Wt(t){let e,i,n,r,o,l,c,u,d,f,m,h,v,_;return{c(){e=p("div"),i=p("div"),n=L("svg"),r=L("path"),o=w(),l=p("div"),c=P(t[5]),u=w(),d=p("div"),f=P(t[4]),m=w(),h=p("div"),h.textContent=`${t[11]}`,s(r,"d","M.937-.016L5.793 4.84.937 9.696z"),s(r,"fill",t[7]),s(r,"fill-rule","evenodd"),s(r,"fill-opacity",".582"),s(n,"width","6"),s(n,"height","10"),s(i,"class","frame-triangle svelte-1hxft88"),Ce(i,"rotate",!t[9]),K(i,"visibility",t[0].children.length>0?"visible":"hidden"),s(l,"class","time svelte-1hxft88"),K(l,"color",t[7]),K(l,"font-weight",t[10]<.2?500:600),s(d,"class","name svelte-1hxft88"),s(h,"class","code-position svelte-1hxft88"),s(e,"class","frame-description svelte-1hxft88"),Ce(e,"application-code",t[0].isApplicationCode),Ce(e,"children-visible",!t[9]),K(e,"padding-left",`${t[2]*35}px`)},m(b,A){U(b,e,A),a(e,i),a(i,n),a(n,r),a(e,o),a(e,l),a(l,c),a(e,u),a(e,d),a(d,f),a(e,m),a(e,h),v||(_=B(e,"click",vt(pt(t[12]))),v=!0)},p(b,A){A&128&&s(r,"fill",b[7]),A&512&&Ce(i,"rotate",!b[9]),A&1&&K(i,"visibility",b[0].children.length>0?"visible":"hidden"),A&32&&Me(c,b[5]),A&128&&K(l,"color",b[7]),A&16&&Me(f,b[4]),A&1&&Ce(e,"application-code",b[0].isApplicationCode),A&512&&Ce(e,"children-visible",!b[9]),A&4&&K(e,"padding-left",`${b[2]*35}px`)},d(b){b&&N(e),v=!1,_()}}}function Ut(t){let e,i,n,r,o=t[0].group.frames.length+"",l,c,u,d,f,m;return{c(){e=p("div"),i=p("div"),n=p("div"),n.innerHTML='<svg width="6" height="10"><path d="M.937-.016L5.793 4.84.937 9.696z" fill="#FFF" fill-rule="evenodd" fill-opacity=".582"></path></svg>',r=w(),l=P(o),c=P(` frames hidden
        (`),u=P(t[6]),d=P(")"),s(n,"class","group-triangle svelte-1hxft88"),Ce(n,"rotate",t[8]),s(i,"class","group-header-button svelte-1hxft88"),s(e,"class","group-header svelte-1hxft88"),K(e,"padding-left",`${t[2]*35}px`)},m(h,v){U(h,e,v),a(e,i),a(i,n),a(i,r),a(i,l),a(i,c),a(i,u),a(i,d),f||(m=B(e,"click",vt(pt(t[13]))),f=!0)},p(h,v){v&256&&Ce(n,"rotate",h[8]),v&1&&o!==(o=h[0].group.frames.length+"")&&Me(l,o),v&64&&Me(u,h[6]),v&4&&K(e,"padding-left",`${h[2]*35}px`)},d(h){h&&N(e),f=!1,m()}}}function Gt(t){let e,i=[],n=new Map,r,o=Vt(t[0].children);const l=c=>c[19].uuid;for(let c=0;c<o.length;c+=1){let u=zt(t,o,c),d=l(u);n.set(d,i[c]=jt(d,u))}return{c(){e=p("div");for(let c=0;c<i.length;c+=1)i[c].c();s(e,"class","children svelte-1hxft88")},m(c,u){U(c,e,u);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(e,null);r=!0},p(c,u){u&15&&(o=Vt(c[0].children),Oe(),i=ki(i,u,l,1,c,o,n,e,Fi,jt,null,zt),De())},i(c){if(!r){for(let u=0;u<o.length;u+=1)S(i[u]);r=!0}},o(c){for(let u=0;u<i.length;u+=1)O(i[u]);r=!1},d(c){c&&N(e);for(let u=0;u<i.length;u+=1)i[u].d()}}}function jt(t,e){let i,n,r;return n=new Qt({props:{frame:e[19],rootFrame:e[1],indent:e[2]+(e[3]?1:0)}}),{key:t,first:null,c(){i=vi(),ve(n.$$.fragment),this.first=i},m(o,l){U(o,i,l),ae(n,o,l),r=!0},p(o,l){e=o;const c={};l&1&&(c.frame=e[19]),l&2&&(c.rootFrame=e[1]),l&12&&(c.indent=e[2]+(e[3]?1:0)),n.$set(c)},i(o){r||(S(n.$$.fragment,o),r=!0)},o(o){O(n.$$.fragment,o),r=!1},d(o){o&&N(i),ce(n,o)}}}function nn(t){let e,i,n,r,o,l,c=t[3]&&Wt(t),u=t[0].group&&t[0].group.rootFrame==t[0]&&!t[9]&&Ut(t),d=!t[9]&&t[0].children.length>0&&Gt(t);return{c(){e=p("div"),c&&c.c(),i=w(),u&&u.c(),n=w(),d&&d.c(),r=w(),o=p("div"),o.innerHTML="",s(o,"class","visual-guide svelte-1hxft88"),K(o,"left",`${t[2]*35+21}px`),K(o,"backgroundColor",t[7]),s(e,"class","frame svelte-1hxft88")},m(f,m){U(f,e,m),c&&c.m(e,null),a(e,i),u&&u.m(e,null),a(e,n),d&&d.m(e,null),a(e,r),a(e,o),l=!0},p(f,[m]){f[3]?c?c.p(f,m):(c=Wt(f),c.c(),c.m(e,i)):c&&(c.d(1),c=null),f[0].group&&f[0].group.rootFrame==f[0]&&!f[9]?u?u.p(f,m):(u=Ut(f),u.c(),u.m(e,n)):u&&(u.d(1),u=null),!f[9]&&f[0].children.length>0?d?(d.p(f,m),m&513&&S(d,1)):(d=Gt(f),d.c(),S(d,1),d.m(e,r)):d&&(Oe(),O(d,1,1,()=>{d=null}),De()),m&4&&K(o,"left",`${f[2]*35+21}px`),m&128&&K(o,"backgroundColor",f[7])},i(f){l||(S(d),l=!0)},o(f){O(d),l=!1},d(f){f&&N(e),c&&c.d(),u&&u.d(),d&&d.d()}}}function rn(t,e,i){var C;let n,r,o,l,c;pe(t,Nt,g=>i(14,o=g)),pe(t,Bt,g=>i(15,l=g)),pe(t,Y,g=>i(16,c=g));let{frame:u}=e,{rootFrame:d}=e,{indent:f=0}=e,m;const h=u.time/d.time;let v;const _=`${u.filePathShort}:${(C=u.lineNo)==null?void 0:C.toString().padEnd(4,"Â ")}`;let b,A=null;if(u.group){const g=u.group.libraries;g.length<4?A=g.join(", "):A=`${g[0]}, ${g[1]}, ${g[2]}...`}let I;h>.6?I="#FF4159":h>.3?I="#F5A623":h>.2?I="#D8CB2A":I="#7ED321";function R(g){E(u,!r,g.altKey)}function E(g,T,y=!0){if(Nt.update(M=>({...M,[g.uuid]:T})),y)for(const M of g.children)E(M,T,!0),g.group&&g.group.rootFrame==g&&V(g.group.id,!T)}function V(g,T){Bt.update(y=>({...y,[g]:T}))}function G(){u.group&&V(u.group.id,!n)}return t.$$set=g=>{"frame"in g&&i(0,u=g.frame),"rootFrame"in g&&i(1,d=g.rootFrame),"indent"in g&&i(2,f=g.indent)},t.$$.update=()=>{var g,T;if(t.$$.dirty&32769&&(u.group?l[u.group.id??""]||((g=u.group)==null?void 0:g.rootFrame)===u||u.children.filter(y=>!y.group).length>1?i(3,m=!0):i(3,m=!1):i(3,m=!0)),t.$$.dirty&1&&(u.className?i(4,v=`${u.className}.${u.function}`):i(4,v=u.function)),t.$$.dirty&65537)if(c.timeFormat==="absolute")i(5,b=u.time.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}));else if(c.timeFormat==="proportion")i(5,b=`${(h*100).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})}%`);else throw new Error("unknown timeFormat");t.$$.dirty&32769&&i(8,n=l[((T=u.group)==null?void 0:T.id)??""]===!0),t.$$.dirty&16385&&i(9,r=o[u.uuid]===!0)},[u,d,f,m,v,b,A,I,n,r,h,_,R,G,o,l,c]}let Qt=class extends _e{constructor(e){super(),ge(this,e,rn,nn,le,{frame:0,rootFrame:1,indent:2})}};function Zt(t,e,i){let n=t;for(const r of e)if(n=r(n,i),!n)return null;return n}const sn="\0",ln="[await]",Ke="[self]",on=[ln,Ke,"[out-of-context]","[root]"],an="c",cn="h";class Ye{constructor(e,i){F(this,"uuid",crypto.randomUUID());F(this,"identifier");F(this,"_identifierParts");F(this,"startTime");F(this,"time",0);F(this,"absorbedTime",0);F(this,"group",null);F(this,"attributes");F(this,"_children",[]);F(this,"parent",null);F(this,"context");var o;this.identifier=e.identifier,this._identifierParts=this.identifier.split(sn),this.startTime=e.startTime??0,this.time=e.time??0,this.attributes=e.attributes??{},this.context=i;let n=this.startTime;const r=(o=e.children)==null?void 0:o.map(l=>(l.startTime===void 0&&(l={...l,startTime:n},n+=l.time??0),n=l.startTime+(l.time??0),new Ye(l,i)));r&&this.addChildren(r)}cloneDeep(){return new Ye(this,this.context)}get children(){return this._children}addChild(e,i={}){if(e.removeFromParent(),e.parent=this,i.after){const n=this._children.indexOf(i.after);if(n==-1)throw new Error("After frame not found");this._children.splice(n+1,0,e)}else this._children.push(e)}addChildren(e,i={}){e=e.slice(),i.after?(e.slice().reverse(),e.forEach(r=>this.addChild(r,i))):e.forEach(n=>this.addChild(n,i))}removeFromParent(){if(this.parent){const e=this.parent._children.indexOf(this);this.parent._children.splice(e,1),this.parent=null}}getAttributes(e){return Object.keys(this.attributes).filter(n=>n.startsWith(e)).map(n=>({data:n.slice(1),time:this.attributes[n]}))}getAttributeValue(e){const i=this.getAttributes(e);if(!i||i.length==0)return null;let n=0;for(let r=0;r<i.length;r++)i[r].time>i[n].time&&(n=r);return i[n].data}get hasTracebackHide(){return this.getAttributeValue(cn)=="1"}get function(){return this._identifierParts[0]}get filePath(){return this._identifierParts[1]??null}get lineNo(){const e=this._identifierParts[2];return e?parseInt(e):null}get isSynthetic(){return on.includes(this.identifier)}get filePathShort(){return this.isSynthetic&&this.parent?this.parent.filePathShort:this.filePath?this.context.shortenPath(this.filePath):null}get isApplicationCode(){if(this.isSynthetic)return!1;const e=this.filePath;return!e||["/lib/","\\lib\\"].some(n=>e.includes(n))?!1:e.startsWith("<")?!!e.startsWith("<ipython-input-"):!0}get proportionOfParent(){return this.parent?this.time/this.parent.time:1}get className(){return this.getAttributeValue(an)??""}get library(){const e=this.filePathShort;return e?/^[^\\/.]*/.exec(e)[0]:null}}class un{constructor(e){F(this,"id");F(this,"rootFrame");F(this,"_frames",[]);this.id=crypto.randomUUID(),this.rootFrame=e}addFrame(e){e.group&&e.group.removeFrame(e),this._frames.push(e),e.group=this}removeFrame(e){if(e.group!==this)throw new Error("Frame not in group.");const i=this._frames.indexOf(e);if(i===-1)throw new Error("Frame not found in group.");this._frames.splice(i,1),e.group=null}get frames(){return this._frames}get exitFrames(){const e=[];for(const i of this.frames){let n=!1;for(const r of i.children)if(r.group!=this){n=!0;break}n&&e.push(i)}return e}get libraries(){const e=[];for(const i of this.frames){const n=i.library;n&&(e.includes(n)||e.push(n))}return e}}function st(t,e){const{replaceWith:i}=e,n=t.parent;if(!n)throw new Error("Cannot delete the root frame");if(i=="children")n.addChildren(t.children,{after:t});else if(i=="self_time")n.addChild(new Ye({identifier:Ke,time:t.time},n.context),{after:t});else if(i=="nothing")n.absorbedTime+=t.time;else throw new Ni(i);t.removeFromParent(),Ct(t,!0)}function dn(t,e){if(t.parent!==e.parent)throw new Error("Both frames must have the same parent.");e.absorbedTime+=t.absorbedTime,e.time+=t.time,Object.entries(t.attributes).forEach(([i,n])=>{e.attributes[i]!==void 0?e.attributes[i]+=n:e.attributes[i]=n}),e.addChildren(t.children),t.removeFromParent(),Ct(t,!1)}function Ct(t,e){if(e&&t.children&&t.children.forEach(i=>{Ct(i,!0)}),t.group){const i=t.group;i.removeFrame(t),i.frames.length===1&&i.removeFrame(i.frames[0])}}function Ft(t,e){if(!t)return null;for(const i of t.children)Ft(i),i.filePath&&i.filePath.includes("<frozen importlib._bootstrap")&&st(i,{replaceWith:"children"});return t}function kt(t,e){if(!t)return null;for(const i of t.children)kt(i),i.hasTracebackHide&&st(i,{replaceWith:"children"});return t}function qt(t,e){if(!t)return null;const i={};for(const n of t.children.slice())if(i[n.identifier]){const r=i[n.identifier];dn(n,r)}else i[n.identifier]=n;return t.children.forEach(n=>qt(n)),t._children.sort((n,r)=>r.time-n.time),t}function Kt(t,e){if(!t)return null;const i=e.hideRegex,n=e.showRegex;function r(l){const c=l.filePath||"",u=n&&new RegExp(n).test(c),d=i&&new RegExp(i).test(c);return u?!1:d?!0:!l.isApplicationCode}function o(l,c){c.addFrame(l),l.children.forEach(u=>{r(u)&&o(u,c)})}return t.children.forEach(l=>{if(!l.group&&r(l)&&l.children.some(r)){const c=new un(l);o(l,c)}Kt(l,e)}),t}function Yt(t,e,i=!0){if(!t)return null;let n=null;for(const r of t.children)r.identifier===Ke?n?(n.time+=r.time,r.removeFromParent()):n=r:n=null;return i&&t.children.forEach(r=>Yt(r,e,!0)),t}function Xt(t,e){return t?(t.children.length===1&&t.children[0].identifier===Ke&&st(t.children[0],{replaceWith:"nothing"}),t.children.forEach(i=>Xt(i)),t):null}function xt(t,e,i=null){if(!t)return null;i===null&&(i=t.time,i<=0&&(i=1e-44));const n=e.filterThreshold??.01;for(const r of t.children.slice())r.time/i<n&&st(r,{replaceWith:"nothing"});return t.children.forEach(r=>xt(r,e,i)),t}function Jt(t,e){if(!t)return null;const i=l=>{var c;return((c=l.filePath)==null?void 0:c.includes("pyinstrument/__main__.py"))&&l.children.length>0},n=l=>{var c;return l.proportionOfParent>.8&&((c=l.filePath)==null?void 0:c.includes("<string>"))&&l.children.length>0},r=l=>{var c;return l.proportionOfParent>.8&&(new RegExp(".*runpy.py").test(l.filePath??"")||((c=l.filePath)==null?void 0:c.includes("<frozen runpy>")))&&l.children.length>0};let o=t;if(!i(o)||(o=o.children[0],!n(o))||(o=o.children[0],!r(o)))return t;for(;r(o);)o=o.children[0];return o.removeFromParent(),o}function fn(t){let e,i;return e=new Qt({props:{frame:t[2],rootFrame:t[2]}}),{c(){ve(e.$$.fragment)},m(n,r){ae(e,n,r),i=!0},p(n,r){const o={};r&4&&(o.frame=n[2]),r&4&&(o.rootFrame=n[2]),e.$set(o)},i(n){i||(S(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){ce(e,n)}}}function hn(t){let e;return{c(){e=p("div"),e.textContent="All frames were filtered out.",s(e,"class","error")},m(i,n){U(i,e,n)},p:k,i:k,o:k,d(i){i&&N(e)}}}function mn(t){let e,i,n,r,o,l;const c=[hn,fn],u=[];function d(f,m){return f[2]?1:0}return r=d(t),o=u[r]=c[r](t),{c(){e=p("div"),i=p("div"),n=p("div"),o.c(),s(n,"class","margins"),s(i,"class","scroll-inner svelte-gly4tt"),s(e,"class","call-stack-view svelte-gly4tt")},m(f,m){U(f,e,m),a(e,i),a(i,n),u[r].m(n,null),t[6](i),t[7](e),l=!0},p(f,[m]){let h=r;r=d(f),r===h?u[r].p(f,m):(Oe(),O(u[h],1,1,()=>{u[h]=null}),De(),o=u[r],o?o.p(f,m):(o=u[r]=c[r](f),o.c()),S(o,1),o.m(n,null))},i(f){l||(S(o),l=!0)},o(f){O(o),l=!1},d(f){f&&N(e),u[r].d(),t[6](null),t[7](null)}}}function pn(t,e,i){let n,{session:r}=e;const o=Ot([Y],([m])=>{const h=[m.removeImportlib?Ft:null,m.removeTracebackHide?kt:null,Yt,qt,Xt,m.removeIrrelevant?xt:null,m.removePyinstrument?Jt:null,m.collapseMode!=="disabled"?Kt:null].filter(_=>_!==null),v={filterThreshold:m.removeIrrelevantThreshold,hideRegex:m.collapseMode=="custom"?m.collapseCustomHide:void 0,showRegex:m.collapseMode=="custom"?m.collapseCustomShow:void 0};return{processors:h,options:v}});pe(t,o,m=>i(5,n=m));let l,c;Rt(()=>{const m=l;if(!m)throw new Error("element not set");let h;return m.addEventListener("scroll",h=()=>{i(1,c.style.minHeight=`${m.scrollTop+m.clientHeight}px`,c)}),h(),()=>{m.removeEventListener("scroll",h)}});let u;function d(m){Se[m?"unshift":"push"](()=>{c=m,i(1,c)})}function f(m){Se[m?"unshift":"push"](()=>{l=m,i(0,l)})}return t.$$set=m=>{"session"in m&&i(4,r=m.session)},t.$$.update=()=>{t.$$.dirty&48&&i(2,u=Zt(r.rootFrame.cloneDeep(),n.processors,n.options))},[l,c,u,o,r,n,d,f]}class vn extends _e{constructor(e){super(),ge(this,e,pn,mn,le,{session:4})}}class gn{constructor(e){F(this,"mediaQueryList",null);this.onDevicePixelRatioChanged=e,this._onChange=this._onChange.bind(this),this.createMediaQueryList()}createMediaQueryList(){this.removeMediaQueryList();let e=`(resolution: ${window.devicePixelRatio}dppx)`;this.mediaQueryList=matchMedia(e),this.mediaQueryList.addEventListener("change",this._onChange)}removeMediaQueryList(){var e;(e=this.mediaQueryList)==null||e.removeEventListener("change",this._onChange),this.mediaQueryList=null}_onChange(e){this.onDevicePixelRatioChanged(),this.createMediaQueryList()}destroy(){this.removeMediaQueryList()}}class _n{constructor(e){F(this,"canvas");F(this,"_size_observer");F(this,"_devicePixelRatioObserver");F(this,"drawAnimationRequest",null);this.container=e,getComputedStyle(e).position!="absolute"&&(e.style.position="relative"),this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.left="0",this.canvas.style.top="0",this.canvas.style.width="100%",this.canvas.style.height="100%",this.container.appendChild(this.canvas),this.setCanvasSize=this.setCanvasSize.bind(this),this._size_observer=new ResizeObserver(this.setCanvasSize),this._size_observer.observe(e),this._devicePixelRatioObserver=new gn(this.setCanvasSize),window.requestAnimationFrame(()=>{this.setCanvasSize()})}destroy(){this._size_observer.disconnect(),this._devicePixelRatioObserver.destroy(),this.canvas.remove(),this.drawAnimationRequest!==null&&(window.cancelAnimationFrame(this.drawAnimationRequest),this.drawAnimationRequest=null)}setNeedsRedraw(){this.drawAnimationRequest===null&&(this.drawAnimationRequest=window.requestAnimationFrame(()=>{this.drawAnimationRequest=null,this.canvasViewRedraw()}))}redrawIfNeeded(){this.drawAnimationRequest!==null&&(window.cancelAnimationFrame(this.drawAnimationRequest),this.drawAnimationRequest=null,this.canvasViewRedraw())}canvasViewRedraw(){const e=this.canvas.getContext("2d");e&&(e.resetTransform(),e.scale(window.devicePixelRatio,window.devicePixelRatio),this.redraw(e,{width:this.canvas.width/window.devicePixelRatio,height:this.canvas.height/window.devicePixelRatio}))}get width(){return this.canvas.width/window.devicePixelRatio}get height(){return this.canvas.height/window.devicePixelRatio}setCanvasSize(){const e=window.devicePixelRatio;this.canvas.height=this.container.clientHeight*e,this.canvas.width=this.container.clientWidth*e,this.canvasViewRedraw()}}const bn="#212325",wn=18,yn=17,Xe=28,lt=17,An=29,Cn=["#47A298","#9FC175","#C1A731","#C07210","#B84210","#B53134","#9A3586","#4958B5","#3475BA","#318DBC","#47A298"].map(Gi);class Fn extends _n{constructor(i){super(i);F(this,"zoom",1);F(this,"startT",0);F(this,"frames",[]);F(this,"isZoomedIn",!1);F(this,"_frameMaxT");F(this,"lastDrawWidth",0);F(this,"lastDrawHeight",0);F(this,"mouseLocation",null);F(this,"_libraryOrder",null);F(this,"_colors",[]);this.onWheel=this.onWheel.bind(this),this.canvas.addEventListener("wheel",this.onWheel)}destroy(){super.destroy(),this.canvas.removeEventListener("wheel",this.onWheel)}setRootFrame(i){this.frames=[],this._frameMaxT=void 0,this._collectFrames(i,0),this.fitContents(),this.setNeedsRedraw()}_collectFrames(i,n){this.frames.push({frame:i,depth:n,isApplicationCode:i.isApplicationCode,library:i.library,className:i.className,filePathShort:i.filePathShort});for(const r of i.children)r.identifier!==Ke&&this._collectFrames(r,n+1)}get frameMaxT(){return this._frameMaxT===void 0&&(this._frameMaxT=this.frames.reduce((i,n)=>Math.max(i,n.frame.startTime+n.frame.time),0)),this._frameMaxT}get minZoom(){return(this.width-2*Xe)/this.frameMaxT}get maxZoom(){return 6666666666666667e-8}fitContents(){this.startT=0,this.zoom=this.minZoom,this.isZoomedIn=!1}clampViewport(){this.zoom<this.minZoom?(this.zoom=this.minZoom,this.isZoomedIn=!1):this.isZoomedIn=!0,this.zoom>this.maxZoom&&(this.zoom=this.maxZoom),this.startT<0&&(this.startT=0);const i=this.frameMaxT-(this.width-2*Xe)/this.zoom;this.startT>i&&(this.startT=i)}redraw(i,n){const{width:r,height:o}=n;(r!==this.lastDrawWidth||o!==this.lastDrawHeight)&&(this.isZoomedIn?this.clampViewport():this.fitContents()),this.lastDrawWidth=r,this.lastDrawHeight=o,i.fillStyle=bn,i.fillRect(0,0,r,o),this.drawAxes(i);for(const l of this.frames)this.drawFrame(i,l);i.globalAlpha=1,i.fillStyle="red",i.font='23px "Source Sans Pro", sans-serif'}drawAxes(i){const n=this.width/this.zoom;if(n==0)return;const r=Math.log10(n);let o=Math.ceil(r)+2;o<0&&(o=0);const l=Math.ceil(r)-3,c=u=>$e(u,{from:[r,r-3],to:[.71,0]});for(let u=l;u<o;u++){let d=c(u);d=Math.max(0,Math.min(1,d)),d=Math.pow(d,2),this.drawAxis(i,Math.pow(10,u),d)}this.drawAxis(i,Math.pow(10,o),c(o),!0)}drawAxis(i,n,r,o=!1){i.fillStyle="white";const l=Math.floor(this.startT/n)*n,c=this.startT+this.width/this.zoom,u=Math.max(0,Math.ceil(-Math.log10(n)));for(let d=l;d<c;d+=n){const f=this.xForT(d);if(Math.round(d/n)%10===0&&!o)continue;i.globalAlpha=r,i.fillRect(f,lt,1,this.height-lt);const h=$e(r,{from:[.12,.25],to:[0,.5],clamp:!0});if(h>.01){i.globalAlpha=h,i.font='13px "Source Sans Pro", sans-serif';let v=d.toFixed(u);v=="0"&&(v="0s"),i.fillText(v,f+3,lt+10)}i.globalAlpha=1}}drawFrame(i,n){const r=n.depth*wn+lt+An,o=yn;let l=this.xForT(n.frame.startTime);const c=this.xForT(n.frame.startTime+n.frame.time);let u=c-l;if(!(c<0||l>this.width)){if(u<1&&(u=1),u>1&&(u-=$e(u,{from:[1,3],to:[0,1],clamp:!0})),i.fillStyle=this.colorForFrame(n),i.globalAlpha=n.isApplicationCode?1:.5,u<2){i.fillRect(l,r,u,o);return}if(i.save(),i.beginPath(),i.rect(l,r,u,o),i.fill(),i.clip(),u>2){i.font='13px "Source Sans Pro", sans-serif',i.fillStyle="white";let d;n.className?d=`${n.className}.${n.frame.function}`:n.frame.function=="<module>"?d=n.filePathShort??n.frame.filePath??"":d=n.frame.function,l<0&&(l=0);const f=Math.floor(u/3.3);d.length>f&&(d=d.substring(0,f)),i.fillText(d,l+2,r+13)}i.restore()}}xForT(i){return(i-this.startT)*this.zoom+Xe}tForX(i){return(i-Xe)/this.zoom+this.startT}onWheel(i){const n=i.ctrlKey||i.metaKey,r=n?.01:.0023,o=this.tForX(i.offsetX);this.zoom*=1-i.deltaY*r,this.clampViewport(),this.startT=o-(i.offsetX-Xe)/this.zoom,n||(this.startT+=i.deltaX/this.zoom),this.clampViewport(),this.setNeedsRedraw(),i.preventDefault()}onMouseMove(i){this.mouseLocation={x:i.offsetX,y:i.offsetY},this.setNeedsRedraw()}onMouseLeave(i){this.mouseLocation=null,this.setNeedsRedraw()}_assignLibraryOrder(){const i={};for(const r of this.frames){const l=r.frame.library??"";i[l]=(i[l]||0)+1}const n=Object.keys(i);n.sort((r,o)=>i[o]-i[r]),this._libraryOrder=n}colorForLibraryIndex(i){if(this._colors[i]!==void 0)return this._colors[i];const n=Math.pow(2,Math.ceil(Math.log2(i+1))),o=(2*i-n+1)/n,l=zi(Cn,o);return this._colors[i]=l,l}libraryIndexForFrame(i){this._libraryOrder||this._assignLibraryOrder();const n=i.library||"";let r=this._libraryOrder.indexOf(n);return r===-1&&(r=this._libraryOrder.length,this._libraryOrder.push(n)),r}colorForFrame(i){const n=this.libraryIndexForFrame(i);return this.colorForLibraryIndex(n)}}function kn(t){let e;return{c(){e=p("div"),e.innerHTML="",s(e,"class","timeline svelte-1ekyre4")},m(i,n){U(i,e,n),t[6](e)},p:k,i:k,o:k,d(i){i&&N(e),t[6](null)}}}function Tn(t,e,i){let n,{session:r}=e;const o=Ot([qe],([f])=>({processors:[f.removeImportlib?Ft:null,f.removeTracebackHide?kt:null,f.removePyinstrument?Jt:null].filter(v=>v!==null),options:{}}));pe(t,o,f=>i(5,n=f));let l,c=null,u=null;function d(f){Se[f?"unshift":"push"](()=>{c=f,i(0,c)})}return t.$$set=f=>{"session"in f&&i(2,r=f.session)},t.$$.update=()=>{t.$$.dirty&36&&i(3,l=Zt(r.rootFrame.cloneDeep(),n.processors,n.options)),t.$$.dirty&1&&c&&i(4,u=new Fn(c)),t.$$.dirty&24&&l&&u&&u.setRootFrame(l)},[c,o,r,l,u,n,d]}class En extends _e{constructor(e){super(),ge(this,e,Tn,kn,le,{session:2})}}function Mn(t){let e,i,n=t[1].viewMode+"",r;return{c(){e=p("div"),i=P("Unknown view mode: "),r=P(n),s(e,"class","error")},m(o,l){U(o,e,l),a(e,i),a(e,r)},p(o,l){l&2&&n!==(n=o[1].viewMode+"")&&Me(r,n)},i:k,o:k,d(o){o&&N(e)}}}function Pn(t){let e,i;return e=new En({props:{session:t[0]}}),{c(){ve(e.$$.fragment)},m(n,r){ae(e,n,r),i=!0},p(n,r){const o={};r&1&&(o.session=n[0]),e.$set(o)},i(n){i||(S(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){ce(e,n)}}}function In(t){let e,i;return e=new vn({props:{session:t[0]}}),{c(){ve(e.$$.fragment)},m(n,r){ae(e,n,r),i=!0},p(n,r){const o={};r&1&&(o.session=n[0]),e.$set(o)},i(n){i||(S(e.$$.fragment,n),i=!0)},o(n){O(e.$$.fragment,n),i=!1},d(n){ce(e,n)}}}function Rn(t){let e;return{c(){e=p("div"),e.innerHTML='<div class="spacer" style="height: 20px;"></div> <div class="error">No samples recorded.</div>',s(e,"class","margins")},m(i,n){U(i,e,n)},p:k,i:k,o:k,d(i){i&&N(e)}}}function Sn(t){let e,i,n,r,o,l,c,u;n=new en({props:{session:t[0]}});const d=[Rn,In,Pn,Mn],f=[];function m(h,v){return h[0].rootFrame?h[1].viewMode==="call-stack"?1:h[1].viewMode==="timeline"?2:3:0}return l=m(t),c=f[l]=d[l](t),{c(){e=p("div"),i=p("div"),ve(n.$$.fragment),r=w(),o=p("div"),c.c(),s(i,"class","header"),s(o,"class","body svelte-15bv5h8"),s(e,"class","app svelte-15bv5h8")},m(h,v){U(h,e,v),a(e,i),ae(n,i,null),a(e,r),a(e,o),f[l].m(o,null),u=!0},p(h,[v]){const _={};v&1&&(_.session=h[0]),n.$set(_);let b=l;l=m(h),l===b?f[l].p(h,v):(Oe(),O(f[b],1,1,()=>{f[b]=null}),De(),c=f[l],c?c.p(h,v):(c=f[l]=d[l](h),c.c()),S(c,1),c.m(o,null))},i(h){u||(S(n.$$.fragment,h),S(c),u=!0)},o(h){O(n.$$.fragment,h),O(c),u=!1},d(h){h&&N(e),ce(n),f[l].d()}}}function Hn(t,e,i){let n;pe(t,Ze,m=>i(1,n=m));let{session:r}=e;const o=document.createElement("link");o.rel="shortut icon",o.href=tn,document.head.appendChild(o);const l=document.createElement("link");l.rel="preload",l.as="style",l.onload=()=>{l.rel="stylesheet"},l.href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,600|Source+Sans+Pro:400,600&display=swap",document.head.appendChild(l);const c=r.rootFrame,u=c==null?void 0:c.time.toLocaleString(void 0,{maximumSignificantDigits:3});r.target_description="Block at /Users/joerick/Projects/pyinstrument/pyinstrument/console.py:80";let d,f;return(f=/[^\s/]+(:\d+)?$/.exec(r.target_description))?d=f[0]:d=r.target_description,document.title=`${u}s - ${d} - pyinstrument`,t.$$set=m=>{"session"in m&&i(0,r=m.session)},[r,n]}class Vn extends _e{constructor(e){super(),ge(this,e,Hn,Sn,le,{session:0})}}class On{constructor(e){F(this,"startTime");F(this,"duration");F(this,"sampleCount");F(this,"target_description");F(this,"cpuTime");F(this,"rootFrame");F(this,"sysPath");F(this,"_shortenPathCache",{});this.startTime=e.session.start_time,this.duration=e.session.duration,this.sampleCount=e.session.sample_count,this.target_description=e.session.target_description,this.cpuTime=e.session.cpu_time,this.sysPath=e.session.sys_path,this.rootFrame=new Ye(e.frame_tree,this)}shortenPath(e){if(this._shortenPathCache[e])return this._shortenPathCache[e];let i=e;if(Be(e).length>1)for(const r of this.sysPath){const o=Dn(e,r);Be(o).length<Be(i).length&&(i=o)}return this._shortenPathCache[e]=i,i}}function Be(t){return t.split(/[/\\]/)}function ei(t){const e=Be(t);return e.length>0&&e[0].endsWith(":")?e[0]:null}function Dn(t,e){if(ei(t)!=ei(e))return t;const i=Be(t),n=Be(e);let r=0;for(;r<i.length&&r<n.length&&i[r]==n[r];)r++;return n.slice(r).map(l=>"..").concat(i.slice(r)).join("/")}return{render(t,e){const i=new On(e);return new Vn({target:t,props:{session:i}})}}}();
